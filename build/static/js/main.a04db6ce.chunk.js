(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{104:function(e,t,a){e.exports=a.p+"static/media/logo.e2142875.svg"},201:function(e,t,a){e.exports=a.p+"static/media/UserTutorials.d44d2e9e.pdf"},216:function(e,t,a){e.exports=a(415)},242:function(e,t,a){},415:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(14),o=a.n(l),i=a(8),c=a.n(i),s=a(19),m=a(42),u=a(43),d=a(47),p=a(46),h=a(205),E=a(507),f=a(420),g=a(508),b=a(509),y=a(20),v=a.n(y),w=a(13),x=a(18),O=a(21),j=a(24),C=(a(242),function(e){return{type:"USER_SET",payload:e}}),k=function(e){return{type:"LORELINE_CHANGED",payload:e}},I=function(e){return{type:"SET_LORELINE_ARRAY",payload:e}},N=function(e){return{type:"SET_LOADING",payload:e}},S=function(e){return{type:"SET_THEME",payload:e}},D=function(e){return{type:"SET_WINDOW_WIDTH",payload:e}},L=function(e){return{type:"SET_WINDOW_HEIGHT",payload:e}},A=function(e){return console.log("set instance to: ",e),{type:"INSTANCEID_CHANGED",payload:e}},T=function(e,t,a){return console.log("Passed in values are: ",a),function(n){return v.a.get("".concat("https://lorelines-expressapi.herokuapp.com/api/lorelines","/").concat(e,"/entities/").concat(t,"/instances/").concat(a)).then((function(e){n(_(e.data))})).catch((function(e){throw e}))}},_=function(e){return console.log("Should be instance object: ",e),{type:"INSTANCE_CHANGED",payload:e}},W=function(e){return console.log("set entity to: ",e),{type:"ENTITY_CHANGED",payload:e}},R=function(e){return console.log("set directory to: ",e),{type:"DIRECTORY_CHANGED",payload:e}},F=a(7),B=a(104),P=a.n(B),z=a(453),M=a(456),H=a(50),G=a(514),U=a(463),Q=a(418),V=a(419),Z=a(464),X=a(465),Y=a(466),K=a(467),J=a(58),q=a.n(J),$=Object(z.a)((function(e){return{content:{flexGrow:1},link:{color:e.palette.secondary.main,textDecoration:"underline"},field:{width:"20vw",minWidth:"250px"},error:{color:e.palette.error.main}}}));function ee(e){var t=Object(n.useState)(""),a=Object(F.a)(t,2),l=a[0],o=a[1],i=Object(n.useState)(""),m=Object(F.a)(i,2),u=m[0],d=m[1],p=Object(n.useState)(!1),h=Object(F.a)(p,2),E=h[0],f=h[1],g=Object(n.useState)(!1),b=Object(F.a)(g,2),y=b[0],v=b[1],w=Object(n.useState)(!1),x=Object(F.a)(w,2),j=x[0],C=x[1],k=$(),I=function(){var t=Object(s.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),f(!0),!q.a.validate(l)||""===u){t.next=10;break}return t.next=5,e.tryLogin(l,u);case 5:return(n=t.sent)||v(!0),t.abrupt("return",n);case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("main",{className:k.content},r.a.createElement("form",null,r.a.createElement(M.a,{style:{minHeight:"100vh",textAlign:"center"},container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement("img",{alt:"logo",src:P.a,width:160}),r.a.createElement("br",null),r.a.createElement(M.a,{item:!0},r.a.createElement(H.a,{style:{padding:2,fontWeight:900,fontSize:50}},"Log in to Lorelines")),r.a.createElement(M.a,{item:!0},r.a.createElement(G.a,{className:k.field,error:E&&""===l||E&&!q.a.validate(l),helperText:E&&""===l?"this field cannot be empty":E&&!q.a.validate(l)?"invalid email address":"",name:"email",label:"Email",type:"email",variant:"outlined",margin:"normal",autoComplete:"off",InputProps:{startAdornment:r.a.createElement(U.a,{position:"start"},r.a.createElement(Z.a,{color:"secondary"}))},inputProps:{dataTestId:"loginEmail"},value:l,onChange:function(e){return o(e.target.value)}})),r.a.createElement(M.a,{item:!0},r.a.createElement(G.a,{className:k.field,error:E&&""===u,helperText:E&&""===u?"this field cannot be empty":"",name:"password",label:"Password",variant:"outlined",margin:"normal",type:j?"text":"password",autoComplete:"off",InputProps:{startAdornment:r.a.createElement(U.a,{position:"start"},r.a.createElement(X.a,{color:"secondary"})),endAdornment:r.a.createElement(U.a,{position:"end"},r.a.createElement(Q.a,{"aria-label":"toggle password visibility",onClick:function(){return C(!j)},onMouseDown:function(e){return e.preventDefault()}},j?r.a.createElement(Y.a,null):r.a.createElement(K.a,null)))},inputProps:{dataTestId:"loginPassword"},value:u,onChange:function(e){return d(e.target.value)}})),y&&r.a.createElement(M.a,{item:!0},r.a.createElement(H.a,{className:k.error,style:{padding:5,fontSize:16}},"an incorrect email or password was provided",r.a.createElement("br",null),"please try again")),r.a.createElement(M.a,{item:!0},r.a.createElement(V.a,{dataTestId:"loginSubmit",style:{marginTop:16,padding:5,fontSize:22,borderRadius:"50px",width:"260px"},type:"submit",color:"primary",variant:"contained",onClick:function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"Log in")),r.a.createElement(M.a,{item:!0},r.a.createElement(H.a,{style:{padding:5,fontSize:16}},"I forgot"," ",r.a.createElement(O.b,{className:k.link,to:"/forgot"},"my password"))),r.a.createElement(M.a,{item:!0},r.a.createElement(H.a,{style:{padding:30,fontSize:20}},"Don't have a Lorelines account?"," ",r.a.createElement(O.b,{className:k.link,to:"/register"},"Click here"))))))}var te=a(103),ae=a(32),ne=a(28),re=a(3),le=a(29),oe=a(468),ie=a(470),ce=a(471),se=a(469),me=a(472),ue=Object(z.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},toolbar:Object(ne.a)({display:"flex",alignItems:"center",justifyContent:"flex-end"},e.mixins.toolbar),logo:Object(ae.a)({fill:"#fff",height:35},e.breakpoints.up("md"),{height:50}),orange:{fill:e.palette.primary.main},logoutButton:{color:e.palette.primary.main,backgroundColor:"white",fontSize:14,fontWeight:"bolder",marginLeft:"auto",marginRight:0,"&:hover":{backgroundColor:"#303030",color:e.palette.primary.main}},logoutIcon:{marginLeft:"auto",marginRight:0}}}));function de(e){var t=ue(),a=Object(le.a)(),n=Object(oe.a)(a.breakpoints.up("md"));function l(){return n?r.a.createElement(V.a,{dataTestId:"logout",className:t.logoutButton,onClick:e.logout},"Log Out"):r.a.createElement(Q.a,{className:t.logoutIcon,onClick:e.logout},r.a.createElement(se.a,null))}return r.a.createElement("div",{className:t.root},r.a.createElement(ie.a,{position:"fixed",className:Object(re.a)(t.appBar,Object(ae.a)({},t.appBarShift,e.drawerOpen))},r.a.createElement(ce.a,null,r.a.createElement(Q.a,{color:"inherit","aria-label":"open drawer",onClick:function(){return e.setDrawerOpen(!0)},edge:"start",className:Object(re.a)(t.menuButton,e.drawerOpen&&t.hide)},r.a.createElement(me.a,null)),r.a.createElement("svg",{className:t.logo,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 41.17 41.17"},r.a.createElement("g",{id:"Layer_2","data-name":"Layer 2"},r.a.createElement("g",{id:"Layer_1-2","data-name":"Layer 1"},r.a.createElement("circle",{className:"cls-1",cx:"20.58",cy:"20.58",r:"20.58"}),r.a.createElement("path",{className:t.orange,d:"M16.76,13.22a.46.46,0,0,0,.74-.12l1.21-2.4a1.51,1.51,0,0,0-.91-2.11A1.55,1.55,0,0,0,16,9.43l-.86,1.71a.46.46,0,0,0,.09.54Z"}),r.a.createElement("path",{className:t.orange,d:"M13.08,16.61a.47.47,0,0,0-.75.13L5.46,30.47a1.51,1.51,0,0,0,1.15,2.16,1.54,1.54,0,0,0,1.57-.87l6.53-13.07a.47.47,0,0,0-.09-.54Z"}),r.a.createElement("path",{className:t.orange,d:"M34.56,8.53A1.55,1.55,0,0,0,33,9.41L26.46,22.48a.46.46,0,0,0,.09.53l1.54,1.54a.46.46,0,0,0,.75-.12L35.71,10.7A1.51,1.51,0,0,0,34.56,8.53Z"}),r.a.createElement("path",{className:t.orange,d:"M24.41,28a.46.46,0,0,0-.75.12l-1.2,2.4a1.51,1.51,0,0,0,.91,2.11,1.55,1.55,0,0,0,1.81-.84L26,30a.46.46,0,0,0-.09-.54Z"}),r.a.createElement("path",{className:t.orange,d:"M10.81,8.68a1.51,1.51,0,0,0-2.13,2.13L30.36,32.48a1.5,1.5,0,0,0,2.12-2.12Z"})))),r.a.createElement("svg",{className:t.logo,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 168.56 43.24"},r.a.createElement("g",{id:"Layer_2","data-name":"Layer 2"},r.a.createElement("g",{id:"Layer_1-2","data-name":"Layer 1"},r.a.createElement("path",{className:"cls-1",d:"M21.74,35.33c-6.19,0-11.95,4-15.55,4-.72,0-.92-.48-.92-1C5.27,27.81,21.54,4.2,31.73,4.2c1.28,0,1.8.52,1.8,1.35,0,3.28-8.11,11.31-13.31,11.31-.76,0-.92-.68-1.28-.68s-.36.84-.36,1.08c0,2.56,1.92,3.12,3.88,3.12,6.27,0,15.78-10.19,15.78-16.14C38.24,1.76,36.61,0,32.37,0,15.71,0,0,29.41,0,39c0,2.64,2.76,4.2,5.63,4.2,6.44,0,11.11-3,16.59-3a1.94,1.94,0,0,0,2-2A2.57,2.57,0,0,0,21.74,35.33Z"}),r.a.createElement("path",{className:"cls-1",d:"M88.64,36.53c-1.12,0-1.6.52-2.6.52-1.68,0-2.32-1.6-2.32-4a25.51,25.51,0,0,1,.64-5.12C93.15,25.42,99,18.1,99,13.19c0-2.72-1.76-4.68-5.84-4.68-5.83,0-11.86,9.23-14.14,17.87l-1.68.24a.77.77,0,0,0-.38.1c-.62-.9-2.08-1.5-4.66-1.5a13.2,13.2,0,0,0-7.6,2.42,5.59,5.59,0,0,1-2.31.81c-2.83,0-.72-2.51-4.15-2.51s-7.48,5.11-8,5.11h0c-.08,0-.12-.08-.12-.2a12.1,12.1,0,0,0,.88-3.92c0-.91-.28-1.63-1.12-1.63C48,25.3,44,29.41,39.36,29.41h0a8.15,8.15,0,0,1-8,7.16c-1.36,0-1.76-.76-1.76-1.6,0-3.76,5.92-6,10.91-6.4.64-.2,1.32-1.75,1.32-2.87,0-.64-.2-1.12-.76-1.16s-.88,0-1.32,0c-8.35,0-15,6.87-15,11.63,0,2.55,1.92,4.47,6.43,4.47,5.44,0,11.19-3.39,11.51-7.59A5.54,5.54,0,0,0,46,30.53a1.21,1.21,0,0,1,.36,1c0,1.76-1.8,6.51-1.8,7.27,0,1,1.6,1.36,3.24,1.36,1.87,0,2-1.16,2.83-2.2,1-1.63,4.2-6.39,6-6.39.8,0,1.24.84,2.32.84a6.74,6.74,0,0,0,1.74-.26,7.57,7.57,0,0,0-.86,3.34c0,2.87,2.19,5.27,7.43,5.27,4.39,0,9.11-2,9.11-4.71,0-.6-.44-1-1.24-1-1.48,0-2.4,1.72-5.31,1.72-3.48,0-3.48-1-3.48-1,5.33-.66,10.1-4.33,10.84-7.15a2,2,0,0,0,.91.19h.32a21.72,21.72,0,0,0-.4,4.12c0,4.56,1.76,7.91,6.11,7.91,2.28,0,5.36-1.44,5.36-3.31C89.48,36.81,89.32,36.53,88.64,36.53ZM91.2,12.27c1,0,1.59,1,1.59,2.44,0,2.63-2,6.91-7.51,9.63C87.08,18.26,89.92,12.27,91.2,12.27ZM66,32.69c-.32,0-.4-.16-.4-.4,0-1.88,3.24-4,4.88-4,.56,0,1.11.12,1.11.6C71.61,30.33,68,32.69,66,32.69Z"}),r.a.createElement("path",{className:"cls-1",d:"M101.23,35.05c-1.16,0-.92.84-2.48.84s-2.32-1.32-2.32-2.8c0-1.64,1.68-5.24,1.68-5.88a.75.75,0,0,0-.84-.71,13.7,13.7,0,0,0-4.12,1.11c-1.15,1.76-1.91,6.44-1.91,8.56,0,3.11,2.23,4.31,4.59,4.31,3.12,0,6.72-2.08,6.72-4.51A1.22,1.22,0,0,0,101.23,35.05Z"}),r.a.createElement("path",{className:"cls-1",d:"M162.61,28.89a27.75,27.75,0,0,0-4,.32,5.25,5.25,0,0,0-5-3.95c-5.48,0-14.79,11.71-20.38,11.71-1.44,0-1.64-.64-1.64-1a.49.49,0,0,1,0-.2c5.79-.72,11-5,11-7.88,0-1.51-1.44-2.67-5-2.67-6.41,0-11.31,4.63-12.25,8.81-1,.29-3.2,1.58-4.69,1.58-1,0-1-.84-1-1.28,0-1.32.72-2.12.72-3.6s-1.36-1.92-2.76-1.92c-3,0-7.55,3.68-8.19,3.68a.33.33,0,0,1-.32-.36c0-.6.84-2.12.84-3.44,0-1.16-.68-2.15-3.16-2.15C101,26.54,101,30,101,30c0,.72.36,1.48,1.08,1.48s1.55-.64,2.47-.64a1.44,1.44,0,0,1,1.64,1.52c0,1.76-1.8,5-1.8,6.23,0,1,1.08,1.36,1.88,1.36a2.5,2.5,0,0,0,1.56-.56c.56-.48,5.4-5,6.24-5s.83.4.83,1c0,3,.12,4.47,2.6,4.47a13.56,13.56,0,0,0,7.86-3.05c.61,2.24,2.86,3.93,7.25,3.93,8.51,0,16.5-10.95,19.06-10.95a3.34,3.34,0,0,1,2,.56c-4.84,1.52-9,4-9,7.2,0,1.55,1.44,2.71,4.63,2.71,6.88,0,9.79-4.51,9.79-8.59v0c2.68.24,5.44,1.2,5.44,3.32,0,.4-.08.72-.08,1s.2.4.48.4c1.12,0,3.71-1.68,3.71-3.6S166.61,28.89,162.61,28.89Zm-31.69,3.4c0-1.88,3.24-4,4.87-4,.56,0,1.12.12,1.12.6,0,1.44-3.63,3.8-5.59,3.8C131,32.69,130.92,32.53,130.92,32.29Zm20.34,3.48c-.68,0-1-.36-1-.8,0-1.48,2-2.6,4.36-3.12a3.33,3.33,0,0,1,.12.88C154.78,34.25,153.66,35.77,151.26,35.77Z"})))),r.a.createElement(l,null))),r.a.createElement("div",{className:t.toolbar}))}var pe=a(517),he=a(474),Ee=a(462),fe=a(421),ge=a(475),be=a(477),ye=a(473),ve=a(476),we=a(478),xe=a(479),Oe=a(480),je=a(481),Ce=a(482),ke=Object(z.a)((function(e){return{drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{overflowX:"hidden",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(ae.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:58},e.breakpoints.up("sm"),{width:58}),toolbar:Object(ne.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),link:{color:e.palette.secondary.main,textDecoration:"underline"}}})),Ie=Object(w.b)((function(e){return{loreline:e.lorelineId}}))((function(e){var t,a,n=ke();return r.a.createElement("div",null,r.a.createElement(pe.a,{variant:"permanent",className:Object(re.a)(n.drawer,(t={},Object(ae.a)(t,n.drawerOpen,e.drawerOpen),Object(ae.a)(t,n.drawerClose,!e.drawerOpen),t)),classes:{paper:Object(re.a)((a={},Object(ae.a)(a,n.drawerOpen,e.drawerOpen),Object(ae.a)(a,n.drawerClose,!e.drawerOpen),a))},open:e.drawerOpen},r.a.createElement("div",{className:n.toolbar},r.a.createElement(Q.a,{onClick:function(){return e.setDrawerOpen(!1)}},r.a.createElement(ye.a,{color:"secondary"}))),r.a.createElement(he.a,null),r.a.createElement(Ee.a,null,r.a.createElement(O.b,{className:n.link,to:"/app/account"},r.a.createElement(fe.a,{button:!0,key:"Account",dataTestId:"accountLink"},r.a.createElement(ge.a,null,r.a.createElement(ve.a,{color:"secondary"})),r.a.createElement(be.a,{primary:"Account"}))),r.a.createElement(O.b,{className:n.link,to:"/app/lorelines",dataTestId:"lorelinesLink"},r.a.createElement(fe.a,{button:!0,key:"Lorelines"},r.a.createElement(ge.a,null,r.a.createElement(we.a,{color:"secondary"})),r.a.createElement(be.a,{primary:"Lorelines"})))),r.a.createElement(he.a,null),r.a.createElement(Ee.a,null,null!=e.loreline?r.a.createElement(O.b,{className:n.link,to:"/app/timeline"},r.a.createElement(fe.a,{button:!0,key:"Timeline"},r.a.createElement(ge.a,null,r.a.createElement(xe.a,{color:"secondary"})),r.a.createElement(be.a,{primary:"Timeline"}))):r.a.createElement(fe.a,{button:!0,key:"Timeline",disabled:!0},r.a.createElement(ge.a,null,r.a.createElement(xe.a,{color:"secondary"})),r.a.createElement(be.a,{primary:"Timeline"})),null!=e.loreline?r.a.createElement(O.b,{dataTestId:"directoryLink",className:n.link,to:"/app/directory"},r.a.createElement(fe.a,{button:!0,key:"Directory"},r.a.createElement(ge.a,null,r.a.createElement(Oe.a,{color:"secondary"})),r.a.createElement(be.a,{primary:"Directory"}))):r.a.createElement(fe.a,{button:!0,key:"Directory",disabled:!0},r.a.createElement(ge.a,null,r.a.createElement(Oe.a,{color:"secondary"})),r.a.createElement(be.a,{primary:"Directory"}))),r.a.createElement(he.a,null),r.a.createElement(Ee.a,null,r.a.createElement(O.b,{className:n.link,to:"/app/about"},r.a.createElement(fe.a,{button:!0,key:"About Lorelines"},r.a.createElement(ge.a,null,r.a.createElement(je.a,{color:"secondary"})),r.a.createElement(be.a,{primary:"About Lorelines"}))),r.a.createElement(O.b,{className:n.link,to:"/app/help"},r.a.createElement(fe.a,{button:!0,key:"Help",dataTestId:"helpLink"},r.a.createElement(ge.a,null,r.a.createElement(Ce.a,{color:"secondary"})),r.a.createElement(be.a,{primary:"Help"}))))))}));var Ne=a(194),Se=a.n(Ne),De=a(195),Le=a.n(De),Ae=a(197),Te=a.n(Ae),_e=a(196),We=a.n(_e),Re=Object(z.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:120,flexShrink:0},drawerPaper:{width:120},content:{flexGrow:1,padding:e.spacing(3)},toolbar:e.mixins.toolbar}}));function Fe(){var e=Re();return r.a.createElement("main",{className:e.root},r.a.createElement(M.a,{style:{height:"70vh",width:"70vw",textAlign:"center"},direction:"row",justify:"center",alignItems:"center",container:!0},r.a.createElement(M.a,{item:!0},r.a.createElement(H.a,null,"Canvas and Drag/Drop Components in progress"))),r.a.createElement("div",null,r.a.createElement(pe.a,{className:e.drawer,variant:"permanent",anchor:"right"},r.a.createElement("div",{className:e.toolbar}),r.a.createElement(Ee.a,null,r.a.createElement(fe.a,{button:!0,key:"Event Node"},r.a.createElement(ge.a,null,r.a.createElement(Se.a,{color:"secondary"})),r.a.createElement(be.a,{primary:"Event Node"})),r.a.createElement(fe.a,{button:!0,key:"Branching Event Node"},r.a.createElement(ge.a,null,r.a.createElement(Le.a,{color:"secondary"})),r.a.createElement(be.a,{primary:"Branching Node"})),r.a.createElement(fe.a,{button:!0,key:"Tether"},r.a.createElement(ge.a,null,r.a.createElement(We.a,{color:"secondary"})),r.a.createElement(be.a,{primary:"Tether"})),r.a.createElement(he.a,null),r.a.createElement(fe.a,{button:!0,key:"Warp Node"},r.a.createElement(ge.a,null,r.a.createElement(Te.a,{color:"secondary"})),r.a.createElement(be.a,{primary:"Warp Node"}))))))}var Be=Object(z.a)((function(e){return{root:{flexGrow:1},link:{color:e.palette.secondary.main,textDecoration:"underline"}}})),Pe=Object(w.b)((function(e){return{user:e.user,window:e.window,lorelineArray:e.lorelineArray,theme:e.theme,directory:e.directory}}),(function(e){return Object(x.b)({setTheme:S},e)}))((function(e){var t=Be();if(!e.user.id)return r.a.createElement("p",null);var a=e.user.id.toString().substring(0,8),n=new Date(1e3*parseInt(a,16));return r.a.createElement("main",{className:t.root},r.a.createElement(M.a,{style:{height:e.window.height,textAlign:"center"},direction:"column",justify:"center",alignItems:"center",container:!0},r.a.createElement(M.a,{item:!0},r.a.createElement(H.a,{variant:"h2",gutterBottom:!0},"Hello ",e.user.name||"null",", this is your account view")),r.a.createElement(M.a,{item:!0},r.a.createElement(H.a,{variant:"h5",gutterBottom:!0},"Member Since: ",n.toString()||"null"),r.a.createElement(H.a,{variant:"h5",gutterBottom:!0},"Email: ",e.user.email||"null"),r.a.createElement(H.a,{variant:"h5",gutterBottom:!0},"Lorelines: ",e.lorelineArray.length||"null",r.a.createElement("b",null,"/50")),r.a.createElement(H.a,{variant:"h5",gutterBottom:!0},"Entities: ",e.directory.length||"null",r.a.createElement("b",null,"/500")),r.a.createElement(H.a,{variant:"h5",gutterBottom:!0},"Instances: ",e.directory.length||"null",r.a.createElement("b",null,"/1000")),r.a.createElement(H.a,{variant:"h5",gutterBottom:!0},"Website Theme"),r.a.createElement(V.a,{onClick:function(t){e.setTheme("dark"),console.log("DARK THEME  0_0")},variant:"contained",color:"default",dataTestId:"darkModeButton"},"Dark"),r.a.createElement(V.a,{onClick:function(t){e.setTheme("light"),console.log("LIGHT THEME >.<")},variant:"contained",color:"default",dataTestId:"lightModeButton"},"Light"))))}));var ze=a(498),Me=a(483),He=a(488),Ge=a(460),Ue=a(484),Qe=a(485),Ve=a(486),Ze=a(487),Xe=(a(245),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).handleInstanceSelect=function(e,t){n.props.setInstanceId(e),n.props.setInstance(n.props.lorelineId,t,e),n.props.setMode(n.props.modes.INSTANCE_VIEWER)},n.handleEntityDropdown=function(e){n.setState(Object(ae.a)({},e,!n.state[e]))},n.handleEntityDelete=function(e,t,a){n.setState({anchorEl:e.currentTarget,deleteEntityId:t,deleteEntityName:a})},n.handleEntityDeleteCancel=function(){n.setState({anchorEl:null,deleteEntityId:null,deleteEntityName:null})},n.deleteEntityFromDB=function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.props.setLoading(!0),e.prev=2,e.next=5,v.a.delete("https://lorelines-expressapi.herokuapp.com/api/lorelines/".concat(n.props.lorelineId,"/entities/").concat(n.state.deleteEntityId)).then((function(){console.log(n.state.deleteEntityId+" deleted!"),n.handleEntityDeleteCancel(),n.props.setLoading(!1),n.props.updateList()}));case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),n.handleEntityInstantiation=function(e){n.props.setEntityId(e),n.props.setMode(n.props.modes.INSTANCE_CREATION)},n.state={open:{},anchorEl:null,deleteEntityId:null,deleteEntityName:null},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.updateDirectoryList()}},{key:"render",value:function(){var e=this;return r.a.createElement(M.a,null,r.a.createElement(Ee.a,{style:{width:300,marginBottom:76}},Array.from(this.props.directory).map((function(t){var a=e.state[t._id]||!1;return r.a.createElement("div",{style:{borderStyle:"solid",borderWidth:"1px 1px 1px 3px",borderColor:t.color,marginBottom:5,borderRadius:5},key:t._id},r.a.createElement(fe.a,{style:{width:"100%",padding:0}},r.a.createElement(Me.a,{fullWidth:!0,variant:"text","aria-label":"text primary button group"},r.a.createElement(V.a,{style:{width:44,borderRadius:0,color:"#777"},onClick:function(){return e.handleEntityInstantiation(t._id)}},r.a.createElement(Ue.a,null)),r.a.createElement(V.a,{style:{borderRadius:0},onClick:function(){return e.handleEntityDropdown(t._id)}},r.a.createElement(H.a,{style:{textAlign:"left",overflow:"hidden",textOverflow:"clip",width:272,textTransform:"none",color:t.color},variant:"h6"},t.name),a?r.a.createElement(Qe.a,null):r.a.createElement(Ve.a,null)),r.a.createElement(V.a,{style:{width:44,borderRadius:0,color:"#777"},onClick:function(a){return e.handleEntityDelete(a,t._id,t.name)}},r.a.createElement(Ze.a,null)))),r.a.createElement(He.a,{in:a,timeout:"auto",unmountOnExit:!0},r.a.createElement(Ee.a,{component:"div",disablePadding:!0},t.instances.map((function(a,n){return r.a.createElement("div",{key:a._id+n},r.a.createElement(he.a,null),r.a.createElement(fe.a,{button:!0,onClick:function(){e.handleInstanceSelect(a._id,t._id)}},r.a.createElement(H.a,null,a.name)))})))))}))),r.a.createElement(Ge.a,{anchorEl:this.state.anchorEl,open:Boolean(this.state.anchorEl),id:Boolean(this.state.anchorEl)?"simple-popover":void 0,onClose:this.handleEntityDeleteCancel,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(M.a,{container:!0,spacing:0,align:"center",justify:"center",direction:"column"},r.a.createElement(M.a,{item:!0},r.a.createElement(H.a,{variant:"h6"},"Are you sure you want to delete ",this.state.deleteEntityName,"?")),r.a.createElement(M.a,{item:!0},r.a.createElement(Me.a,null,r.a.createElement(V.a,{color:"inherit",onClick:this.deleteEntityFromDB},"Delete"),r.a.createElement(V.a,{color:"primary",onClick:this.handleEntityDeleteCancel},"Cancel"))))))}}]),a}(n.Component));var Ye=Object(w.b)((function(e){return{lorelineId:e.lorelineId,directory:e.directory}}),(function(e){return Object(x.b)({setInstanceId:A,setEntityId:W,setInstance:T,setLoading:N},e)}))(Xe),Ke=a(489),Je=a(490),qe=a(491),$e=a(492),et=a(511),tt=a(512),at=Object(z.a)((function(e){return{root:{flex:1}}}));function nt(e){var t=at();return r.a.createElement("main",{className:t.root},r.a.createElement(he.a,null))}var rt=Object(z.a)((function(e){return{root:{flex:1}}}));function lt(e){var t=rt();return r.a.createElement("main",{className:t.root},r.a.createElement(H.a,{variant:"h5"},e.label))}var ot={width:600,padding:10},it=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={open:{},instance:[]},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return this.props.instance?r.a.createElement(Ee.a,null,r.a.createElement(H.a,{variant:"h5"},this.props.instance.name),this.props.instance.content.map((function(e,t){return"IMAGE_FIELD"===e.type?r.a.createElement(fe.a,{key:e+t,width:600},r.a.createElement(Ke.a,null,r.a.createElement(Je.a,null,r.a.createElement(M.a,null,r.a.createElement(M.a,{item:!0},r.a.createElement(H.a,{variant:"overline",color:"textSecondary",gutterBottom:!0},e.name)),r.a.createElement(M.a,{item:!0},r.a.createElement("img",{src:e.content,width:550})))))):"RADIOLIST_FIELD"===e.type?r.a.createElement(Ke.a,null,r.a.createElement(Je.a,null,r.a.createElement(M.a,null,r.a.createElement(M.a,{item:!0},r.a.createElement(H.a,{variant:"overline",color:"textSecondary",gutterBottom:!0},e.name)),r.a.createElement(M.a,{item:!0},r.a.createElement(qe.a,{value:e.value},e.content.map((function(e,t){return r.a.createElement($e.a,{key:e+t,value:e+t,control:r.a.createElement(et.a,{color:"primary"}),label:e.name,labelPlacement:"start",disabled:!0})}))))))):"SECTION_DIVIDER"===e.type?r.a.createElement(fe.a,{key:e+t},r.a.createElement(nt,null)):"SECTION_HEADER"===e.type?r.a.createElement(fe.a,{key:e+t},r.a.createElement(lt,{index:t,label:e.name})):"CHECKBOX_FIELD"===e.type?r.a.createElement(fe.a,{key:e+t},r.a.createElement(Ke.a,null,r.a.createElement(Je.a,null,r.a.createElement(M.a,null,r.a.createElement(M.a,{item:!0},r.a.createElement(H.a,{variant:"overline",color:"textSecondary",gutterBottom:!0},e.name)),r.a.createElement(M.a,{item:!0},r.a.createElement(tt.a,{disabled:!0,checked:e.content[0]})))))):r.a.createElement(fe.a,{key:e+t},r.a.createElement(Ke.a,{width:ot.width},r.a.createElement(Je.a,null,r.a.createElement(H.a,{variant:"overline",color:"textSecondary",gutterBottom:!0},e.name),r.a.createElement(H.a,null,e.content))))}))):r.a.createElement("p",null)}}]),a}(n.Component);var ct=Object(w.b)((function(e){return{instance:e.instance}}))(it),st=a(115),mt=a(62),ut=a(518),dt=a(206),pt=a(494),ht=a(513),Et=a(493),ft=a(495),gt=a(209),bt=Object(z.a)((function(e){return{root:{flex:1},card:{minWidth:300,padding:10},input:{flex:1},delete:{marginLeft:"auto"},content:{flex:1}}}));function yt(e){var t=bt();if(e.validationFailed&&""===e.label)var a={style:{border:"2px solid red"}};return r.a.createElement("main",{className:t.root},r.a.createElement(Ke.a,Object.assign({className:t.card},a),r.a.createElement(M.a,{container:!0,direction:"column"},r.a.createElement(M.a,{xs:!0,item:!0,container:!0,direction:"row"},r.a.createElement(M.a,{xs:!0,item:!0},r.a.createElement(gt.a,{className:t.input,placeholder:"Label",onChange:function(t){e.changeLabel(e.index,t.target.value)},value:e.label,inputProps:{dataTestId:"fieldName"}})),r.a.createElement(M.a,{item:!0},r.a.createElement(H.a,{variant:"overline"},e.typeName))),r.a.createElement(M.a,{item:!0},r.a.createElement(ut.a,{title:"Delete ".concat(e.typeName)},r.a.createElement(Q.a,{"aria-label":"delete",className:t.delete,onClick:function(){return e.remove(e.index)}},r.a.createElement(Ze.a,null)))))))}var vt=Object(z.a)((function(e){return{root:{flex:1},card:{minWidth:300,padding:10},input:{flex:1},delete:{marginLeft:"auto"},content:{flex:1}}}));function wt(e){var t=vt();return r.a.createElement("main",{className:t.root},r.a.createElement(Ke.a,{className:t.card},r.a.createElement(M.a,{container:!0,direction:"column"},r.a.createElement(M.a,{xs:!0,item:!0,container:!0,direction:"row"},r.a.createElement(M.a,{xs:!0,item:!0},r.a.createElement(ut.a,{title:"Delete divider"},r.a.createElement(Q.a,{"aria-label":"delete",className:t.delete,onClick:function(){return e.remove(e.index)}},r.a.createElement(Ze.a,null)))),r.a.createElement(M.a,{item:!0},r.a.createElement(H.a,{variant:"overline"},"DIVIDER"))))))}var xt=Object(z.a)((function(e){return{root:{flex:1},card:{minWidth:300,padding:10},input:{flex:1},delete:{marginLeft:"auto"},content:{flex:1}}}));function Ot(e){var t=Object(n.useState)(e.options),a=Object(F.a)(t,2),l=a[0],o=a[1],i=xt(),c=function(t){o(t),e.setOptions(e.index,l)},s=function(e){var t=Object(mt.a)(l);t.length>1&&(t.splice(e,1),c(t))},m=function(e,t){var a=Object(mt.a)(l);a[e].label=t,c(a)};if(e.validationFailed&&(""===e.label||function(){var e,t=Object(st.a)(l);try{for(t.s();!(e=t.n()).done;){if(""===e.value.label)return!0}}catch(a){t.e(a)}finally{t.f()}return!1}()))var u={style:{border:"2px solid red"}};return r.a.createElement("main",{className:i.root},r.a.createElement(ut.a,{title:"The first option will be the default"},r.a.createElement(Ke.a,Object.assign({className:i.card},u),r.a.createElement(M.a,{container:!0,direction:"column"},r.a.createElement(M.a,{xs:!0,item:!0,container:!0,direction:"row"},r.a.createElement(M.a,{xs:!0,item:!0},r.a.createElement(gt.a,{className:i.input,placeholder:"Label",onChange:function(t){e.changeLabel(e.index,t.target.value)},value:e.label})),r.a.createElement(M.a,{item:!0},r.a.createElement(H.a,{variant:"overline"},"radio list"))),r.a.createElement(M.a,{item:!0},r.a.createElement(Ee.a,null,l.map((function(e,t){return r.a.createElement(fe.a,{key:e+t},r.a.createElement(jt,{index:t,removeOption:s,changeLabel:m,label:e.label}))})),r.a.createElement(V.a,{startIcon:r.a.createElement(Et.a,null),variant:"contained",color:"secondary",onClick:function(){var e=l.concat({label:""});c(e)}},"Add Option"))),r.a.createElement(M.a,{item:!0},r.a.createElement(ut.a,{title:"Delete radio list"},r.a.createElement(Q.a,{"aria-label":"delete",className:i.delete,onClick:function(){return e.remove(e.index)}},r.a.createElement(Ze.a,null))))))))}function jt(e){var t=xt();return r.a.createElement(M.a,{container:!0,direction:"row"},r.a.createElement(M.a,{xs:!0,item:!0},r.a.createElement(gt.a,{className:t.input,placeholder:"Option Name",onChange:function(t){e.changeLabel(e.index,t.target.value)},value:e.label})),r.a.createElement(M.a,{item:!0},r.a.createElement(ut.a,{title:"Delete option",placement:"right"},r.a.createElement(Q.a,{size:"small",onClick:function(){return e.removeOption(e.index)}},r.a.createElement(Ze.a,null)))))}var Ct=a(199),kt=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).handleFeedbackClose=function(e,t){"clickaway"!==t&&n.setState({creationFeedbackOpen:!1})},n.addEntityToDB=function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),n.props.setLoading(!0),e.prev=2,e.next=5,v.a.post("https://lorelines-expressapi.herokuapp.com/api/lorelines/".concat(n.props.lorelineId,"/entities"),{name:t.name,color:t.color,content:t.content}).then((function(){n.props.updateDirectoryList().then((function(){n.props.setLoading(!1),n.setState({creationFeedbackOpen:!0})}))}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),n.props.setLoading(!1);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),n.handleAddItem=function(e,t){n.setState({fields:[].concat(Object(mt.a)(n.state.fields),[{commonName:e,actualName:t,label:""}])}),n.handleMenuClose()},n.handleRemoveItem=function(e){var t=Object(mt.a)(n.state.fields);t.splice(e,1),n.setState({fields:t})},n.handleMenuClick=function(e){n.setState({anchorEl:e.currentTarget})},n.handleFieldLabelChange=function(e,t){var a=n.state.fields;a[e].label=t,n.setState({fields:a})},n.handleMenuClose=function(){n.setState({anchorEl:null})},n.handleNameChange=function(e){return n.setState({name:e.target.value})},n.handleColorChange=function(e){return n.setState({color:e.hex})},n.handleSetRadioOptions=function(e,t){var a=n.state.fields;a[e].options=t,n.setState({fields:a})},n.handleCreateEntity=function(){var e=!1;if(""===n.state.name||0===n.state.fields.length)e=!0;else{var t=[];n.state.fields.forEach((function(a,n){if("SECTION_DIVIDER"===a.actualName&&(a.label="divider"),""===a.label&&(e=!0),t=t.concat({type:a.actualName,name:a.label}),"RADIOLIST_FIELD"===a.actualName){t[n].content=[];var r,l=Object(st.a)(a.options);try{for(l.s();!(r=l.n()).done;){var o=r.value;""===o.label&&(e=!0),t[n].content=t[n].content.concat({name:o.label})}}catch(i){l.e(i)}finally{l.f()}}}))}n.setState({validationFailed:e});var a={name:n.state.name,color:n.state.color,content:t};e||n.addEntityToDB(a)},n.errorMessage=function(){return r.a.createElement("div",null,r.a.createElement(H.a,null,"all fields must have a label"),""===n.state.name&&r.a.createElement(H.a,null,"custom entity must be named"),0===n.state.fields.length&&r.a.createElement(H.a,null,"custom entity must have at least one field"))},n.state={name:"",color:"#f78d1e",fields:[],anchorEl:null,validationFailed:!1,creationFeedbackOpen:!1},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(M.a,{style:{textAlign:"center",marginTop:20},container:!0,direction:"column",justify:"center",alignItems:"center",spacing:2},r.a.createElement(M.a,{item:!0},r.a.createElement(G.a,{error:this.state.validationFailed&&""===this.state.name,helperText:this.state.validationFailed&&""===this.state.name?"this field cannot be empty":"",label:"Custom Entity Name",value:this.state.name,onChange:this.handleNameChange,inputProps:{style:{color:this.state.color}}})),r.a.createElement(M.a,{item:!0},r.a.createElement(ut.a,{title:"Select a color for your custom entity"},r.a.createElement(Ct.BlockPicker,{color:this.state.color,onChangeComplete:this.handleColorChange,width:"300"}))),r.a.createElement(M.a,{item:!0},r.a.createElement(Ee.a,null,this.state.fields.map((function(t,a){var n;return"SECTION_DIVIDER"===t.actualName?r.a.createElement(fe.a,{key:t+a},r.a.createElement(wt,{index:a,remove:e.handleRemoveItem,label:t.label})):"RADIOLIST_FIELD"===t.actualName?r.a.createElement(fe.a,{key:t+a},r.a.createElement(Ot,{index:a,options:null!==(n=t.options)&&void 0!==n?n:[{label:""}],remove:e.handleRemoveItem,changeLabel:e.handleFieldLabelChange,label:t.label,setOptions:e.handleSetRadioOptions,validationFailed:e.state.validationFailed})):r.a.createElement(fe.a,{key:t+a},r.a.createElement(yt,{index:a,typeName:t.commonName,remove:e.handleRemoveItem,changeLabel:e.handleFieldLabelChange,label:t.label,validationFailed:e.state.validationFailed}))})))),this.state.validationFailed&&r.a.createElement(M.a,{item:!0},r.a.createElement(H.a,{style:{padding:5,fontSize:16},color:"error"},this.errorMessage())),r.a.createElement(M.a,{item:!0},r.a.createElement(V.a,{startIcon:r.a.createElement(Et.a,null),variant:"contained",color:"primary",style:{width:150},onClick:this.handleMenuClick},"Add Field"),r.a.createElement(dt.a,{id:"simple-menu",anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:this.handleMenuClose},r.a.createElement(pt.a,{onClick:function(){return e.handleAddItem("text","TEXT_FIELD")}},"Text"),r.a.createElement(pt.a,{onClick:function(){return e.handleAddItem("number","NUMBER_FIELD")}},"Number"),r.a.createElement(pt.a,{onClick:function(){return e.handleAddItem("checkbox","CHECKBOX_FIELD")}},"Checkbox"),r.a.createElement(ut.a,{title:"A list of options in which only one can be true",placement:"right"},r.a.createElement(pt.a,{onClick:function(){return e.handleAddItem("radiolist","RADIOLIST_FIELD")}},"Radio List")),r.a.createElement(pt.a,{onClick:function(){return e.handleAddItem("image","IMAGE_FIELD")}},"Image"),r.a.createElement(ut.a,{title:"A bold header for organization",placement:"right"},r.a.createElement(pt.a,{onClick:function(){return e.handleAddItem("header","SECTION_HEADER")}},"Header")),r.a.createElement(ut.a,{title:"A vertical line to break up your sections",placement:"right"},r.a.createElement(pt.a,{onClick:function(){return e.handleAddItem("divider","SECTION_DIVIDER")}},"Divider")))),r.a.createElement(M.a,{item:!0},r.a.createElement(V.a,{startIcon:r.a.createElement(ft.a,null),variant:"contained",color:"primary",style:{width:150},onClick:this.handleCreateEntity},"Create")),r.a.createElement(ht.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.creationFeedbackOpen,autoHideDuration:6e3,onClose:this.handleFeedbackClose,message:"Custom Entity Added",action:r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{size:"small","aria-label":"close",color:"inherit",onClick:this.handleFeedbackClose},r.a.createElement(ye.a,{fontSize:"small"})))}))}}]),a}(n.Component);var It=Object(w.b)((function(e){return{lorelineId:e.lorelineId}}),(function(e){return Object(x.b)({setLoading:N},e)}))(kt),Nt=Object(z.a)((function(e){return{root:{flex:1},card:{minWidth:300},input:{flex:1}}}));function St(e){var t=Nt();return r.a.createElement("main",{className:t.root},r.a.createElement(Ke.a,{className:t.card},r.a.createElement(Je.a,null,r.a.createElement(H.a,{color:"textSecondary",gutterBottom:!0},e.label),r.a.createElement(gt.a,{multiline:!0,rowsMax:"4",value:e.content,onChange:function(t){e.setContent(e.index,t.target.value)},className:t.input,placeholder:"Content",fullWidth:!0}))))}var Dt=Object(z.a)((function(e){return{root:{flex:1},card:{width:300,textAlign:"center"}}}));function Lt(e){var t=Dt();return r.a.createElement("main",{className:t.root},r.a.createElement(Ke.a,{className:t.card},r.a.createElement(Je.a,null,r.a.createElement($e.a,{control:r.a.createElement(tt.a,{color:"primary"}),checked:e.content,onChange:function(t){e.setContent(e.index,!e.content)},label:e.label,labelPlacement:"start"}))))}var At=Object(z.a)((function(e){return{root:{flex:1},card:{minWidth:300},input:{flex:1}}}));function Tt(e){var t=At();return r.a.createElement("main",{className:t.root},r.a.createElement(ut.a,{title:"This is a number field"},r.a.createElement(Ke.a,{className:t.card},r.a.createElement(Je.a,null,r.a.createElement(H.a,{color:"textSecondary",gutterBottom:!0},e.label),r.a.createElement(gt.a,{type:"number",value:e.content,onChange:function(t){e.setContent(e.index,t.target.value)},className:t.input,placeholder:"Content",fullWidth:!0})))))}var _t=a(496),Wt=Object(z.a)((function(e){return{root:{flex:1},card:{minWidth:300}}}));function Rt(e){var t=Wt();return r.a.createElement("main",{className:t.root},r.a.createElement(Ke.a,{className:t.card},r.a.createElement(_t.a,{subheader:e.label}),r.a.createElement(Je.a,null,r.a.createElement(qe.a,{value:e.content,onChange:function(t){e.setValue(e.index,t.target.value)}},e.options.map((function(e,t){return r.a.createElement($e.a,{key:e+t,value:e+t,control:r.a.createElement(et.a,{color:"primary"}),label:e.name,labelPlacement:"start"})}))))))}var Ft=a(497),Bt=a(200),Pt=a.n(Bt),zt=Object(z.a)((function(e){return{root:{flex:1},card:{minWidth:300},input:{flex:1},image:{height:50,"&:hover":{height:140}},noImage:{height:0}}})),Mt=Object(w.b)((function(e){return{user:e.user}}))((function(e){var t=zt(),a=function(t){if(null!==t){var a=new FormData;return a.append("image",t,t.name),v.a.post("https://lorelines-expressapi.herokuapp.com/api/users/".concat(e.user.id,"/images"),a,{headers:{accept:"application/json","Accept-Language":"en-US,en;q=0.8","Content-Type":"multipart/form-data; boundary=".concat(a._boundary)}}).then((function(e){return e.data}))}};return r.a.createElement("main",{className:t.root},r.a.createElement(Ke.a,{className:t.card},r.a.createElement(Ft.a,{className:""!=e.imageURL?t.image:t.noImage,image:e.imageURL}),r.a.createElement(Je.a,null,r.a.createElement(H.a,{color:"textSecondary",gutterBottom:!0},e.label),r.a.createElement(V.a,{component:"label",variant:"contained",color:"default",fullWidth:!0,startIcon:r.a.createElement(Pt.a,null)},"Upload Image",r.a.createElement("input",{type:"file",accept:".jpg, .jpeg, .png",onChange:function(t){return function(t){var n=!1;"image/png"!==t[0].type&&"image/jpg"!==t[0].type&&"image/jpeg"!==t[0].type&&(alert(t[0].name+" is not an accepted image format! Accepted formats are:\n.png .jpg .jpeg"),n=!0),t[0].size>2097152&&(alert("File size exceeds 2MB limit! File uploaded was: "+(t[0].size/1048576).toFixed(2)+"MB"),n=!0),n||a(t[0]).then((function(t){console.log(t),e.setContent(e.index,t)}))}(t.target.files)},style:{display:"none"}})))))}));var Ht=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).addInstanceToDB=function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.props.setLoading(!0),e.prev=1,e.next=4,v.a.post("https://lorelines-expressapi.herokuapp.com/api/lorelines/".concat(n.props.lorelineId,"/entities/").concat(n.props.entityId,"/instances"),{name:t.name,content:t.content}).then((function(){n.props.updateDirectoryList().then((function(){n.props.setLoading(!1)}))}));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),n.props.setLoading(!1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),n.handleSetRadioOptions=function(e,t){var a=n.state.fields;a[e].options=t,n.setState({fields:a})},n.retreiveEntityFromDB=Object(s.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.props.setLoading(!0),e.prev=1,e.next=4,v.a.get("https://lorelines-expressapi.herokuapp.com/api/lorelines/".concat(n.props.lorelineId,"/entities/").concat(n.props.entityId),{});case 4:t=e.sent,a=t.data,n.setState({entityName:a.name,color:a.color,fields:a.content}),n.props.setLoading(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n.props.setLoading(!1);case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))),n.handleInstanceNameChange=function(e){n.setState({instanceName:e.target.value})},n.handleContentChange=function(e,t){var a=n.state.fields;a[e].content=t,n.setState({fields:a})},n.handleRadioChange=function(e,t){var a=n.state.fields;a[e].value=t,n.setState({fields:a})},n.handleCreateInstance=function(){console.log("in create instance");var e=!1;if(""===n.state.instanceName)e=!0;else{var t=[];n.state.fields.forEach((function(e,a){"RADIOLIST_FIELD"===e.type?(console.log("VALUE:"+e.value),t=t.concat({name:e.name,type:e.type,content:e.content,value:e.value})):t=t.concat({name:e.name,type:e.type,content:e.content})}))}n.setState({validationFailed:e});var a={name:n.state.instanceName,content:t};e&&console.log("Encountered an error"),console.log("instance: ",a),e||n.addInstanceToDB(a)},n.state={entityName:"",instanceName:"",color:"",fields:[],anchorEl:null,validationFailed:!1},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.retreiveEntityFromDB()}},{key:"render",value:function(){var e,t,a=this;return r.a.createElement(M.a,{style:{textAlign:"center",marginTop:20},container:!0,direction:"column",justify:"center",alignItems:"center",spacing:2},r.a.createElement(M.a,{item:!0},r.a.createElement(H.a,{variant:"overline"},"new instance of:")),r.a.createElement(M.a,{item:!0},r.a.createElement(H.a,{variant:"h4",style:{color:null!==(e=this.state.color)&&void 0!==e?e:"#ea4b35"}},null!==(t=this.state.entityName)&&void 0!==t?t:"undefined")),r.a.createElement(M.a,{item:!0},r.a.createElement(G.a,{error:this.state.validationFailed&&""===this.state.entityName,helperText:this.state.validationFailed&&""===this.state.entityName?"this field cannot be empty":"",label:"Instance Name",value:this.state.instanceName,onChange:this.handleInstanceNameChange,inputProps:{style:{color:this.state.color}}})),r.a.createElement(M.a,{item:!0},r.a.createElement(Ee.a,null,this.state.fields.map((function(e,t){return"TEXT_FIELD"===e.type?r.a.createElement(fe.a,{key:e+t},r.a.createElement(St,{index:t,label:e.name,content:e.content,setContent:a.handleContentChange})):"NUMBER_FIELD"===e.type?r.a.createElement(fe.a,{key:e+t},r.a.createElement(Tt,{index:t,label:e.name,content:e.content,setContent:a.handleContentChange})):"CHECKBOX_FIELD"===e.type?(0==e.content.length&&(e.content=!1),r.a.createElement(fe.a,{key:e+t},r.a.createElement(Lt,{index:t,label:e.name,content:e.content,setContent:a.handleContentChange}))):"RADIOLIST_FIELD"===e.type?(void 0===e.value&&(e.value="[object Object]0"),r.a.createElement(fe.a,{key:e+t},r.a.createElement(Rt,{index:t,label:e.name,options:e.content,content:e.value,setValue:a.handleRadioChange}))):"IMAGE_FIELD"===e.type?r.a.createElement(fe.a,{key:e+t},r.a.createElement(Mt,{index:t,label:e.name,imageURL:e.content,setContent:a.handleContentChange})):"SECTION_DIVIDER"===e.type?r.a.createElement(fe.a,{key:e+t},r.a.createElement(nt,null)):"SECTION_HEADER"===e.type?r.a.createElement(fe.a,{key:e+t},r.a.createElement(lt,{index:t,label:e.name})):void 0})))),r.a.createElement(M.a,{item:!0},r.a.createElement(V.a,{startIcon:r.a.createElement(ft.a,null),variant:"contained",color:"primary",style:{width:150},onClick:this.handleCreateInstance},"Create")))}}]),a}(n.Component);var Gt=Object(w.b)((function(e){return{lorelineId:e.lorelineId,entityId:e.entityId}}),(function(e){return Object(x.b)({setLoading:N},e)}))(Ht),Ut=Object(z.a)((function(e){return{root:{display:"flex"},drawer:{width:300,flexShrink:0},drawerPaper:{width:300},content:{flexGrow:1,padding:e.spacing(3)},toolbar:e.mixins.toolbar}})),Qt=Object(w.b)((function(e){return{window:e.window,instanceId:e.instanceId,entityId:e.entityId,lorelineId:e.lorelineId}}),(function(e){return Object(x.b)({setLoading:N,setDirectory:R},e)}))((function(e){var t=r.a.useState(0),a=Object(F.a)(t,2),n=a[0],l=a[1],o=Ut(),i={IDLE:0,ENTITY_CREATION:1,INSTANCE_CREATION:2,INSTANCE_VIEWER:3},m=function(){var t=Object(s.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===e.lorelineId){t.next=10;break}return e.setLoading(!0),t.prev=2,t.next=5,v.a.get("https://lorelines-expressapi.herokuapp.com/api/lorelines/".concat(e.lorelineId,"/directory/")).then((function(t){console.log("NEW DATA: ",t.data),e.setDirectory(t.data),e.setLoading(!1)}));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),e.setLoading(!1);case 10:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(){return t.apply(this,arguments)}}(),u=function(){switch(n){case i.ENTITY_CREATION:return r.a.createElement(It,{updateDirectoryList:m});case i.INSTANCE_CREATION:return r.a.createElement(Gt,{updateDirectoryList:m});case i.INSTANCE_VIEWER:return r.a.createElement(ct,null);default:return r.a.createElement(H.a,null,"Select an entity or instance")}};return r.a.createElement("main",{className:o.root},r.a.createElement(M.a,{style:{textAlign:"center",marginTop:20},container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(M.a,{item:!0},r.a.createElement(u,null))),r.a.createElement(pe.a,{className:o.drawer,variant:"permanent",anchor:"right"},r.a.createElement("div",{className:o.toolbar}),r.a.createElement(Ye,{modes:i,setMode:l,updateDirectoryList:m})),r.a.createElement(ze.a,{style:{position:"fixed",bottom:20,right:20,zIndex:1900},variant:"extended",size:"large",color:"primary","aria-label":"add",className:o.margin,onClick:function(){l(i.ENTITY_CREATION)}},r.a.createElement(Et.a,null),"New Custom Entity"))}));var Vt=Object(z.a)((function(e){return{root:{flexGrow:1},link:{color:e.palette.secondary.main,textDecoration:"underline"}}})),Zt=Object(w.b)((function(e){return{window:e.window}}))((function(e){var t=Vt();return r.a.createElement("main",null,r.a.createElement(M.a,{className:t.root,style:{textAlign:"center",height:e.window.height},container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(M.a,{item:!0},r.a.createElement(Ke.a,{width:"500"},r.a.createElement(Je.a,null,r.a.createElement(H.a,{style:{fontSize:14}},"Lorelines.com is the junior project of the Oregon Institute of Technology students:"),r.a.createElement(H.a,{style:{fontWeight:500,fontSize:20,color:"#f78d1e"}},"Justin Boehnen, Evan Clark, Seth Ray, and Isaac Medlin"),r.a.createElement(H.a,{style:{fontSize:14}},"Lorelines v0.7 ALPHA"),r.a.createElement(H.a,{style:{fontSize:14}},"\xa9 2020 All rights reserved"))))))}));var Xt=a(504),Yt=a(505),Kt=a(506),Jt=a(499),qt=a(500),$t=a(501),ea=a(422),ta=a(502);function aa(e){return r.a.createElement(Jt.a,{open:e.isOpen,onClose:e.handleNewDialogClose,fullWidth:!0},r.a.createElement(qt.a,null,"Create a new loreline:"),r.a.createElement($t.a,null,r.a.createElement(G.a,{error:e.submitAttempted&&""===e.lorelineName,helperText:e.submitAttempted&&""===e.lorelineName?"This field cannot be empty!":"",autoFocus:!0,name:"LorelineName",label:"Loreline Name",margin:"dense",autoComplete:"off",value:e.lorelineName,onChange:e.onLorelineNameChange,fullWidth:!0,inputProps:{dataTestId:"lorelineName"}}),r.a.createElement(ea.a,null,r.a.createElement(V.a,{component:"label"},"Upload Image",r.a.createElement("input",{type:"file",accept:".jpg, .jpeg, .png",onChange:function(t){return function(t){var a=!1;"image/png"!==t[0].type&&"image/jpg"!==t[0].type&&"image/jpeg"!==t[0].type&&(alert(t[0].name+" is not an accepted image format! Accepted formats are:\n.png .jpg .jpeg"),a=!0),t[0].size>2097152&&(alert("File size exceeds 2MB limit! File uploaded was: "+(t[0].size/1048576).toFixed(2)+"MB"),a=!0),a||e.setNewLorelineImage(t[0])}(t.target.files)},style:{display:"none"}})),r.a.createElement(H.a,{align:"center"},null!==e.newLorelineImage?e.newLorelineImage.name:""),r.a.createElement(ut.a,{arrow:!0,placement:"left",title:"Toggles whether you would like pre-defined entites in your loreline (recommended for beginners)"},r.a.createElement($e.a,{control:r.a.createElement(tt.a,{checked:e.usingStaticEnities,onChange:e.toggleUsingStaticEntities,color:"primary"}),label:"Import standard assets"})))),r.a.createElement(ta.a,null,r.a.createElement(V.a,{onClick:function(){var t=Object(s.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onNewLorelineSubmit(a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),style:{color:"#1ece6c"},autoFocus:!0,dataTestId:"createButton"},"Create"),r.a.createElement(V.a,{onClick:e.handleNewDialogClose},"Cancel")))}var na=a(503),ra=Object(z.a)((function(e){return{deletebutton:{color:"#ea4b35","&:hover":{color:"#000",backgroundColor:"#ea4b35",fontWeight:"bolder"}}}}));function la(e){var t=ra();return r.a.createElement(Jt.a,{open:e.deleteDialogOpen,onClose:e.handleDeleteDialogClose},r.a.createElement(qt.a,null,"Are you sure you want to delete:"),r.a.createElement($t.a,null,r.a.createElement(H.a,{variant:"h4",style:{overflow:"hidden",textOverflow:"clip",marginTop:16,marginBottom:22,textAlign:"center",width:400},color:"primary"},e.deleteLorelineName),r.a.createElement(na.a,{style:{textAlign:"center",color:"#ea4b35"}},"This will permently delete this loreline, this is irreversible!")),r.a.createElement(ta.a,null,r.a.createElement(V.a,{dataTestId:"confirmDelete",onClick:function(t){e.deleteLorelineFromDB(t,e.deleteLorelineId)},className:t.deletebutton,autoFocus:!0},"Delete"),r.a.createElement(V.a,{onClick:e.handleDeleteDialogClose},"Cancel")))}var oa=Object(z.a)((function(e){return{content:{flexGrow:1},link:{color:e.palette.secondary.main,textDecoration:"underline"},field:{width:"20vw",minWidth:"250px"},error:{color:e.palette.error.main},card:{textOverflow:"ellipsis",width:350,margin:10,borderRadius:5},selectedCard:{textOverflow:"ellipsis",width:350,margin:10,boxShadow:"0 0 0 5px #f78d1e",borderRadius:5,backgroundColor:"#666"},cardimage:{height:140},cardheader:{overflow:"hidden",textOverflow:"ellipsis",height:35,width:320},deletebutton:{"&:hover":{color:"#ea4b35"}}}})),ia=Object(w.b)((function(e){return{user:e.user,loreline:e.lorelineId,lorelineArray:e.lorelineArray}}),(function(e){return Object(x.b)({setLoreline:k,setLoading:N,setLorelineArray:I},e)}))((function(e){var t=oa(),a=r.a.useState(!1),l=Object(F.a)(a,2),o=l[0],i=l[1],m=r.a.useState(!0),u=Object(F.a)(m,2),d=u[0],p=u[1],h=r.a.useState(!1),E=Object(F.a)(h,2),f=E[0],g=E[1],b=r.a.useState(""),y=Object(F.a)(b,2),w=y[0],x=y[1],O=r.a.useState(""),j=Object(F.a)(O,2),C=j[0],k=j[1],I=r.a.useState(!1),N=Object(F.a)(I,2),S=N[0],D=N[1],L=Object(n.useState)(""),A=Object(F.a)(L,2),T=A[0],_=A[1],W=Object(n.useState)(null),R=Object(F.a)(W,2),B=R[0],P=R[1],z=Object(n.useState)(!1),G=Object(F.a)(z,2),U=G[0],V=G[1];Object(n.useEffect)((function(){Z()}),[]);var Z=function(){var t=Object(s.a)(c.a.mark((function t(){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setLoading(!0),t.prev=1,t.next=4,v.a.get("https://lorelines-expressapi.herokuapp.com/api/users/".concat(e.user.id,"/lorelines"));case 4:a=t.sent,e.setLorelineArray(a.data),e.setLoading(!1),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e.setLoading(!1);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}(),X=function(){i(!1)},Y=function(e,t){g(!1),_(""),P(null),p(!0),V(!1)},K=function(e,t){"clickaway"!==t&&D(!1)},J=function(){var t=Object(s.a)(c.a.mark((function t(a,n){var r,l;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r="",null===n){t.next=11;break}return(l=new FormData).append("image",n,n.name),t.prev=4,t.next=7,v.a.post("https://lorelines-expressapi.herokuapp.com/api/users/".concat(e.user.id,"/images"),l,{headers:{accept:"application/json","Accept-Language":"en-US,en;q=0.8","Content-Type":"multipart/form-data; boundary=".concat(l._boundary)}}).then((function(e){var t;r=null!==(t=e.data)&&void 0!==t?t:""}));case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(4);case 11:return""===r&&(r="https://lorelines-image-library.s3-us-west-2.amazonaws.com/default_loreline_image.png"),t.prev=12,t.next=15,v.a.post("https://lorelines-expressapi.herokuapp.com/api/users/".concat(e.user.id,"/lorelines"),{name:a,image:r}).then((function(t){Z(),e.setLoading(!1),D(!0)}));case 15:t.next=19;break;case 17:t.prev=17,t.t1=t.catch(12);case 19:Z();case 20:case"end":return t.stop()}}),t,null,[[4,9],[12,17]])})));return function(e,a){return t.apply(this,arguments)}}(),q=function(){var t=Object(s.a)(c.a.mark((function t(a,n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),e.loreline===n&&e.setLoreline(null),e.setLoading(!0),X(),t.prev=4,t.next=7,v.a.delete("https://lorelines-expressapi.herokuapp.com/api/users/".concat(e.user.id,"/lorelines/").concat(n)).then((function(){var t=Object(mt.a)(e.lorelineArray);t.forEach((function(e){e._id===n&&t.splice(t.indexOf(e),1)})),e.setLorelineArray(t),e.setLoading(!1)}));case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(4);case 11:case"end":return t.stop()}}),t,null,[[4,9]])})));return function(e,a){return t.apply(this,arguments)}}(),$=function(){var t=Object(s.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),V(!0),""===T){t.next=11;break}e.setLoading(!0),_(""),P(null),V(!1),Y(),J(T,B),t.next=12;break;case 11:return t.abrupt("return",!1);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("main",{className:t.root},r.a.createElement("div",{style:{marginTop:20}},r.a.createElement(ze.a,{dataTestId:"newLorelineButton",style:{position:"fixed",bottom:20,right:20,zIndex:1900},variant:"extended",size:"large",color:"primary","aria-label":"add",className:t.margin,onClick:function(){g(!0)}},r.a.createElement(Et.a,null),"New Loreline"),r.a.createElement(aa,{isOpen:f,handleNewDialogClose:Y,submitAttempted:U,lorelineName:T,onLorelineNameChange:function(e){return _(e.target.value)},usingStaticEnities:d,toggleUsingStaticEntities:function(){p(!d)},onNewLorelineSubmit:$,setNewLorelineImage:P,newLorelineImage:B}),r.a.createElement(ht.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:S,autoHideDuration:6e3,onClose:K,message:"Loreline Added",action:r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{size:"small","aria-label":"close",color:"inherit",onClick:K},r.a.createElement(ye.a,{fontSize:"small"})))}),r.a.createElement(H.a,{style:{marginLeft:20,marginBottom:20},variant:"h4"},"Select a Loreline"),r.a.createElement(he.a,null),r.a.createElement("div",{className:t.root},r.a.createElement(M.a,{container:!0,style:{marginTop:15},direction:"row",justify:"space-around",alignItems:"center"},e.lorelineArray.map((function(a){var n;return r.a.createElement(M.a,{item:!0,key:e.lorelineArray.indexOf(a)},r.a.createElement(Ke.a,{className:e.loreline===a._id?t.selectedCard:t.card},r.a.createElement(ut.a,{title:"Select this loreline"},r.a.createElement(Xt.a,{dataTestId:"selectLoreline",onClick:function(){var t;t=a._id,e.setLoreline(t)}},r.a.createElement(Ft.a,{className:t.cardimage,image:null!==(n=a.image)&&void 0!==n?n:"https://lorelines-image-library.s3-us-west-2.amazonaws.com/default_loreline_image.png"}),r.a.createElement(_t.a,{title:r.a.createElement(H.a,{variant:"h5",className:t.cardheader},a.name),subheader:"Last Modified: ".concat(new Date(a.modified).toLocaleDateString()," at \n                        ").concat(new Date(a.modified).toLocaleTimeString())}))),r.a.createElement(he.a,null),r.a.createElement(Yt.a,null,r.a.createElement(ut.a,{title:"Delete"},r.a.createElement(Q.a,{onClick:function(){return e=a._id,t=a.name,x(e),k(t),void i(!0);var e,t},className:t.deletebutton},r.a.createElement(Ze.a,null))),r.a.createElement(ut.a,{title:"Duplicate: It doesn't work yet. Might get rid of it, idk man. This stuff is difficult."},r.a.createElement(Q.a,null,r.a.createElement(Kt.a,null)))),r.a.createElement(la,{deleteDialogOpen:o,handleDeleteDialogClose:X,deleteLorelineName:C,deleteLorelineId:w,deleteLorelineFromDB:q})))}))))))}));var ca=a(201),sa=a.n(ca),ma=Object(z.a)((function(e){return{root:{flexGrow:1},link:{color:e.palette.secondary.main,textDecoration:"underline"}}})),ua=Object(w.b)((function(e){return{window:e.window}}))((function(e){var t=ma();return r.a.createElement("main",null,r.a.createElement(M.a,{className:t.root,style:{textAlign:"center",height:e.window.height},container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(M.a,{item:!0},r.a.createElement(Ke.a,{width:"500"},r.a.createElement(Je.a,null,r.a.createElement(H.a,{style:{fontSize:14}},"Click the Lorelines icon below to download our tutorial PDF:"),r.a.createElement("a",{href:sa.a,download:!0},r.a.createElement("img",{src:P.a,alt:"UserTutorials",width:"104",height:"142"})))))))}));var da=function(){return{root:{display:"flex"},box:{width:"100px",height:"100px",borderStyle:"solid",borderWidth:"2px 2px 2px 2px",backgroundColor:"red"},drawer:{openWidth:240,closedWidth:58},topBar:{height:64}}},pa=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).toggleDrawer=function(e){n.setState({drawerOpen:e}),n.updateWindowDimensions()},n.state={drawerOpen:!1},n.updateWindowDimensions=n.updateWindowDimensions.bind(Object(te.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){this.state.drawerOpen?this.props.setWindowWidth(window.innerWidth-240):this.props.setWindowWidth(window.innerWidth-58),this.props.setWindowHeight(window.innerHeight-64)}},{key:"render",value:function(){return r.a.createElement("div",null,!this.props.auth&&r.a.createElement(j.a,{to:"/"}),r.a.createElement(de,{logout:this.props.logout,drawerOpen:this.state.drawerOpen,setDrawerOpen:this.toggleDrawer}),r.a.createElement("div",{className:da.root},r.a.createElement(Ie,{drawerOpen:this.state.drawerOpen,setDrawerOpen:this.toggleDrawer}),r.a.createElement("div",{width:this.props.window.width,height:this.props.window.height,style:{marginLeft:this.state.drawerOpen?240:58}},r.a.createElement(j.b,{path:"/app/account"},r.a.createElement(Pe,null)),r.a.createElement(j.b,{path:"/app/lorelines"},r.a.createElement(ia,null)),r.a.createElement(j.b,{path:"/app/new"},r.a.createElement("h1",null,"Hello, World")),r.a.createElement(j.b,{path:"/app/timeline"},r.a.createElement(Fe,null)),r.a.createElement(j.b,{path:"/app/directory"},r.a.createElement(Qt,{style:{}})),r.a.createElement(j.b,{path:"/app/about"},r.a.createElement(Zt,null)),r.a.createElement(j.b,{path:"/app/help"},r.a.createElement(ua,null)))))}}]),a}(n.Component);var ha=Object(w.b)((function(e){return{user:e.user,window:e.window}}),(function(e){return Object(x.b)({setWindowWidth:D,setWindowHeight:L,setLoading:N},e)}))(pa),Ea=a(202),fa=a.n(Ea),ga=a(459),ba=a(516),ya=a(510),va=Object(z.a)((function(e){return{root:{flexGrow:1},field:{width:"30vw",minWidth:"250px"},link:{color:e.palette.secondary.main,textDecoration:"underline"},error:{color:e.palette.error.main},formControl:{width:"30vw",minWidth:"250px"}}}));function wa(e){var t=va(),a=r.a.useState(!1),l=Object(F.a)(a,2),o=l[0],i=l[1],c=r.a.useState(!1),s=Object(F.a)(c,2),m=s[0],u=s[1],d=r.a.useState(!1),p=Object(F.a)(d,2),h=(p[0],p[1]),E=r.a.useState("/register"),f=Object(F.a)(E,2),g=f[0],b=f[1],y=r.a.useState({name:"",email:"",confirmEmail:"",password:"",confirmPassword:"",securityQ:"",securityAnswer:"",showPassword:!1,showConfirmPassword:!1,showSecurityAnswer:!1,submitAttempted:!1,emailExists:!1}),v=Object(F.a)(y,2),w=v[0],x=v[1];Object(n.useEffect)((function(){console.log("useEffect Called"),!0===q.a.validate(w.email)&&w.email===w.confirmEmail&&""!==w.password&&w.password===w.confirmPassword&&""!==w.securityQ&&""!==w.securityAnswer&&(console.log("changing router path"),b("/register/confirm"),console.log(g))}));var j=function(e){return function(t){x(Object(ne.a)(Object(ne.a)({},w),{},Object(ae.a)({},e,t.target.value)))}},C=function(e){e.preventDefault()};return r.a.createElement("main",{className:t.root},r.a.createElement("form",null,r.a.createElement(M.a,{style:{minHeight:"100vh",textAlign:"center"},direction:"column",justify:"center",alignItems:"center",container:!0},r.a.createElement(M.a,{item:!0},r.a.createElement(H.a,{style:{padding:2,fontWeight:"bold",fontSize:42}},"Create a new Lorelines account")),w.emailExists&&r.a.createElement(M.a,{item:!0},r.a.createElement(H.a,{className:t.error,style:{padding:5,fontSize:16}},"a user with that email already exists")),r.a.createElement(M.a,{item:!0},r.a.createElement(G.a,{className:t.field,name:"name",label:"Name",margin:"normal",value:w.name,onChange:j("name"),error:w.submitAttempted&&""===w.name,helperText:w.submitAttempted&&""===w.name?"this field cannot be empty":""})),r.a.createElement(M.a,{item:!0},r.a.createElement(G.a,{className:t.field,name:"email",label:"Email",margin:"normal",value:w.email,onChange:j("email"),error:w.submitAttempted&&""===w.email||w.submitAttempted&&!1===q.a.validate(w.email),helperText:w.submitAttempted&&""===w.email?"this field cannot be empty":w.submitAttempted&&!1===q.a.validate(w.email)?"invalid email address":""})),r.a.createElement(M.a,{item:!0},r.a.createElement(G.a,{className:t.field,name:"confirmEmail",label:"Confirm Email",margin:"normal",value:w.confirmEmail,onChange:j("confirmEmail"),error:w.email!==w.confirmEmail||w.submitAttempted&&""===w.confirmEmail,helperText:w.submitAttempted&&""===w.confirmEmail?"this field cannot be empty":w.email!==w.confirmEmail?"emails do not match":""})),r.a.createElement(M.a,{item:!0},r.a.createElement(G.a,{className:t.field,name:"pass",label:"Password",margin:"normal",type:w.showPassword?"text":"password",value:w.password,onChange:j("password"),error:w.submitAttempted&&""===w.password,helperText:w.submitAttempted&&""===w.password?"this field cannot be empty":"",InputProps:{endAdornment:r.a.createElement(U.a,{position:"end"},r.a.createElement(Q.a,{"aria-label":"toggle password visibility",onClick:function(){x(Object(ne.a)(Object(ne.a)({},w),{},{showPassword:!w.showPassword}))},onMouseDown:C},w.showPassword?r.a.createElement(Y.a,null):r.a.createElement(K.a,null)))}})),r.a.createElement(M.a,{item:!0},r.a.createElement(G.a,{className:t.field,name:"confirmpass",label:"Confirm Password",margin:"normal",type:w.showConfirmPassword?"text":"password",value:w.confirmpassword,onChange:j("confirmPassword"),error:w.password!==w.confirmPassword||w.submitAttempted&&""===w.confirmPassword,helperText:w.submitAttempted&&""===w.confirmPassword?"this field cannot be empty":w.password!==w.confirmPassword?"passwords do not match":"",InputProps:{endAdornment:r.a.createElement(U.a,{position:"end"},r.a.createElement(Q.a,{"aria-label":"toggle password visibility",onClick:function(){x(Object(ne.a)(Object(ne.a)({},w),{},{showConfirmPassword:!w.showConfirmPassword}))},onMouseDown:C},w.showConfirmPassword?r.a.createElement(Y.a,null):r.a.createElement(K.a,null)))}})),r.a.createElement(M.a,{item:!0},r.a.createElement(ga.a,{className:t.formControl},r.a.createElement(ba.a,{id:"demo-controlled-open-select-label"},"Security Question"),r.a.createElement(ya.a,{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",open:m,onClose:function(){u(!1)},onOpen:function(){u(!0)},value:w.securityQ,onChange:j("securityQ"),error:w.submitAttempted&&""===w.securityQ,helperText:w.submitAttempted&&""===w.securityQ?"this field cannot be empty":""},r.a.createElement(pt.a,{value:"What was the model of your first car?"},"What was the model of your first car?"),r.a.createElement(pt.a,{value:"What's your favorite pets name?"},"What's your favorite pets name?"),r.a.createElement(pt.a,{value:"What was your childhood nickname?"},"What was your childhood nickname?"),r.a.createElement(pt.a,{value:"What school did you attend during the sixth grade?"},"What school did you attend during the sixth grade?"),r.a.createElement(pt.a,{value:"What town was your first job in?"},"What town was your first job in?"),r.a.createElement(pt.a,{value:"Who was your favorite teacher in highschool?"},"Who was your favorite teacher in highschool?"),r.a.createElement(pt.a,{value:"What is the first name of the boy or girl that you first kissed?"},"What is the first name of the boy or girl that you first kissed?"),r.a.createElement(pt.a,{value:"What is your oldest sibling's middle name?"},"What is your oldest sibling's middle name?"),r.a.createElement(pt.a,{value:"Who was your childhood hero?"},"Who was your childhood hero?")))),r.a.createElement(M.a,{Item:!0},r.a.createElement(G.a,{className:t.field,name:"SecurityAnswer",label:"Security Question Answer",margin:"normal",type:w.showSecurityAnswer?"text":"password",value:w.confirmpassword,onChange:j("securityAnswer"),error:w.submitAttempted&&""===w.securityAnswer,helperText:w.submitAttempted&&""===w.securityAnswer?"this field cannot be empty":"",InputProps:{endAdornment:r.a.createElement(U.a,{position:"end"},r.a.createElement(Q.a,{"aria-label":"toggle answer visibility",onClick:function(){x(Object(ne.a)(Object(ne.a)({},w),{},{showSecurityAnswer:!w.showSecurityAnswer}))},onMouseDown:C},w.showSecurityAnswer?r.a.createElement(Y.a,null):r.a.createElement(K.a,null)))}})),r.a.createElement(M.a,{item:!0},r.a.createElement(fa.a,{sitekey:"6LeRQ-oUAAAAAP4frfdbHtXO80ADJe1kD3tAF-k2",render:"explicit",verifyCallback:function(e){e&&i(!0)},onloadCallback:function(){console.log("RecaptchLoaded")},theme:"dark"})),r.a.createElement(M.a,{item:!0},r.a.createElement(V.a,{style:{marginTop:16,padding:5,fontSize:22,borderRadius:"50px",width:"260px"},type:"submit",color:"primary",variant:"contained",onClick:function(t){if(t.preventDefault(),x(Object(ne.a)(Object(ne.a)({},w),{},{submitAttempted:!0})),!1===o)alert("Please verify that you are a human!");else if(!0===q.a.validate(w.email)&&w.email===w.confirmEmail&&""!==w.password&&w.password===w.confirmPassword&&""!==w.securityQ&&""!==w.securityAnswer){var a=!e.createUser(w.name,w.email,w.password,w.securityQ,w.securityAnswer);h(!0),x(Object(ne.a)(Object(ne.a)({},w),{},{emailExists:a}))}}},r.a.createElement(O.b,{style:{color:"inherit",textDecoration:"none"},to:g},"Submit"))),r.a.createElement(M.a,{item:!0},r.a.createElement(H.a,{style:{padding:5,fontSize:16}},r.a.createElement(O.b,{className:t.link,to:"/"},"Go back"))))))}var xa=Object(z.a)((function(e){return{root:{flexGrow:1},link:{color:e.palette.secondary.main,textDecoration:"underline"}}}));function Oa(){var e=xa();return r.a.createElement("main",{className:e.root},r.a.createElement(M.a,{style:{minHeight:"100vh",textAlign:"center"},direction:"column",justify:"center",alignItems:"center",container:!0},r.a.createElement(M.a,{item:!0},r.a.createElement(H.a,null,"Thank you for creating a Lorelines account")),r.a.createElement(M.a,{item:!0},r.a.createElement(H.a,null,r.a.createElement(O.b,{className:e.link,to:"/"},"return to login")))))}var ja=a(203),Ca=a.n(ja),ka=Object(z.a)((function(e){return{content:{flexGrow:1},link:{color:e.palette.secondary.main,textDecoration:"underline"},field:{width:"20vw",minWidth:"250px"},error:{color:e.palette.error.main}}})),Ia=Object(w.b)((function(e){return{user:e.user}}),(function(e){return Object(x.b)({setLoading:N},e)}))((function(e){var t=ka(),a=Object(n.useState)(""),l=Object(F.a)(a,2),o=l[0],i=l[1],m=Object(n.useState)(!1),u=Object(F.a)(m,2),d=u[0],p=u[1],h=Object(n.useState)(""),E=Object(F.a)(h,2),f=E[0],g=E[1],b=Object(n.useState)(""),y=Object(F.a)(b,2),w=y[0],x=y[1],j=Object(n.useState)(!1),C=Object(F.a)(j,2),k=C[0],I=C[1],N=Object(n.useState)(!1),S=Object(F.a)(N,2),D=(S[0],S[1],Object(n.useState)(!0)),L=Object(F.a)(D,2),A=L[0],T=L[1],_=Object(n.useState)("/forgot"),W=Object(F.a)(_,2),R=W[0],B=W[1];Object(n.useEffect)((function(){void 0!==e.user.id?(T(!1),B("/forgot/security"),console.log("changing route",e.user.id)):T(!0)}));var P=function(){var e=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("https://lorelines-expressapi.herokuapp.com/api/users/".concat(o,"/getuser"));case 3:t=e.sent,console.log(t.data),z(t.data),p(!0),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),z=function(t){x(t),console.log("object id:",w),I(""===w),w.map((function(e){g(e._id)})),e.user.id=f,console.log(f)};return r.a.createElement("main",{className:t.root},r.a.createElement(M.a,{style:{height:"100vh",textAlign:"center"},direction:"column",justify:"center",alignItems:"center",container:!0},r.a.createElement(M.a,{item:!0},r.a.createElement(H.a,{style:{padding:2,fontWeight:"bold",fontSize:42}},"Enter in your lorelines email:")),r.a.createElement(M.a,{item:!0},r.a.createElement(G.a,{className:t.field,name:"email",label:"Email",margin:"normal",variant:"outlined",autoComplete:"off",value:o,onChange:function(e){return i(e.target.value)},InputProps:{startAdornment:r.a.createElement(U.a,{position:"start"},r.a.createElement(Ca.a,{color:"secondary"}))},error:d&&""===o||!0===k,helperText:(d&&""===o?"this field cannot be empty":"")||(!0===k?"Email not found":"")})),r.a.createElement(M.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(M.a,{item:!0},r.a.createElement(V.a,{style:{marginTop:16,padding:5,fontSize:18,borderRadius:"50px",width:"130px"},type:"submit",color:"primary",variant:"contained",onClick:function(e){p(!0),P()}},"Submit")),r.a.createElement(M.a,{item:!0},r.a.createElement(V.a,{style:{marginTop:16,marginLeft:5,padding:5,fontSize:18,borderRadius:"50px",width:"130px"},type:"submit",disabled:A,color:"primary",variant:"contained"},r.a.createElement(O.b,{style:{color:"inherit",textDecoration:"none"},to:R},"Next Page")))),r.a.createElement(M.a,{item:!0},r.a.createElement(H.a,null,r.a.createElement(O.b,{className:t.link,to:"/"},"return to login")))))}));var Na=Object(z.a)((function(e){return{root:{flexGrow:1},field:{width:"23vw",minWidth:"250px"},link:{color:e.palette.secondary.main,textDecoration:"underline"},error:{color:e.palette.error.main}}})),Sa=Object(w.b)((function(e){return{user:e.user}}),(function(e){return Object(x.b)({},e)}))((function(e){var t=Na(),a=r.a.useState(""),l=Object(F.a)(a,2),o=l[0],i=l[1],m=r.a.useState(""),u=Object(F.a)(m,2),d=u[0],p=u[1],h=r.a.useState(!1),E=Object(F.a)(h,2),f=E[0],g=E[1],b=r.a.useState(!1),y=Object(F.a)(b,2),w=y[0],x=y[1],j=r.a.useState(!1),C=Object(F.a)(j,2),k=C[0],I=C[1],N=Object(n.useState)(!0),S=Object(F.a)(N,2),D=S[0],L=S[1],A=r.a.useState("/forgot/change"),T=Object(F.a)(A,2),_=T[0],W=T[1],R=function(e){e.preventDefault()},B=function(){var t=Object(s.a)(c.a.mark((function t(){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,""===o){t.next=8;break}if(o!==d){t.next=8;break}return t.next=5,v.a.post("https://lorelines-expressapi.herokuapp.com/api/users/".concat(e.user.id,"/changePassword"),{password:o});case 5:a=t.sent,console.log(a.data),"OK"===a.data&&(W("/forgot/confirmation"),L(!1));case 8:t.next=12;break;case 10:t.prev=10,t.t0=t.catch(0);case 12:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("main",{className:t.root},r.a.createElement("form",null,r.a.createElement(M.a,{style:{minHeight:"100vh",textAlign:"center"},direction:"column",justify:"center",alignItems:"center",container:!0},r.a.createElement(M.a,{item:!0},r.a.createElement(H.a,{style:{padding:2,fontWeight:"bold",fontSize:42}},"Set your new password")),r.a.createElement(M.a,{item:!0},r.a.createElement(G.a,{className:t.field,name:"pass",label:"New Password",margin:"normal",type:w?"text":"password",value:o,onChange:function(e){return i(e.target.value)},error:k&&""===o,helperText:k&&""===o?"this field cannot be empty":"",InputProps:{endAdornment:r.a.createElement(U.a,{position:"end"},r.a.createElement(Q.a,{"aria-label":"toggle password visibility",onClick:function(){x(!1===w)},onMouseDown:R},w?r.a.createElement(Y.a,null):r.a.createElement(K.a,null)))}})),r.a.createElement(M.a,{item:!0},r.a.createElement(G.a,{className:t.field,name:"confirmpass",label:"Confirm Password",margin:"normal",type:f?"text":"password",value:d,onChange:function(e){return p(e.target.value)},error:o!==d||k&&""===d,helperText:k&&""===d?"this field cannot be empty":o!==d?"passwords do not match":"",InputProps:{endAdornment:r.a.createElement(U.a,{position:"end"},r.a.createElement(Q.a,{"aria-label":"toggle password visibility",onClick:function(){g(!1===f)},onMouseDown:R},f?r.a.createElement(Y.a,null):r.a.createElement(K.a,null)))}})),r.a.createElement(M.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(M.a,{item:!0},r.a.createElement(V.a,{style:{marginTop:16,padding:5,fontSize:18,borderRadius:"50px",width:"130px"},type:"submit",color:"primary",variant:"contained",onClick:function(e){e.preventDefault(),B(),I(!0)}},"Submit")),r.a.createElement(M.a,{item:!0},r.a.createElement(V.a,{style:{marginTop:16,marginLeft:5,padding:5,fontSize:18,borderRadius:"50px",width:"130px"},type:"submit",disabled:D,color:"primary",variant:"contained"},r.a.createElement(O.b,{style:{color:"inherit",textDecoration:"none"},to:_},"Next Page")))))))}));var Da=Object(z.a)((function(e){return{root:{flexGrow:1},field:{width:"23vw",minWidth:"250px"},link:{color:e.palette.secondary.main,textDecoration:"underline"},error:{color:e.palette.error.main}}})),La=Object(w.b)((function(e){return{user:e.user}}),(function(e){return Object(x.b)({},e)}))((function(e){var t=Da(),a=Object(n.useState)(""),l=Object(F.a)(a,2),o=l[0],i=l[1],m=Object(n.useState)(""),u=Object(F.a)(m,2),d=u[0],p=u[1],h=Object(n.useState)(!1),E=Object(F.a)(h,2),f=E[0],g=E[1],b=Object(n.useState)("/forgot/security"),y=Object(F.a)(b,2),w=y[0],x=y[1],j=Object(n.useState)(!0),C=Object(F.a)(j,2),k=C[0],I=C[1],N=Object(n.useState)(!1),S=Object(F.a)(N,2),D=S[0],L=S[1];Object(n.useEffect)((function(){A()}),[]);var A=function(){var t=Object(s.a)(c.a.mark((function t(){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.get("https://lorelines-expressapi.herokuapp.com/api/users/".concat(e.user.id,"/securityQuestion"));case 3:a=t.sent,console.log(a.data),i(a.data),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),T=function(){var t=Object(s.a)(c.a.mark((function t(){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.post("https://lorelines-expressapi.herokuapp.com/api/users/".concat(e.user.id,"/recover"),{securityPassword:d});case 3:a=t.sent,console.log(a.data),"Security answers match"===a.data?(console.log("Sucess"),x("/forgot/change"),I(!1),L(!1)):(L(!0),console.log("nope")),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),_=function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),g(!0),T();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("main",{className:t.root},r.a.createElement(M.a,{style:{height:"100vh",textAlign:"center"},direction:"column",justify:"center",alignItems:"center",container:!0},r.a.createElement(M.a,{item:!0},r.a.createElement(H.a,{style:{padding:2,fontWeight:"bold",fontSize:42}},o)),r.a.createElement(M.a,{item:!0},r.a.createElement(G.a,{className:t.field,name:"answer",label:"Answer",margin:"normal",variant:"outlined",autoComplete:"off",value:d,onChange:function(e){return p(e.target.value)},error:f&&""===d||!0===D,helperText:(f&&""===d?"this field cannot be empty":"")||(!0===D?"Wrong security answer":"")})),r.a.createElement(M.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(M.a,{item:!0},r.a.createElement(V.a,{style:{marginTop:16,padding:5,fontSize:18,borderRadius:"50px",width:"130px"},type:"submit",color:"primary",variant:"contained",onClick:_},"Submit")),r.a.createElement(M.a,{item:!0},r.a.createElement(V.a,{style:{marginTop:16,marginLeft:5,padding:5,fontSize:18,borderRadius:"50px",width:"130px"},type:"submit",disabled:k,color:"primary",variant:"contained"},r.a.createElement(O.b,{style:{color:"inherit",textDecoration:"none"},to:w},"Next Page")))),r.a.createElement(M.a,{item:!0},r.a.createElement(H.a,null,r.a.createElement(O.b,{className:t.link,to:"/"},"return to login")))))}));var Aa=Object(z.a)((function(e){return{root:{flexGrow:1},link:{color:e.palette.secondary.main,textDecoration:"underline"}}}));function Ta(){var e=Aa();return r.a.createElement("main",{className:e.root},r.a.createElement(M.a,{style:{minHeight:"100vh",textAlign:"center"},direction:"column",justify:"center",alignItems:"center",container:!0},r.a.createElement(M.a,{item:!0},r.a.createElement(H.a,null,"Your password has been changed!")),r.a.createElement(M.a,{item:!0},r.a.createElement(H.a,null,r.a.createElement(O.b,{className:e.link,to:"/"},"return to login")))))}var _a=a(412),Wa=Object(h.a)({palette:{primary:{main:"#f78d1e",contrastText:"#fff"},drawer:{main:"#d9d9d9",text:"#fff",icons:"#000"},secondary:{main:"#000"},error:{main:"#ff0000"}}}),Ra={dark:Object(h.a)({palette:{primary:{main:"#f78d1e",contrastText:"#fff"},drawer:{main:"#222",text:"#fff",icons:"#fff"},secondary:{main:"#fff"},error:{main:"#ff0000"},type:"dark"}}),light:Wa},Fa=function(e){return{root:{display:"flex"},center:{flex:1,flexDirection:"column",alignItems:"center",justifyContent:"center"}}},Ba=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).tryLogin=function(){var e=Object(s.a)(c.a.mark((function e(t,a){var r,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.setState.loading=!0,e.next=4,v.a.post("https://lorelines-expressapi.herokuapp.com/api/users/token",{email:t,password:a});case 4:return r=e.sent,l=r.data,localStorage.setItem("token",l),n.setState({loading:!1,auth:!0}),n.props.setUser(_a(l)),e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(0),n.setState.loading=!1,e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a){return e.apply(this,arguments)}}(),n.createUser=function(){var e=Object(s.a)(c.a.mark((function e(t,a,r,l,o){var i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.setState.loading=!0,e.next=4,v.a.post("https://lorelines-expressapi.herokuapp.com/api/users",{name:t,email:a,password:r,securityQuestion:l,securityPassword:o});case 4:return i=e.sent,s=i.data,localStorage.setItem("token",s),n.setState.auth=!0,n.props.setLoading(!1),e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(0),n.setState.loading=!1,e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a,n,r,l){return e.apply(this,arguments)}}(),n.logout=function(){n.props.setLoreline(null),localStorage.removeItem("token"),n.setState({auth:!1,userData:null})},n.state={auth:!1},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("token");t&&v.a.put("https://lorelines-expressapi.herokuapp.com/api/users/token",{token:t}).then((function(t){localStorage.setItem("token",t.data),e.setState({auth:!0,userData:_a(t.data)});var a=_a(t.data);e.props.setUser({id:a.id,name:a.name,email:a.email})})).catch()}},{key:"render",value:function(){return r.a.createElement(E.a,{theme:Ra[this.props.colorTheme]},r.a.createElement(f.a,{style:{zIndex:2e3},open:this.props.loading},r.a.createElement(g.a,{color:"inherit"})),r.a.createElement(b.a,null),r.a.createElement("div",{className:Fa.root},r.a.createElement(O.a,null,this.state.auth&&r.a.createElement(j.a,{to:"/app"}),r.a.createElement(j.b,{path:"/app"},r.a.createElement(ha,{logout:this.logout,auth:this.state.auth})),r.a.createElement(j.b,{exact:!0,path:"/"},r.a.createElement(ee,{className:Fa.center,tryLogin:this.tryLogin})),r.a.createElement(j.b,{exact:!0,path:"/forgot",component:Ia}),r.a.createElement(j.b,{exact:!0,path:"/forgot/security",component:La}),r.a.createElement(j.b,{exact:!0,path:"/forgot/change",component:Sa}),r.a.createElement(j.b,{exact:!0,path:"/forgot/confirmation",component:Ta}),r.a.createElement(j.b,{exact:!0,path:"/register"},r.a.createElement(wa,{createUser:this.createUser})),r.a.createElement(j.b,{exact:!0,path:"/register/confirm"},r.a.createElement(Oa,null)))))}}]),a}(n.Component);var Pa=Object(w.b)((function(e){return{user:e.user,loading:e.loading,colorTheme:e.colorTheme}}),(function(e){return Object(x.b)({setUser:C,setLoading:N,setLoreline:k},e)}))(Ba);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var za=a(204),Ma=Object(x.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_SET":return t.payload}return e},directory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DIRECTORY_CHANGED":return t.payload}return e},window:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:100,height:100},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_WINDOW_HEIGHT":return{width:e.width,height:t.payload};case"SET_WINDOW_WIDTH":return{width:t.payload,height:e.height}}return e},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADING":return t.payload}return e},colorTheme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dark",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_THEME":return t.payload}return e},lorelineId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LORELINE_CHANGED":return t.payload}return e},lorelineArray:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LORELINE_ARRAY":return t.payload}return e},entityId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ENTITY_CHANGED":return t.payload}return e},instanceId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INSTANCEID_CHANGED":return t.payload}return e},instance:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INSTANCE_CHANGED":return t.payload}return e}}),Ha=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||x.d,Ga=Object(x.e)(Ma,Ha(Object(x.a)(za.a)));o.a.render(r.a.createElement(w.a,{store:Ga},r.a.createElement(Pa,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[216,1,2]]]);
//# sourceMappingURL=main.a04db6ce.chunk.js.map