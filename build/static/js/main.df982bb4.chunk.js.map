{"version":3,"sources":["images/logo.svg","actions/index.js","components/LoginForm.js","components/Topbar.js","components/Sidebar.js","components/Timeline.js","components/Account.js","components/directory_interaction/DirectoryList.js","components/directory_interaction/InstanceViewer.js","components/custom_entity_fields/EntityField.js","components/custom_entity_fields/SectionDivider.js","components/custom_entity_fields/RadioListEntityField.js","components/directory_interaction/CustomEntityCreator.js","components/instance_fields/InstanceTextField.js","components/instance_fields/InstanceCheckBoxField.js","components/instance_fields/InstanceNumberField.js","components/instance_fields/InstanceHeader.js","components/instance_fields/InstanceRadioListField.js","components/instance_fields/InstanceDivider.js","components/instance_fields/InstanceImageField.js","components/directory_interaction/EntityInstanceCreator.js","components/Directory.js","components/About.js","components/loreline_interaction/NewLorelineDialog.js","components/loreline_interaction/DeleteLorelineDialog.js","components/Lorelines.js","components/Home.js","components/RegisterForm.js","components/RegisterConfirmation.js","components/ForgotPassword.js","App.js","serviceWorker.js","reducers/index.js","reducers/UserReducer.js","reducers/DirectoryReducer.js","reducers/WindowReducer.js","reducers/LoadingReducer.js","reducers/ThemeReducer.js","reducers/CurrentLorelineReducer.js","reducers/LorelineArrayReducer.js","reducers/CurrentEntityReducer.js","reducers/CurrentInstanceReducer.js","reducers/AxiosInstanceReducer.js","index.js"],"names":["module","exports","setUser","user","type","payload","setDirectory","list","setLoreline","lorelineId","setLorelineArray","lorelineArray","setLoading","isLoading","setWindowWidth","width","setWindowHeight","height","setInstanceId","instanceId","console","log","setInstance","entityId","dispatch","axios","get","then","response","setInstanceSuccess","data","catch","error","instance","setEntityId","useStyles","makeStyles","theme","content","flexGrow","link","color","palette","secondary","main","textDecoration","field","minWidth","LoginForm","props","useState","email","setEmail","password","setPassword","submitAttempted","setSubmitAttempted","loginFailed","setLoginFailed","showPassword","setShowPassword","classes","onSubmit","e","a","preventDefault","Validator","validate","tryLogin","accept","className","Grid","style","minHeight","textAlign","container","direction","justify","alignItems","alt","src","Logo","item","Typography","padding","fontWeight","fontSize","TextField","helperText","name","label","variant","margin","autoComplete","InputProps","startAdornment","InputAdornment","position","Mail","value","onChange","target","Lock","endAdornment","IconButton","aria-label","onClick","onMouseDown","event","Visibility","VisibilityOff","Button","marginTop","borderRadius","to","root","display","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","enteringScreen","menuButton","marginRight","hide","toolbar","justifyContent","mixins","logo","fill","breakpoints","up","orange","primary","logoutButton","backgroundColor","logoutIcon","Topbar","useTheme","widthAboveMd","useMediaQuery","AppBar","clsx","drawerOpen","Toolbar","setDrawerOpen","edge","Menu","xmlns","viewBox","id","data-name","cx","cy","r","d","logout","ExitToApp","flexShrink","whiteSpace","overflowX","drawerClose","spacing","connect","state","loreline","Drawer","paper","open","Close","Divider","List","ListItem","button","key","ListItemIcon","AccountCircle","ListItemText","Apps","Timeline","disabled","Info","drawerPaper","anchor","window","DirectoryList","handleInstanceSelect","setMode","modes","INSTANCE_VIEWER","handleEntityDropdown","setState","handleEntityDelete","handleEntityInstantiation","INSTANCE_CREATION","this","updateDirectoryList","marginBottom","Array","from","directory","map","entity","_id","borderStyle","borderWidth","borderColor","ButtonGroup","fullWidth","AddCircle","overflow","textOverflow","textTransform","ExpandLess","ExpandMore","Delete","Collapse","in","timeout","unmountOnExit","component","disablePadding","instances","i","Component","bindActionCreators","InstanceViewer","flex","card","input","delete","EntityField","validationFailed","errorStyle","border","Card","xs","InputBase","placeholder","changeLabel","index","typeName","Tooltip","title","remove","SectionDivider","options","setOptions","updateOptions","op","handleRemoveOption","array","length","splice","handleOptionLabelChange","optionsNeedLabels","option","Option","removeOption","startIcon","Add","newBoxes","concat","placement","size","CustomEntityCreator","handleFeedbackClose","reason","creationFeedbackOpen","addEntityToDB","post","handleAddItem","commonName","actualName","fields","handleMenuClose","handleRemoveItem","handleMenuClick","anchorEl","currentTarget","handleFieldLabelChange","handleNameChange","handleColorChange","hex","handleSetRadioOptions","handleCreateEntity","forEach","errorMessage","inputProps","onChangeComplete","keepMounted","Boolean","onClose","MenuItem","Save","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","message","action","Fragment","InstanceTextField","CardContent","gutterBottom","multiline","rowsMax","setContent","InstanceCheckBoxField","FormControlLabel","control","Checkbox","checked","labelPlacement","InstanceNumberField","InstanceHeader","InstanceRadioListField","CardHeader","subheader","RadioGroup","setValue","Radio","InstanceDivider","image","noImage","getImageURL","file","FormData","append","headers","_boundary","res","CardMedia","imageURL","files","failed","alert","toFixed","url","handleFileChange","addInstanceToDB","retreiveEntityFromDB","entityName","handleInstanceNameChange","instanceName","handleContentChange","handleRadioChange","handleCreateInstance","undefined","React","mode","IDLE","ENTITY_CREATION","EntityInstanceCreator","Fab","bottom","right","NewLorelineDialog","Dialog","isOpen","handleNewDialogClose","DialogTitle","DialogContent","lorelineName","autoFocus","onLorelineNameChange","FormGroup","setNewLorelineImage","align","newLorelineImage","arrow","usingStaticEnities","toggleUsingStaticEntities","DialogActions","onNewLorelineSubmit","deletebutton","DeleteLorelineDialog","deleteDialogOpen","handleDeleteDialogClose","deleteLorelineName","DialogContentText","deleteLorelineFromDB","deleteLorelineId","selectedCard","boxShadow","cardimage","cardheader","setDeleteDialogOpen","setUsingStaticEntities","newDialogOpen","setNewDialogOpen","setDeleteLorelineId","setDeleteLorelineName","setCreationFeedbackOpen","setLorelineName","useEffect","GetLorelines","createNewLoreline","imagePath","indexOf","CardActionArea","Date","modified","toLocaleDateString","toLocaleTimeString","CardActions","FileCopy","styleClasses","box","openWidth","closedWidth","topBar","Home","toggleDrawer","updateWindowDimensions","bind","addEventListener","removeEventListener","innerWidth","innerHeight","auth","path","RegisterForm","confirmEmail","confirmPassword","showConfirmPassword","emailExists","values","setValues","handleChange","prop","handleMouseDownPassword","confirmpassword","exists","createUser","jwtDecode","require","light","createMuiTheme","contrastText","text","icons","themes","dark","center","flexDirection","App","loading","localStorage","setItem","removeItem","userData","token","getItem","put","temp","colorTheme","Backdrop","CircularProgress","CssBaseline","exact","ForgotPassword","RegisterConfirmation","location","hostname","match","allReducers","combineReducers","composeEnhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.df982bb4.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.e2142875.svg\";","/** @format */\r\nimport axios from 'axios'\r\n\r\nconst apiUrl = 'https://lorelines-expressapi.herokuapp.com/api/lorelines'\r\n\r\nexport const setUser = user => {\r\n\treturn {\r\n\t\ttype: 'USER_SET',\r\n\t\tpayload: user,\r\n\t}\r\n}\r\n\r\nexport const setDirectory = list => {\r\n\treturn {\r\n\t\ttype: 'DIRECTORY_CHANGED',\r\n\t\tpayload: list,\r\n\t}\r\n}\r\n\r\nexport const setLoreline = lorelineId => {\r\n\treturn {\r\n\t\ttype: 'LORELINE_CHANGED',\r\n\t\tpayload: lorelineId,\r\n\t}\r\n}\r\n\r\nexport const setLorelineArray = lorelineArray => {\r\n\treturn {\r\n\t\ttype: 'SET_LORELINE_ARRAY',\r\n\t\tpayload: lorelineArray,\r\n\t}\r\n}\r\n\r\nexport const setLoading = isLoading => {\r\n\treturn {\r\n\t\ttype: 'SET_LOADING',\r\n\t\tpayload: isLoading,\r\n\t}\r\n}\r\n\r\nexport const setTheme = theme => {\r\n\treturn {\r\n\t\ttype: 'SET_THEME',\r\n\t\tpayload: theme,\r\n\t}\r\n}\r\n\r\nexport const setWindowWidth = width => {\r\n\treturn {\r\n\t\ttype: 'SET_WINDOW_WIDTH',\r\n\t\tpayload: width,\r\n\t}\r\n}\r\n\r\nexport const setWindowHeight = height => {\r\n\treturn {\r\n\t\ttype: 'SET_WINDOW_HEIGHT',\r\n\t\tpayload: height,\r\n\t}\r\n}\r\n\r\nexport const setInstanceId = instanceId => {\r\n\tconsole.log('set instance to: ', instanceId)\r\n\treturn {\r\n\t\ttype: 'INSTANCEID_CHANGED',\r\n\t\tpayload: instanceId,\r\n\t}\r\n}\r\n\r\nexport const setInstance = (lorelineId, entityId, instanceId) => {\r\n\tconsole.log('Passed in values are: ', (lorelineId, entityId, instanceId))\r\n\treturn dispatch => {\r\n\t\treturn axios\r\n\t\t\t.get(`${apiUrl}/${lorelineId}/entities/${entityId}/instances/${instanceId}`)\r\n\t\t\t.then(response => {\r\n\t\t\t\tdispatch(setInstanceSuccess(response.data))\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tthrow error\r\n\t\t\t})\r\n\t}\r\n}\r\nexport const setInstanceSuccess = instance => {\r\n\tconsole.log('Should be instance object: ', instance)\r\n\treturn {\r\n\t\ttype: 'INSTANCE_CHANGED',\r\n\t\tpayload: instance,\r\n\t}\r\n}\r\n\r\nexport const setEntityId = entityId => {\r\n\tconsole.log('set entity to: ', entityId)\r\n\treturn {\r\n\t\ttype: 'ENTITY_CHANGED',\r\n\t\tpayload: entityId,\r\n\t}\r\n}\r\n","/** @format */\r\n\r\nimport React, { useState } from 'react';\r\nimport Logo from '../images/logo.svg';\r\nimport {\r\n  TextField,\r\n  Typography,\r\n  Button,\r\n  InputAdornment,\r\n  makeStyles,\r\n  Grid,\r\n  IconButton\r\n} from '@material-ui/core';\r\n\r\nimport { Mail, Lock, Visibility, VisibilityOff } from '@material-ui/icons';\r\nimport { Link } from 'react-router-dom';\r\nimport Validator from 'email-validator';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  content: {\r\n    flexGrow: 1\r\n  },\r\n  link: {\r\n    color: theme.palette.secondary.main,\r\n    textDecoration: 'underline'\r\n  },\r\n  field: {\r\n    width: '20vw',\r\n    minWidth: '250px'\r\n  },\r\n  error: {\r\n    color: theme.palette.error.main\r\n  }\r\n}));\r\n\r\nexport default function LoginForm(props) {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [submitAttempted, setSubmitAttempted] = useState(false);\r\n  const [loginFailed, setLoginFailed] = useState(false);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n\r\n  const classes = useStyles();\r\n  //const onSubmit = (e) => {\r\n  //    e.preventDefault();\r\n  //}\r\n\r\n  const onEmailChange = e => setEmail(e.target.value);\r\n\r\n  const onPasswordChange = e => setPassword(e.target.value);\r\n\r\n  const onSubmit = async e => {\r\n    e.preventDefault();\r\n    setSubmitAttempted(true);\r\n\r\n    if (Validator.validate(email) && password !== '') {\r\n      let accept = await props.tryLogin(email, password);\r\n      if (!accept) setLoginFailed(true);\r\n      return accept;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const handleClickShowPassword = () => setShowPassword(!showPassword);\r\n\r\n  const handleMouseDownPassword = event => event.preventDefault();\r\n\r\n  return (\r\n    <main className={classes.content}>\r\n      <form>\r\n        <Grid\r\n          style={{ minHeight: '100vh', textAlign: 'center' }}\r\n          container\r\n          direction=\"column\"\r\n          justify=\"center\"\r\n          alignItems=\"center\"\r\n        >\r\n          <img alt=\"logo\" src={Logo} width={160} />\r\n          <br />\r\n          <Grid item>\r\n            <Typography\r\n              style={{\r\n                padding: 2,\r\n                fontWeight: 900,\r\n                fontSize: 50\r\n              }}\r\n            >\r\n              Log in to Lorelines\r\n            </Typography>\r\n          </Grid>\r\n          <Grid item>\r\n            <TextField\r\n              className={classes.field}\r\n              error={\r\n                (submitAttempted && email === '') ||\r\n                (submitAttempted && !Validator.validate(email))\r\n              }\r\n              helperText={\r\n                submitAttempted && email === ''\r\n                  ? 'this field cannot be empty'\r\n                  : '' || (submitAttempted && !Validator.validate(email))\r\n                  ? 'invalid email address'\r\n                  : ''\r\n              }\r\n              name=\"email\"\r\n              label=\"Email\"\r\n              type=\"email\"\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              autoComplete=\"off\"\r\n              InputProps={{\r\n                startAdornment: (\r\n                  <InputAdornment position=\"start\">\r\n                    <Mail color=\"secondary\" />\r\n                  </InputAdornment>\r\n                )\r\n              }}\r\n              value={email}\r\n              onChange={onEmailChange}\r\n            />\r\n          </Grid>\r\n          <Grid item>\r\n            <TextField\r\n              className={classes.field}\r\n              error={submitAttempted && password === ''}\r\n              helperText={\r\n                submitAttempted && password === ''\r\n                  ? 'this field cannot be empty'\r\n                  : ''\r\n              }\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              type={showPassword ? 'text' : 'password'}\r\n              autoComplete=\"off\"\r\n              InputProps={{\r\n                startAdornment: (\r\n                  <InputAdornment position=\"start\">\r\n                    <Lock color=\"secondary\" />\r\n                  </InputAdornment>\r\n                ),\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton\r\n                      aria-label=\"toggle password visibility\"\r\n                      onClick={handleClickShowPassword}\r\n                      onMouseDown={handleMouseDownPassword}\r\n                    >\r\n                      {showPassword ? <Visibility /> : <VisibilityOff />}\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                )\r\n              }}\r\n              value={password}\r\n              onChange={onPasswordChange}\r\n            />\r\n          </Grid>\r\n          {loginFailed && (\r\n            <Grid item>\r\n              <Typography\r\n                className={classes.error}\r\n                style={{ padding: 5, fontSize: 16 }}\r\n              >\r\n                an incorrect email or password was provided\r\n                <br />\r\n                please try again\r\n              </Typography>\r\n            </Grid>\r\n          )}\r\n          <Grid item>\r\n            <Button\r\n              style={{\r\n                marginTop: 16,\r\n                padding: 5,\r\n                fontSize: 22,\r\n                borderRadius: '50px',\r\n                width: '260px'\r\n              }}\r\n              type=\"submit\"\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              onClick={async e => await onSubmit(e)}\r\n            >\r\n              Log in\r\n            </Button>\r\n          </Grid>\r\n          <Grid item>\r\n            <Typography style={{ padding: 5, fontSize: 16 }}>\r\n              I forgot{' '}\r\n              <Link className={classes.link} to=\"/forgot\">\r\n                my password\r\n              </Link>\r\n            </Typography>\r\n          </Grid>\r\n          <Grid item>\r\n            <Typography style={{ padding: 30, fontSize: 20 }}>\r\n              Don't have a Lorelines account?{' '}\r\n              <Link className={classes.link} to=\"/register\">\r\n                Click here\r\n              </Link>\r\n            </Typography>\r\n          </Grid>\r\n        </Grid>\r\n      </form>\r\n    </main>\r\n  );\r\n}\r\n","/** @format */\r\n\r\nimport clsx from 'clsx';\r\nimport React from 'react';\r\nimport {\r\n  AppBar,\r\n  Toolbar,\r\n  makeStyles,\r\n  IconButton,\r\n  Button,\r\n  useMediaQuery,\r\n  useTheme\r\n} from '@material-ui/core';\r\nimport { Menu, ExitToApp } from '@material-ui/icons';\r\n\r\nconst drawerWidthExpanded = 240;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: 'flex'\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen\r\n    })\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidthExpanded,\r\n    width: `calc(100% - ${drawerWidthExpanded}px)`,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen\r\n    })\r\n  },\r\n  menuButton: {\r\n    marginRight: 36\r\n  },\r\n  hide: {\r\n    display: 'none'\r\n  },\r\n  toolbar: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    ...theme.mixins.toolbar\r\n  },\r\n  logo: {\r\n    fill: '#fff',\r\n    height: 35,\r\n    [theme.breakpoints.up('md')]: {\r\n      height: 50\r\n    }\r\n  },\r\n  orange: {\r\n    fill: theme.palette.primary.main\r\n  },\r\n  logoutButton: {\r\n    color: theme.palette.primary.main,\r\n    backgroundColor: 'white',\r\n    fontSize: 14,\r\n    fontWeight: 'bolder',\r\n    marginLeft: 'auto',\r\n    marginRight: 0,\r\n    '&:hover': {\r\n      backgroundColor: '#303030',\r\n      color: theme.palette.primary.main\r\n    }\r\n  },\r\n  logoutIcon: {\r\n    marginLeft: 'auto',\r\n    marginRight: 0\r\n  }\r\n}));\r\n\r\nexport default function Topbar(props) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const widthAboveMd = useMediaQuery(theme.breakpoints.up('md'));\r\n\r\n  function LogoutButton() {\r\n    if (widthAboveMd)\r\n      return (\r\n        <Button className={classes.logoutButton} onClick={props.logout}>\r\n          Log Out\r\n        </Button>\r\n      );\r\n\r\n    return (\r\n      <IconButton className={classes.logoutIcon} onClick={props.logout}>\r\n        <ExitToApp />\r\n      </IconButton>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar\r\n        position=\"fixed\"\r\n        className={clsx(classes.appBar, {\r\n          [classes.appBarShift]: props.drawerOpen\r\n        })}\r\n      >\r\n        <Toolbar>\r\n          <IconButton\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={() => props.setDrawerOpen(true)}\r\n            edge=\"start\"\r\n            className={clsx(\r\n              classes.menuButton,\r\n              props.drawerOpen && classes.hide\r\n            )}\r\n          >\r\n            <Menu />\r\n          </IconButton>\r\n          <svg\r\n            className={classes.logo}\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            viewBox=\"0 0 41.17 41.17\"\r\n          >\r\n            <g id=\"Layer_2\" data-name=\"Layer 2\">\r\n              <g id=\"Layer_1-2\" data-name=\"Layer 1\">\r\n                <circle className=\"cls-1\" cx=\"20.58\" cy=\"20.58\" r=\"20.58\" />\r\n                <path\r\n                  className={classes.orange}\r\n                  d=\"M16.76,13.22a.46.46,0,0,0,.74-.12l1.21-2.4a1.51,1.51,0,0,0-.91-2.11A1.55,1.55,0,0,0,16,9.43l-.86,1.71a.46.46,0,0,0,.09.54Z\"\r\n                />\r\n                <path\r\n                  className={classes.orange}\r\n                  d=\"M13.08,16.61a.47.47,0,0,0-.75.13L5.46,30.47a1.51,1.51,0,0,0,1.15,2.16,1.54,1.54,0,0,0,1.57-.87l6.53-13.07a.47.47,0,0,0-.09-.54Z\"\r\n                />\r\n                <path\r\n                  className={classes.orange}\r\n                  d=\"M34.56,8.53A1.55,1.55,0,0,0,33,9.41L26.46,22.48a.46.46,0,0,0,.09.53l1.54,1.54a.46.46,0,0,0,.75-.12L35.71,10.7A1.51,1.51,0,0,0,34.56,8.53Z\"\r\n                />\r\n                <path\r\n                  className={classes.orange}\r\n                  d=\"M24.41,28a.46.46,0,0,0-.75.12l-1.2,2.4a1.51,1.51,0,0,0,.91,2.11,1.55,1.55,0,0,0,1.81-.84L26,30a.46.46,0,0,0-.09-.54Z\"\r\n                />\r\n                <path\r\n                  className={classes.orange}\r\n                  d=\"M10.81,8.68a1.51,1.51,0,0,0-2.13,2.13L30.36,32.48a1.5,1.5,0,0,0,2.12-2.12Z\"\r\n                />\r\n              </g>\r\n            </g>\r\n          </svg>\r\n          <svg\r\n            className={classes.logo}\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            viewBox=\"0 0 168.56 43.24\"\r\n          >\r\n            <g id=\"Layer_2\" data-name=\"Layer 2\">\r\n              <g id=\"Layer_1-2\" data-name=\"Layer 1\">\r\n                <path\r\n                  className=\"cls-1\"\r\n                  d=\"M21.74,35.33c-6.19,0-11.95,4-15.55,4-.72,0-.92-.48-.92-1C5.27,27.81,21.54,4.2,31.73,4.2c1.28,0,1.8.52,1.8,1.35,0,3.28-8.11,11.31-13.31,11.31-.76,0-.92-.68-1.28-.68s-.36.84-.36,1.08c0,2.56,1.92,3.12,3.88,3.12,6.27,0,15.78-10.19,15.78-16.14C38.24,1.76,36.61,0,32.37,0,15.71,0,0,29.41,0,39c0,2.64,2.76,4.2,5.63,4.2,6.44,0,11.11-3,16.59-3a1.94,1.94,0,0,0,2-2A2.57,2.57,0,0,0,21.74,35.33Z\"\r\n                />\r\n                <path\r\n                  className=\"cls-1\"\r\n                  d=\"M88.64,36.53c-1.12,0-1.6.52-2.6.52-1.68,0-2.32-1.6-2.32-4a25.51,25.51,0,0,1,.64-5.12C93.15,25.42,99,18.1,99,13.19c0-2.72-1.76-4.68-5.84-4.68-5.83,0-11.86,9.23-14.14,17.87l-1.68.24a.77.77,0,0,0-.38.1c-.62-.9-2.08-1.5-4.66-1.5a13.2,13.2,0,0,0-7.6,2.42,5.59,5.59,0,0,1-2.31.81c-2.83,0-.72-2.51-4.15-2.51s-7.48,5.11-8,5.11h0c-.08,0-.12-.08-.12-.2a12.1,12.1,0,0,0,.88-3.92c0-.91-.28-1.63-1.12-1.63C48,25.3,44,29.41,39.36,29.41h0a8.15,8.15,0,0,1-8,7.16c-1.36,0-1.76-.76-1.76-1.6,0-3.76,5.92-6,10.91-6.4.64-.2,1.32-1.75,1.32-2.87,0-.64-.2-1.12-.76-1.16s-.88,0-1.32,0c-8.35,0-15,6.87-15,11.63,0,2.55,1.92,4.47,6.43,4.47,5.44,0,11.19-3.39,11.51-7.59A5.54,5.54,0,0,0,46,30.53a1.21,1.21,0,0,1,.36,1c0,1.76-1.8,6.51-1.8,7.27,0,1,1.6,1.36,3.24,1.36,1.87,0,2-1.16,2.83-2.2,1-1.63,4.2-6.39,6-6.39.8,0,1.24.84,2.32.84a6.74,6.74,0,0,0,1.74-.26,7.57,7.57,0,0,0-.86,3.34c0,2.87,2.19,5.27,7.43,5.27,4.39,0,9.11-2,9.11-4.71,0-.6-.44-1-1.24-1-1.48,0-2.4,1.72-5.31,1.72-3.48,0-3.48-1-3.48-1,5.33-.66,10.1-4.33,10.84-7.15a2,2,0,0,0,.91.19h.32a21.72,21.72,0,0,0-.4,4.12c0,4.56,1.76,7.91,6.11,7.91,2.28,0,5.36-1.44,5.36-3.31C89.48,36.81,89.32,36.53,88.64,36.53ZM91.2,12.27c1,0,1.59,1,1.59,2.44,0,2.63-2,6.91-7.51,9.63C87.08,18.26,89.92,12.27,91.2,12.27ZM66,32.69c-.32,0-.4-.16-.4-.4,0-1.88,3.24-4,4.88-4,.56,0,1.11.12,1.11.6C71.61,30.33,68,32.69,66,32.69Z\"\r\n                />\r\n                <path\r\n                  className=\"cls-1\"\r\n                  d=\"M101.23,35.05c-1.16,0-.92.84-2.48.84s-2.32-1.32-2.32-2.8c0-1.64,1.68-5.24,1.68-5.88a.75.75,0,0,0-.84-.71,13.7,13.7,0,0,0-4.12,1.11c-1.15,1.76-1.91,6.44-1.91,8.56,0,3.11,2.23,4.31,4.59,4.31,3.12,0,6.72-2.08,6.72-4.51A1.22,1.22,0,0,0,101.23,35.05Z\"\r\n                />\r\n                <path\r\n                  className=\"cls-1\"\r\n                  d=\"M162.61,28.89a27.75,27.75,0,0,0-4,.32,5.25,5.25,0,0,0-5-3.95c-5.48,0-14.79,11.71-20.38,11.71-1.44,0-1.64-.64-1.64-1a.49.49,0,0,1,0-.2c5.79-.72,11-5,11-7.88,0-1.51-1.44-2.67-5-2.67-6.41,0-11.31,4.63-12.25,8.81-1,.29-3.2,1.58-4.69,1.58-1,0-1-.84-1-1.28,0-1.32.72-2.12.72-3.6s-1.36-1.92-2.76-1.92c-3,0-7.55,3.68-8.19,3.68a.33.33,0,0,1-.32-.36c0-.6.84-2.12.84-3.44,0-1.16-.68-2.15-3.16-2.15C101,26.54,101,30,101,30c0,.72.36,1.48,1.08,1.48s1.55-.64,2.47-.64a1.44,1.44,0,0,1,1.64,1.52c0,1.76-1.8,5-1.8,6.23,0,1,1.08,1.36,1.88,1.36a2.5,2.5,0,0,0,1.56-.56c.56-.48,5.4-5,6.24-5s.83.4.83,1c0,3,.12,4.47,2.6,4.47a13.56,13.56,0,0,0,7.86-3.05c.61,2.24,2.86,3.93,7.25,3.93,8.51,0,16.5-10.95,19.06-10.95a3.34,3.34,0,0,1,2,.56c-4.84,1.52-9,4-9,7.2,0,1.55,1.44,2.71,4.63,2.71,6.88,0,9.79-4.51,9.79-8.59v0c2.68.24,5.44,1.2,5.44,3.32,0,.4-.08.72-.08,1s.2.4.48.4c1.12,0,3.71-1.68,3.71-3.6S166.61,28.89,162.61,28.89Zm-31.69,3.4c0-1.88,3.24-4,4.87-4,.56,0,1.12.12,1.12.6,0,1.44-3.63,3.8-5.59,3.8C131,32.69,130.92,32.53,130.92,32.29Zm20.34,3.48c-.68,0-1-.36-1-.8,0-1.48,2-2.6,4.36-3.12a3.33,3.33,0,0,1,.12.88C154.78,34.25,153.66,35.77,151.26,35.77Z\"\r\n                />\r\n              </g>\r\n            </g>\r\n          </svg>\r\n          <LogoutButton />\r\n        </Toolbar>\r\n      </AppBar>\r\n      <div className={classes.toolbar} />\r\n    </div>\r\n  );\r\n}\r\n","/** @format */\r\n\r\nimport clsx from 'clsx'\r\nimport React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport {\r\n  Drawer,\r\n  Divider,\r\n  List,\r\n  ListItem,\r\n  makeStyles,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  IconButton\r\n} from '@material-ui/core'\r\nimport {\r\n  AccountCircle,\r\n  LibraryAdd,\r\n  Apps,\r\n  Timeline,\r\n  List as ListIcon,\r\n  Info,\r\n  Close\r\n} from '@material-ui/icons'\r\n\r\nconst drawerWidthExpanded = 240\r\nconst drawerWidthCondensed = 58\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  drawer: {\r\n    width: drawerWidthExpanded,\r\n    flexShrink: 0,\r\n    whiteSpace: 'nowrap'\r\n  },\r\n  drawerOpen: {\r\n    overflowX: 'hidden',\r\n    width: drawerWidthExpanded,\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen\r\n    })\r\n  },\r\n  drawerClose: {\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen\r\n    }),\r\n    overflowX: 'hidden',\r\n    width: drawerWidthCondensed, //theme.spacing(7) + 1,\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: drawerWidthCondensed //theme.spacing(9) + 1,\r\n    }\r\n  },\r\n  toolbar: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    padding: theme.spacing(0, 1),\r\n    ...theme.mixins.toolbar\r\n  },\r\n  link: {\r\n    color: theme.palette.secondary.main,\r\n    textDecoration: 'underline'\r\n  }\r\n}))\r\n\r\nexport default connect(mapStateToProps)(function Sidebar(props) {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <div>\r\n      <Drawer\r\n        variant='permanent'\r\n        className={clsx(classes.drawer, {\r\n          [classes.drawerOpen]: props.drawerOpen,\r\n          [classes.drawerClose]: !props.drawerOpen\r\n        })}\r\n        classes={{\r\n          paper: clsx({\r\n            [classes.drawerOpen]: props.drawerOpen,\r\n            [classes.drawerClose]: !props.drawerOpen\r\n          })\r\n        }}\r\n        open={props.drawerOpen}\r\n      >\r\n        <div className={classes.toolbar}>\r\n          <IconButton onClick={() => props.setDrawerOpen(false)}>\r\n            <Close color='secondary' />\r\n          </IconButton>\r\n        </div>\r\n        <Divider />\r\n        <List>\r\n          <Link className={classes.link} to='/app/account'>\r\n            <ListItem button key='Account'>\r\n              <ListItemIcon>\r\n                <AccountCircle color='secondary' />\r\n              </ListItemIcon>\r\n              <ListItemText primary='Account' />\r\n            </ListItem>\r\n          </Link>\r\n          <Link className={classes.link} to='/app/lorelines'>\r\n            <ListItem button key='Lorelines'>\r\n              <ListItemIcon>\r\n                <Apps color='secondary' />\r\n              </ListItemIcon>\r\n              <ListItemText primary='Lorelines' />\r\n            </ListItem>\r\n          </Link>\r\n        </List>\r\n        <Divider />\r\n        <List>\r\n          {props.loreline != null ? (\r\n            <Link className={classes.link} to='/app/timeline'>\r\n              <ListItem button key='Timeline'>\r\n                <ListItemIcon>\r\n                  <Timeline color='secondary' />\r\n                </ListItemIcon>\r\n                <ListItemText primary='Timeline' />\r\n              </ListItem>\r\n            </Link>\r\n          ) : (\r\n            <ListItem button key='Timeline' disabled>\r\n              <ListItemIcon>\r\n                <Timeline color='secondary' />\r\n              </ListItemIcon>\r\n              <ListItemText primary='Timeline' />\r\n            </ListItem>\r\n          )}\r\n          {props.loreline != null ? (\r\n            <Link className={classes.link} to='/app/directory'>\r\n              <ListItem button key='Directory'>\r\n                <ListItemIcon>\r\n                  <ListIcon color='secondary' />\r\n                </ListItemIcon>\r\n                <ListItemText primary='Directory' />\r\n              </ListItem>\r\n            </Link>\r\n          ) : (\r\n            <ListItem button key='Directory' disabled>\r\n              <ListItemIcon>\r\n                <ListIcon color='secondary' />\r\n              </ListItemIcon>\r\n              <ListItemText primary='Directory' />\r\n            </ListItem>\r\n          )}\r\n        </List>\r\n        <Divider />\r\n        <List>\r\n          <Link className={classes.link} to='/app/about'>\r\n            <ListItem button key='About Lorelines'>\r\n              <ListItemIcon>\r\n                <Info color='secondary' />\r\n              </ListItemIcon>\r\n              <ListItemText primary='About Lorelines' />\r\n            </ListItem>\r\n          </Link>\r\n        </List>\r\n      </Drawer>\r\n    </div>\r\n  )\r\n})\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    loreline: state.lorelineId\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  makeStyles,\r\n  Grid,\r\n  Typography,\r\n  Drawer,\r\n  List,\r\n  Divider,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemIcon\r\n} from \"@material-ui/core\";\r\n\r\nimport FontDownloadIcon from \"@material-ui/icons/FontDownloadOutlined\";\r\nimport FormatListNumbered from \"@material-ui/icons/FormatListNumberedOutlined\";\r\nimport FlightTakeoffOutlined from \"@material-ui/icons/FlightTakeoffOutlined\";\r\nimport CallMade from \"@material-ui/icons/CallMadeOutlined\";\r\n\r\nconst drawerWidth = 120;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\"\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0\r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3)\r\n  },\r\n  toolbar: theme.mixins.toolbar\r\n}));\r\n\r\nexport default function Timeline() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <main className={classes.root}>\r\n      <Grid\r\n        style={{ height: \"70vh\", width: \"70vw\", textAlign: \"center\" }}\r\n        direction=\"row\"\r\n        justify=\"center\"\r\n        alignItems=\"center\"\r\n        container\r\n      >\r\n        <Grid item>\r\n          <Typography>Canvas and Drag/Drop Components in progress</Typography>\r\n        </Grid>\r\n      </Grid>\r\n      <div>\r\n        <Drawer className={classes.drawer} variant=\"permanent\" anchor=\"right\">\r\n          <div className={classes.toolbar}></div>\r\n          <List>\r\n            <ListItem button key=\"Event Node\">\r\n              <ListItemIcon>\r\n                <FontDownloadIcon color=\"secondary\" />\r\n              </ListItemIcon>\r\n              <ListItemText primary=\"Event Node\" />\r\n            </ListItem>\r\n            <ListItem button key=\"Branching Event Node\">\r\n              <ListItemIcon>\r\n                <FormatListNumbered color=\"secondary\" />\r\n              </ListItemIcon>\r\n              <ListItemText primary=\"Branching Node\" />\r\n            </ListItem>\r\n            <ListItem button key=\"Tether\">\r\n              <ListItemIcon>\r\n                <CallMade color=\"secondary\" />\r\n              </ListItemIcon>\r\n              <ListItemText primary=\"Tether\" />\r\n            </ListItem>\r\n            <Divider />\r\n            <ListItem button key=\"Warp Node\">\r\n              <ListItemIcon>\r\n                <FlightTakeoffOutlined color=\"secondary\" />\r\n              </ListItemIcon>\r\n              <ListItemText primary=\"Warp Node\" />\r\n            </ListItem>\r\n          </List>\r\n        </Drawer>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n","/** @format */\r\n\r\nimport React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { makeStyles, Grid, Typography } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1\r\n  },\r\n  link: {\r\n    color: theme.palette.secondary.main,\r\n    textDecoration: 'underline'\r\n  }\r\n}))\r\n\r\nexport default connect(mapStateToProps)(function Account(props) {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <main className={classes.root}>\r\n      <Grid\r\n        style={{\r\n          height: props.window.height,\r\n          textAlign: 'left'\r\n        }}\r\n        direction='column'\r\n        justify='center'\r\n        alignItems='center'\r\n        container\r\n      >\r\n        <Grid item>\r\n          <Typography>\r\n            Hello, {props.user.name || 'null'}, this is your account view\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item>\r\n          <Typography>Email: {props.user.email || 'null'}</Typography>\r\n          <Typography>\r\n            Lorelines: <b>3/5</b>\r\n          </Typography>\r\n          <Typography>Member Since: 12/02/19</Typography>\r\n        </Grid>\r\n      </Grid>\r\n    </main>\r\n  )\r\n})\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    user: state.user,\r\n    window: state.window\r\n  }\r\n}\r\n","/** @format */\r\n\r\nimport React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport { List, ListItem, Button, Collapse, Typography, ButtonGroup, Divider } from '@material-ui/core'\r\nimport { ExpandLess, ExpandMore, AddCircle, Delete } from '@material-ui/icons'\r\nimport { setInstanceId, setEntityId, setInstance } from '../../actions/index'\r\n\r\nclass DirectoryList extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = { open: {} }\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.updateDirectoryList()\r\n\t}\r\n\r\n\thandleInstanceSelect = (instanceId, entityId) => {\r\n\t\tthis.props.setInstanceId(instanceId)\r\n\t\tthis.props.setInstance(this.props.lorelineId, entityId, instanceId)\r\n\t\tthis.props.setMode(this.props.modes.INSTANCE_VIEWER)\r\n\t}\r\n\r\n\thandleEntityDropdown = key => {\r\n\t\tthis.setState({ [key]: !this.state[key] })\r\n\t}\r\n\r\n\thandleEntityDelete = id => {}\r\n\r\n\thandleEntityInstantiation = id => {\r\n\t\tthis.props.setEntityId(id)\r\n\t\tthis.props.setMode(this.props.modes.INSTANCE_CREATION)\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<List style={{ width: 300, marginBottom: 76 }}>\r\n\t\t\t\t{Array.from(this.props.directory).map(entity => {\r\n\t\t\t\t\tconst open = this.state[entity._id] || false\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tborderStyle: 'solid',\r\n\t\t\t\t\t\t\t\tborderWidth: '1px 1px 1px 3px', //t r b l\r\n\t\t\t\t\t\t\t\tborderColor: entity.color,\r\n\t\t\t\t\t\t\t\tmarginBottom: 5,\r\n\t\t\t\t\t\t\t\tborderRadius: 5,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tkey={entity._id}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ListItem style={{ width: '100%', padding: 0 }}>\r\n\t\t\t\t\t\t\t\t<ButtonGroup fullWidth variant=\"text\" aria-label=\"text primary button group\">\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 44, borderRadius: 0, color: '#777' }}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleEntityInstantiation(entity._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<AddCircle />\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ borderRadius: 0 }}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleEntityDropdown(entity._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\ttextAlign: 'left',\r\n\t\t\t\t\t\t\t\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\t\t\t\t\t\t\t\ttextOverflow: 'clip',\r\n\t\t\t\t\t\t\t\t\t\t\t\twidth: 272,\r\n\t\t\t\t\t\t\t\t\t\t\t\ttextTransform: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: entity.color,\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"h6\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{entity.name}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t{open ? <ExpandLess /> : <ExpandMore />}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 44,\r\n\t\t\t\t\t\t\t\t\t\t\tborderRadius: 0,\r\n\t\t\t\t\t\t\t\t\t\t\tcolor: '#777',\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.handleEntityDelete(entity._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Delete />\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t<Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n\t\t\t\t\t\t\t\t<List component=\"div\" disablePadding>\r\n\t\t\t\t\t\t\t\t\t{entity.instances.map((instance, i) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<div key={instance._id + i}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListItem\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbutton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleInstanceSelect(instance._id, entity._id)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography>{instance.name}</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t\t</Collapse>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t})}\r\n\t\t\t</List>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nfunction mapStatetoProps(state) {\r\n\treturn {\r\n\t\tlorelineId: state.lorelineId,\r\n\t\tdirectory: state.directory,\r\n\t}\r\n}\r\n\r\nfunction matchDispatchToProps(dispatch) {\r\n\treturn bindActionCreators(\r\n\t\t{\r\n\t\t\tsetInstanceId: setInstanceId,\r\n\t\t\tsetEntityId: setEntityId,\r\n\t\t\tsetInstance: setInstance,\r\n\t\t},\r\n\t\tdispatch\r\n\t)\r\n}\r\n\r\nexport default connect(mapStatetoProps, matchDispatchToProps)(DirectoryList)\r\n","/**@format */\r\n\r\nimport React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { List, ListItem, ListItemText } from '@material-ui/core'\r\n\r\nclass InstanceViewer extends Component {\r\n\tstate = { open: {}, instance: [] }\r\n\r\n\tcomponentDidMount() {}\r\n\r\n\trender() {\r\n\t\tif (!this.props.instance) {\r\n\t\t\treturn <p></p>\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<List>\r\n\t\t\t\t{this.props.instance.content.map((field, i) => {\r\n\t\t\t\t\tif (field.type === 'RADIOLIST_FIELD')\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={field + i}>\r\n\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItemText primary={field.content} secondary={field.name} />\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={field + i}>\r\n\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t<ListItemText primary={field.content} secondary={field.name} />\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t})}\r\n\t\t\t</List>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nfunction mapStatetoProps(state) {\r\n\treturn {\r\n\t\tinstance: state.instance,\r\n\t}\r\n}\r\n\r\nexport default connect(mapStatetoProps)(InstanceViewer)\r\n","/** @format */\r\n\r\nimport React from 'react';\r\nimport {\r\n  makeStyles,\r\n  Grid,\r\n  Typography,\r\n  Card,\r\n  InputBase,\r\n  IconButton,\r\n  Tooltip\r\n} from '@material-ui/core';\r\nimport { Delete } from '@material-ui/icons';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flex: 1\r\n  },\r\n  card: {\r\n    minWidth: 300,\r\n    padding: 10\r\n  },\r\n  input: {\r\n    flex: 1\r\n  },\r\n  delete: {\r\n    marginLeft: 'auto'\r\n  },\r\n  content: {\r\n    flex: 1\r\n  }\r\n}));\r\n\r\nexport default function EntityField(props) {\r\n  const classes = useStyles();\r\n\r\n  const handleLabelChange = e => {\r\n    props.changeLabel(props.index, e.target.value);\r\n  };\r\n\r\n  if (props.validationFailed && props.label === '')\r\n    var errorStyle = {\r\n      style: { border: '2px solid red' }\r\n    };\r\n\r\n  return (\r\n    <main className={classes.root}>\r\n      <Card className={classes.card} {...errorStyle}>\r\n        <Grid container direction=\"column\">\r\n          <Grid xs item container direction=\"row\">\r\n            <Grid xs item>\r\n              <InputBase\r\n                className={classes.input}\r\n                placeholder=\"Label\"\r\n                onChange={handleLabelChange}\r\n                value={props.label}\r\n              />\r\n            </Grid>\r\n            <Grid item>\r\n              <Typography variant=\"overline\">{props.typeName}</Typography>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid item>\r\n            <Tooltip title={`Delete ${props.typeName}`}>\r\n              <IconButton\r\n                aria-label=\"delete\"\r\n                className={classes.delete}\r\n                onClick={() => props.remove(props.index)}\r\n              >\r\n                <Delete />\r\n              </IconButton>\r\n            </Tooltip>\r\n          </Grid>\r\n        </Grid>\r\n      </Card>\r\n    </main>\r\n  );\r\n}\r\n","/** @format */\r\n\r\nimport React from 'react';\r\nimport {\r\n  makeStyles,\r\n  Grid,\r\n  Typography,\r\n  Card,\r\n  IconButton,\r\n  Tooltip\r\n} from '@material-ui/core';\r\nimport { Delete } from '@material-ui/icons';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flex: 1\r\n  },\r\n  card: {\r\n    minWidth: 300,\r\n    padding: 10\r\n  },\r\n  input: {\r\n    flex: 1\r\n  },\r\n  delete: {\r\n    marginLeft: 'auto'\r\n  },\r\n  content: {\r\n    flex: 1\r\n  }\r\n}));\r\n\r\nexport default function SectionDivider(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <main className={classes.root}>\r\n      <Card className={classes.card}>\r\n        <Grid container direction=\"column\">\r\n          <Grid xs item container direction=\"row\">\r\n            <Grid xs item>\r\n              <Tooltip title=\"Delete divider\">\r\n                <IconButton\r\n                  aria-label=\"delete\"\r\n                  className={classes.delete}\r\n                  onClick={() => props.remove(props.index)}\r\n                >\r\n                  <Delete />\r\n                </IconButton>\r\n              </Tooltip>\r\n            </Grid>\r\n            <Grid item>\r\n              <Typography variant=\"overline\">DIVIDER</Typography>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </Card>\r\n    </main>\r\n  );\r\n}\r\n","/** @format */\r\n\r\nimport React, { useState } from 'react';\r\nimport {\r\n  makeStyles,\r\n  Grid,\r\n  Typography,\r\n  Card,\r\n  InputBase,\r\n  IconButton,\r\n  Tooltip,\r\n  List,\r\n  ListItem,\r\n  Button\r\n} from '@material-ui/core';\r\nimport { Delete, Add } from '@material-ui/icons';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flex: 1\r\n  },\r\n  card: {\r\n    minWidth: 300,\r\n    padding: 10\r\n  },\r\n  input: {\r\n    flex: 1\r\n  },\r\n  delete: {\r\n    marginLeft: 'auto'\r\n  },\r\n  content: {\r\n    flex: 1\r\n  }\r\n}));\r\n\r\nexport default function EntityField(props) {\r\n  const [options, setOptions] = useState(props.options);\r\n\r\n  const classes = useStyles();\r\n\r\n  const handleLabelChange = e => {\r\n    props.changeLabel(props.index, e.target.value);\r\n  };\r\n\r\n  const updateOptions = op => {\r\n    setOptions(op);\r\n    props.setOptions(props.index, options);\r\n  };\r\n\r\n  const handleAddOption = () => {\r\n    const newBoxes = options.concat({ label: '' });\r\n    updateOptions(newBoxes);\r\n  };\r\n\r\n  const handleRemoveOption = index => {\r\n    const array = [...options];\r\n\r\n    if (array.length > 1) {\r\n      array.splice(index, 1);\r\n\r\n      updateOptions(array);\r\n    }\r\n  };\r\n\r\n  const handleOptionLabelChange = (index, label) => {\r\n    const data = [...options];\r\n    data[index].label = label;\r\n\r\n    updateOptions(data);\r\n  };\r\n\r\n  const optionsNeedLabels = () => {\r\n    for (const option of options) {\r\n      if (option.label === '') return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  if (props.validationFailed && (props.label === '' || optionsNeedLabels()))\r\n    var errorStyle = {\r\n      style: { border: '2px solid red' }\r\n    };\r\n\r\n  return (\r\n    <main className={classes.root}>\r\n      <Tooltip title=\"The first option will be the default\">\r\n        <Card className={classes.card} {...errorStyle}>\r\n          <Grid container direction=\"column\">\r\n            <Grid xs item container direction=\"row\">\r\n              <Grid xs item>\r\n                <InputBase\r\n                  className={classes.input}\r\n                  placeholder=\"Label\"\r\n                  onChange={handleLabelChange}\r\n                  value={props.label}\r\n                />\r\n              </Grid>\r\n              <Grid item>\r\n                <Typography variant=\"overline\">radio list</Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid item>\r\n              <List>\r\n                {options.map((option, i) => {\r\n                  return (\r\n                    <ListItem key={option + i}>\r\n                      <Option\r\n                        index={i}\r\n                        removeOption={handleRemoveOption}\r\n                        changeLabel={handleOptionLabelChange}\r\n                        label={option.label}\r\n                      />\r\n                    </ListItem>\r\n                  );\r\n                })}\r\n                <Button\r\n                  startIcon={<Add />}\r\n                  variant=\"contained\"\r\n                  color=\"secondary\"\r\n                  onClick={handleAddOption}\r\n                >\r\n                  Add Option\r\n                </Button>\r\n              </List>\r\n            </Grid>\r\n            <Grid item>\r\n              <Tooltip title=\"Delete radio list\">\r\n                <IconButton\r\n                  aria-label=\"delete\"\r\n                  className={classes.delete}\r\n                  onClick={() => props.remove(props.index)}\r\n                >\r\n                  <Delete />\r\n                </IconButton>\r\n              </Tooltip>\r\n            </Grid>\r\n          </Grid>\r\n        </Card>\r\n      </Tooltip>\r\n    </main>\r\n  );\r\n}\r\n\r\nfunction Option(props) {\r\n  const classes = useStyles();\r\n\r\n  const handleLabelChange = e => {\r\n    props.changeLabel(props.index, e.target.value);\r\n  };\r\n\r\n  return (\r\n    <Grid container direction=\"row\">\r\n      <Grid xs item>\r\n        <InputBase\r\n          className={classes.input}\r\n          placeholder=\"Option Name\"\r\n          onChange={handleLabelChange}\r\n          value={props.label}\r\n        />\r\n      </Grid>\r\n      <Grid item>\r\n        <Tooltip title=\"Delete option\" placement=\"right\">\r\n          <IconButton\r\n            size=\"small\"\r\n            onClick={() => props.removeOption(props.index)}\r\n          >\r\n            <Delete />\r\n          </IconButton>\r\n        </Tooltip>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n","/** @format */\r\n\r\nimport React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport { setLoading } from '../../actions/index'\r\nimport axios from 'axios'\r\nimport {\r\n\tList,\r\n\tListItem,\r\n\tGrid,\r\n\tButton,\r\n\tTextField,\r\n\tMenu,\r\n\tMenuItem,\r\n\tTooltip,\r\n\tTypography,\r\n\tSnackbar,\r\n\tIconButton,\r\n} from '@material-ui/core'\r\nimport { Add, Save, Close } from '@material-ui/icons'\r\nimport EntityField from '../custom_entity_fields/EntityField'\r\nimport SectionDivider from '../custom_entity_fields/SectionDivider.js'\r\nimport RadioListEntityField from '../custom_entity_fields/RadioListEntityField'\r\nimport { BlockPicker } from 'react-color'\r\n\r\nclass CustomEntityCreator extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tname: '',\r\n\t\t\tcolor: '#f78d1e',\r\n\t\t\tfields: [],\r\n\t\t\tanchorEl: null,\r\n\t\t\tvalidationFailed: false,\r\n\t\t\tcreationFeedbackOpen: false,\r\n\t\t}\r\n\t}\r\n\r\n\thandleFeedbackClose = (event, reason) => {\r\n\t\tif (reason !== 'clickaway') {\r\n\t\t\tthis.setState({ creationFeedbackOpen: false })\r\n\t\t}\r\n\t}\r\n\r\n\taddEntityToDB = async entity => {\r\n\t\tthis.props.setLoading(true)\r\n\t\ttry {\r\n\t\t\tawait axios\r\n\t\t\t\t.post(`https://lorelines-expressapi.herokuapp.com/api/lorelines/${this.props.lorelineId}/entities`, {\r\n\t\t\t\t\tname: entity.name,\r\n\t\t\t\t\tcolor: entity.color,\r\n\t\t\t\t\tcontent: entity.content,\r\n\t\t\t\t})\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.props.updateDirectoryList().then(() => {\r\n\t\t\t\t\t\tthis.props.setLoading(false)\r\n\t\t\t\t\t\tthis.setState({ creationFeedbackOpen: true })\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tthis.props.setLoading(false)\r\n\t\t}\r\n\t}\r\n\r\n\thandleAddItem = (commonName, actualName) => {\r\n\t\tthis.setState({\r\n\t\t\tfields: [...this.state.fields, { commonName: commonName, actualName: actualName, label: '' }],\r\n\t\t})\r\n\t\tthis.handleMenuClose()\r\n\t}\r\n\r\n\thandleRemoveItem = index => {\r\n\t\tconst array = [...this.state.fields]\r\n\t\tarray.splice(index, 1)\r\n\t\tthis.setState({ fields: array })\r\n\t}\r\n\r\n\thandleMenuClick = event => {\r\n\t\tthis.setState({ anchorEl: event.currentTarget })\r\n\t}\r\n\r\n\thandleFieldLabelChange = (index, label) => {\r\n\t\tconst data = this.state.fields\r\n\t\tdata[index].label = label\r\n\r\n\t\tthis.setState({ fields: data })\r\n\t}\r\n\r\n\thandleMenuClose = () => {\r\n\t\tthis.setState({ anchorEl: null })\r\n\t}\r\n\r\n\thandleNameChange = e => this.setState({ name: e.target.value })\r\n\r\n\thandleColorChange = color => this.setState({ color: color.hex })\r\n\r\n\thandleSetRadioOptions = (index, options) => {\r\n\t\tconst data = this.state.fields\r\n\t\tdata[index].options = options\r\n\r\n\t\tthis.setState({ fields: data })\r\n\t}\r\n\r\n\thandleCreateEntity = () => {\r\n\t\tvar error = false\r\n\r\n\t\tif (this.state.name === '' || this.state.fields.length === 0) error = true\r\n\t\telse {\r\n\t\t\tvar content = []\r\n\r\n\t\t\tthis.state.fields.forEach((field, i) => {\r\n\t\t\t\tif (field.actualName === 'SECTION_DIVIDER') field.label = 'divider'\r\n\t\t\t\tif (field.label === '') error = true\r\n\r\n\t\t\t\tcontent = content.concat({ type: field.actualName, name: field.label })\r\n\r\n\t\t\t\tif (field.actualName === 'RADIOLIST_FIELD') {\r\n\t\t\t\t\tcontent[i].content = []\r\n\r\n\t\t\t\t\tfor (const option of field.options) {\r\n\t\t\t\t\t\tif (option.label === '') error = true\r\n\r\n\t\t\t\t\t\tcontent[i].content = content[i].content.concat({\r\n\t\t\t\t\t\t\tname: option.label,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tthis.setState({ validationFailed: error })\r\n\r\n\t\tconst entity = {\r\n\t\t\tname: this.state.name,\r\n\t\t\tcolor: this.state.color,\r\n\t\t\tcontent: content,\r\n\t\t}\r\n\r\n\t\tif (!error) this.addEntityToDB(entity)\r\n\t}\r\n\r\n\terrorMessage = () => {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Typography>all fields must have a label</Typography>\r\n\t\t\t\t{this.state.name === '' && <Typography>custom entity must be named</Typography>}\r\n\t\t\t\t{this.state.fields.length === 0 && <Typography>custom entity must have at least one field</Typography>}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Grid\r\n\t\t\t\tstyle={{ textAlign: 'center', marginTop: 20 }}\r\n\t\t\t\tcontainer\r\n\t\t\t\tdirection=\"column\"\r\n\t\t\t\tjustify=\"center\"\r\n\t\t\t\talignItems=\"center\"\r\n\t\t\t\tspacing={2}\r\n\t\t\t>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\terror={this.state.validationFailed && this.state.name === ''}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\tthis.state.validationFailed && this.state.name === '' ? 'this field cannot be empty' : ''\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlabel=\"Custom Entity Name\"\r\n\t\t\t\t\t\tvalue={this.state.name}\r\n\t\t\t\t\t\tonChange={this.handleNameChange}\r\n\t\t\t\t\t\tinputProps={{ style: { color: this.state.color } }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<Tooltip title=\"Select a color for your custom entity\">\r\n\t\t\t\t\t\t<BlockPicker color={this.state.color} onChangeComplete={this.handleColorChange} width=\"300\" />\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t{this.state.fields.map((field, i) => {\r\n\t\t\t\t\t\t\tif (field.actualName === 'SECTION_DIVIDER')\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<ListItem key={field + i}>\r\n\t\t\t\t\t\t\t\t\t\t<SectionDivider index={i} remove={this.handleRemoveItem} label={field.label} />\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\telse if (field.actualName === 'RADIOLIST_FIELD')\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<ListItem key={field + i}>\r\n\t\t\t\t\t\t\t\t\t\t<RadioListEntityField\r\n\t\t\t\t\t\t\t\t\t\t\tindex={i}\r\n\t\t\t\t\t\t\t\t\t\t\toptions={field.options ?? [{ label: '' }]}\r\n\t\t\t\t\t\t\t\t\t\t\tremove={this.handleRemoveItem}\r\n\t\t\t\t\t\t\t\t\t\t\tchangeLabel={this.handleFieldLabelChange}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={field.label}\r\n\t\t\t\t\t\t\t\t\t\t\tsetOptions={this.handleSetRadioOptions}\r\n\t\t\t\t\t\t\t\t\t\t\tvalidationFailed={this.state.validationFailed}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<ListItem key={field + i}>\r\n\t\t\t\t\t\t\t\t\t\t<EntityField\r\n\t\t\t\t\t\t\t\t\t\t\tindex={i}\r\n\t\t\t\t\t\t\t\t\t\t\ttypeName={field.commonName}\r\n\t\t\t\t\t\t\t\t\t\t\tremove={this.handleRemoveItem}\r\n\t\t\t\t\t\t\t\t\t\t\tchangeLabel={this.handleFieldLabelChange}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={field.label}\r\n\t\t\t\t\t\t\t\t\t\t\tvalidationFailed={this.state.validationFailed}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t{this.state.validationFailed && (\r\n\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tpadding: 5,\r\n\t\t\t\t\t\t\t\tfontSize: 16,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tcolor=\"error\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{this.errorMessage()}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t)}\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tstartIcon={<Add />}\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tstyle={{ width: 150 }}\r\n\t\t\t\t\t\tonClick={this.handleMenuClick}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tAdd Field\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Menu\r\n\t\t\t\t\t\tid=\"simple-menu\"\r\n\t\t\t\t\t\tanchorEl={this.state.anchorEl}\r\n\t\t\t\t\t\tkeepMounted\r\n\t\t\t\t\t\topen={Boolean(this.state.anchorEl)}\r\n\t\t\t\t\t\tonClose={this.handleMenuClose}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<MenuItem onClick={() => this.handleAddItem('text', 'TEXT_FIELD')}>Text</MenuItem>\r\n\t\t\t\t\t\t<MenuItem onClick={() => this.handleAddItem('number', 'NUMBER_FIELD')}>Number</MenuItem>\r\n\t\t\t\t\t\t<Tooltip title=\"A list of references to other instances\" placement=\"right\">\r\n\t\t\t\t\t\t\t<MenuItem onClick={() => this.handleAddItem('list', 'LIST_FIELD')}>List</MenuItem>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t<Tooltip title=\"A single reference to another instance\" placement=\"right\">\r\n\t\t\t\t\t\t\t<MenuItem onClick={() => this.handleAddItem('reference', 'REFERENCE_FIELD')}>\r\n\t\t\t\t\t\t\t\tReference\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t<MenuItem onClick={() => this.handleAddItem('checkbox', 'CHECKBOX_FIELD')}>Checkbox</MenuItem>\r\n\t\t\t\t\t\t<Tooltip title=\"A list of options in which only one can be true\" placement=\"right\">\r\n\t\t\t\t\t\t\t<MenuItem onClick={() => this.handleAddItem('radiolist', 'RADIOLIST_FIELD')}>\r\n\t\t\t\t\t\t\t\tRadio List\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t<MenuItem onClick={() => this.handleAddItem('image', 'IMAGE_FIELD')}>Image</MenuItem>\r\n\t\t\t\t\t\t<Tooltip title=\"A bold header for organization\" placement=\"right\">\r\n\t\t\t\t\t\t\t<MenuItem onClick={() => this.handleAddItem('header', 'SECTION_HEADER')}>Header</MenuItem>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t<Tooltip title=\"A vertical line to break up your sections\" placement=\"right\">\r\n\t\t\t\t\t\t\t<MenuItem onClick={() => this.handleAddItem('divider', 'SECTION_DIVIDER')}>\r\n\t\t\t\t\t\t\t\tDivider\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t</Menu>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tstartIcon={<Save />}\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tstyle={{ width: 150 }}\r\n\t\t\t\t\t\tonClick={this.handleCreateEntity}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tCreate\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Snackbar\r\n\t\t\t\t\tanchorOrigin={{\r\n\t\t\t\t\t\tvertical: 'bottom',\r\n\t\t\t\t\t\thorizontal: 'left',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\topen={this.state.creationFeedbackOpen}\r\n\t\t\t\t\tautoHideDuration={6000}\r\n\t\t\t\t\tonClose={this.handleFeedbackClose}\r\n\t\t\t\t\tmessage=\"Custom Entity Added\"\r\n\t\t\t\t\taction={\r\n\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\taria-label=\"close\"\r\n\t\t\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\t\t\tonClick={this.handleFeedbackClose}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Close fontSize=\"small\" />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nfunction mapStatetoProps(state) {\r\n\treturn {\r\n\t\tlorelineId: state.lorelineId,\r\n\t}\r\n}\r\n\r\nfunction matchDispatchToProps(dispatch) {\r\n\treturn bindActionCreators(\r\n\t\t{\r\n\t\t\tsetLoading: setLoading,\r\n\t\t},\r\n\t\tdispatch\r\n\t)\r\n}\r\n\r\nexport default connect(mapStatetoProps, matchDispatchToProps)(CustomEntityCreator)\r\n","/** @format */\r\n\r\nimport React from 'react'\r\nimport { makeStyles, CardContent, Typography, Card, InputBase } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tflex: 1,\r\n\t},\r\n\tcard: {\r\n\t\tminWidth: 300,\r\n\t},\r\n\tinput: {\r\n\t\tflex: 1,\r\n\t},\r\n}))\r\n\r\nexport default function InstanceTextField(props) {\r\n\tconst classes = useStyles()\r\n\r\n\tconst handleChange = e => {\r\n\t\tprops.setContent(props.index, e.target.value)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<main className={classes.root}>\r\n\t\t\t<Card className={classes.card}>\r\n\t\t\t\t<CardContent>\r\n\t\t\t\t\t<Typography color=\"textSecondary\" gutterBottom>\r\n\t\t\t\t\t\t{props.label}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<InputBase\r\n\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\trowsMax=\"4\"\r\n\t\t\t\t\t\tvalue={props.content}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\tclassName={classes.input}\r\n\t\t\t\t\t\tplaceholder=\"Content\"\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t/>\r\n\t\t\t\t</CardContent>\r\n\t\t\t</Card>\r\n\t\t</main>\r\n\t)\r\n}\r\n","/** @format */\r\n\r\nimport React from 'react'\r\nimport { makeStyles, Card, Checkbox, FormControlLabel, CardContent } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tflex: 1,\r\n\t},\r\n\tcard: {\r\n\t\twidth: 300,\r\n\t\ttextAlign: 'center',\r\n\t},\r\n}))\r\n\r\nexport default function InstanceCheckBoxField(props) {\r\n\tconst classes = useStyles()\r\n\r\n\tconst handleChange = e => {\r\n\t\tprops.setContent(props.index, !props.content)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<main className={classes.root}>\r\n\t\t\t<Card className={classes.card}>\r\n\t\t\t\t<CardContent>\r\n\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\tcontrol={<Checkbox color=\"primary\" />}\r\n\t\t\t\t\t\tchecked={props.content}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\tlabel={props.label}\r\n\t\t\t\t\t\tlabelPlacement=\"start\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</CardContent>\r\n\t\t\t</Card>\r\n\t\t</main>\r\n\t)\r\n}\r\n","/** @format */\r\n\r\nimport React from 'react'\r\nimport { makeStyles, CardContent, Typography, Card, InputBase, Tooltip } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tflex: 1,\r\n\t},\r\n\tcard: {\r\n\t\tminWidth: 300,\r\n\t},\r\n\tinput: {\r\n\t\tflex: 1,\r\n\t},\r\n}))\r\n\r\nexport default function InstanceNumberField(props) {\r\n\tconst classes = useStyles()\r\n\r\n\tconst handleChange = e => {\r\n\t\tprops.setContent(props.index, e.target.value)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<main className={classes.root}>\r\n\t\t\t<Tooltip title=\"This is a number field\">\r\n\t\t\t\t<Card className={classes.card}>\r\n\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t<Typography color=\"textSecondary\" gutterBottom>\r\n\t\t\t\t\t\t\t{props.label}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<InputBase\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tvalue={props.content}\r\n\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\tclassName={classes.input}\r\n\t\t\t\t\t\t\tplaceholder=\"Content\"\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</CardContent>\r\n\t\t\t\t</Card>\r\n\t\t\t</Tooltip>\r\n\t\t</main>\r\n\t)\r\n}\r\n","/** @format */\r\n\r\nimport React from 'react';\r\nimport { makeStyles, Typography } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flex: 1\r\n  }\r\n}));\r\n\r\nexport default function InstanceHeader(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <main className={classes.root}>\r\n      <Typography variant=\"h5\">{props.label}</Typography>\r\n    </main>\r\n  );\r\n}\r\n","/** @format */\r\n\r\nimport React from 'react'\r\nimport {\r\n\tmakeStyles,\r\n\tGrid,\r\n\tCard,\r\n\tInputBase,\r\n\tRadioGroup,\r\n\tFormControlLabel,\r\n\tRadio,\r\n\tCardContent,\r\n\tCardHeader,\r\n\tTypography,\r\n} from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tflex: 1,\r\n\t},\r\n\tcard: {\r\n\t\tminWidth: 300,\r\n\t},\r\n}))\r\n\r\nexport default function InstanceRadioListField(props) {\r\n\tconst handleChange = event => {\r\n\t\tprops.setValue(props.index, event.target.value)\r\n\t}\r\n\r\n\tconst classes = useStyles()\r\n\r\n\treturn (\r\n\t\t<main className={classes.root}>\r\n\t\t\t<Card className={classes.card}>\r\n\t\t\t\t<CardHeader subheader={props.label} />\r\n\t\t\t\t<CardContent>\r\n\t\t\t\t\t<RadioGroup value={props.content} onChange={handleChange}>\r\n\t\t\t\t\t\t{props.options.map((option, i) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\tkey={option + i}\r\n\t\t\t\t\t\t\t\t\tvalue={option + i}\r\n\t\t\t\t\t\t\t\t\tcontrol={<Radio color=\"primary\" />}\r\n\t\t\t\t\t\t\t\t\tlabel={option.name}\r\n\t\t\t\t\t\t\t\t\tlabelPlacement=\"start\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</RadioGroup>\r\n\t\t\t\t</CardContent>\r\n\t\t\t</Card>\r\n\t\t</main>\r\n\t)\r\n}\r\n","/** @format */\r\n\r\nimport React from 'react';\r\nimport { makeStyles, Divider } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flex: 1\r\n  }\r\n}));\r\n\r\nexport default function InstanceDivider(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <main className={classes.root}>\r\n      <Divider />\r\n    </main>\r\n  );\r\n}\r\n","/** @format */\r\n\r\nimport React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport axios from 'axios'\r\nimport { makeStyles, Typography, Card, Button, CardMedia, CardContent } from '@material-ui/core'\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tflex: 1,\r\n\t},\r\n\tcard: {\r\n\t\tminWidth: 300,\r\n\t},\r\n\tinput: {\r\n\t\tflex: 1,\r\n\t},\r\n\timage: {\r\n\t\theight: 50,\r\n\t\t'&:hover': {\r\n\t\t\theight: 140,\r\n\t\t},\r\n\t},\r\n\tnoImage: {\r\n\t\theight: 0,\r\n\t},\r\n}))\r\n\r\nexport default connect(mapStateToProps)(function InstanceImageField(props) {\r\n\tconst classes = useStyles()\r\n\r\n\tconst handleFileChange = files => {\r\n\t\tconst sizeInMB = 2\r\n\t\tvar failed = false\r\n\r\n\t\tif (files[0].type !== 'image/png' && files[0].type !== 'image/jpg' && files[0].type !== 'image/jpeg') {\r\n\t\t\talert(files[0].name + ' is not an accepted image format! Accepted formats are:\\n.png .jpg .jpeg')\r\n\t\t\tfailed = true\r\n\t\t}\r\n\r\n\t\tif (files[0].size > 1048576 * sizeInMB) {\r\n\t\t\talert(\r\n\t\t\t\t'File size exceeds ' +\r\n\t\t\t\t\tsizeInMB +\r\n\t\t\t\t\t'MB limit! File uploaded was: ' +\r\n\t\t\t\t\t(files[0].size / 1048576).toFixed(2) +\r\n\t\t\t\t\t'MB'\r\n\t\t\t)\r\n\t\t\tfailed = true\r\n\t\t}\r\n\r\n\t\tif (!failed)\r\n\t\t\tgetImageURL(files[0]).then(url => {\r\n\t\t\t\tconsole.log(url)\r\n\t\t\t\tprops.setContent(props.index, url)\r\n\t\t\t})\r\n\t}\r\n\r\n\tconst getImageURL = file => {\r\n\t\tif (file !== null) {\r\n\t\t\tconst data = new FormData()\r\n\t\t\tdata.append('image', file, file.name)\r\n\r\n\t\t\treturn axios\r\n\t\t\t\t.post(`https://lorelines-expressapi.herokuapp.com/api/users/${props.user.id}/images`, data, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\taccept: 'application/json',\r\n\t\t\t\t\t\t'Accept-Language': 'en-US,en;q=0.8',\r\n\t\t\t\t\t\t'Content-Type': `multipart/form-data; boundary=${data._boundary}`,\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\treturn res.data\r\n\t\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<main className={classes.root}>\r\n\t\t\t<Card className={classes.card}>\r\n\t\t\t\t<CardMedia className={props.imageURL != '' ? classes.image : classes.noImage} image={props.imageURL} />\r\n\t\t\t\t<CardContent>\r\n\t\t\t\t\t<Typography color=\"textSecondary\" gutterBottom>\r\n\t\t\t\t\t\t{props.label}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcomponent=\"label\"\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"default\"\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tstartIcon={<CloudUploadIcon />}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tUpload Image\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\taccept=\".jpg, .jpeg, .png\"\r\n\t\t\t\t\t\t\tonChange={e => handleFileChange(e.target.files)}\r\n\t\t\t\t\t\t\tstyle={{ display: 'none' }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</CardContent>\r\n\t\t\t</Card>\r\n\t\t</main>\r\n\t)\r\n})\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tuser: state.user,\r\n\t}\r\n}\r\n","/** @format */\r\n\r\nimport React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport { setLoading } from '../../actions/index'\r\n\r\nimport axios from 'axios'\r\nimport { List, ListItem, Grid, Button, Typography, TextField } from '@material-ui/core'\r\nimport { Save } from '@material-ui/icons'\r\nimport InstanceTextField from '../instance_fields/InstanceTextField'\r\nimport InstanceCheckBoxField from '../instance_fields/InstanceCheckBoxField'\r\nimport InstanceNumberField from '../instance_fields/InstanceNumberField'\r\nimport InstanceHeader from '../instance_fields/InstanceHeader'\r\nimport InstanceRadioListField from '../instance_fields/InstanceRadioListField'\r\nimport InstanceDivider from '../instance_fields/InstanceDivider'\r\nimport InstanceImageField from '../instance_fields/InstanceImageField'\r\n\r\nclass CustomEntityCreator extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tentityName: '',\r\n\t\t\tinstanceName: '',\r\n\t\t\tcolor: '',\r\n\t\t\tfields: [],\r\n\t\t\tanchorEl: null,\r\n\t\t\tvalidationFailed: false,\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.retreiveEntityFromDB()\r\n\t}\r\n\r\n\taddInstanceToDB = async instance => {\r\n\t\tthis.props.setLoading(true)\r\n\t\ttry {\r\n\t\t\tawait axios\r\n\t\t\t\t.post(\r\n\t\t\t\t\t`https://lorelines-expressapi.herokuapp.com/api/lorelines/${this.props.lorelineId}/entities/${this.props.entityId}/instances`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: instance.name,\r\n\t\t\t\t\t\tcontent: instance.content,\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.props.updateDirectoryList().then(() => {\r\n\t\t\t\t\t\tthis.props.setLoading(false)\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t} catch (err) {\r\n\t\t\tthis.props.setLoading(false)\r\n\t\t}\r\n\t}\r\n\r\n\thandleSetRadioOptions = (index, options) => {\r\n\t\tconst data = this.state.fields\r\n\t\tdata[index].options = options\r\n\r\n\t\tthis.setState({ fields: data })\r\n\t}\r\n\r\n\tretreiveEntityFromDB = async () => {\r\n\t\tthis.props.setLoading(true)\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get(\r\n\t\t\t\t`https://lorelines-expressapi.herokuapp.com/api/lorelines/${this.props.lorelineId}/entities/${this.props.entityId}`,\r\n\t\t\t\t{}\r\n\t\t\t)\r\n\t\t\tthis.setState({\r\n\t\t\t\tentityName: data.name,\r\n\t\t\t\tcolor: data.color,\r\n\t\t\t\tfields: data.content,\r\n\t\t\t})\r\n\t\t\tthis.props.setLoading(false)\r\n\t\t} catch (err) {\r\n\t\t\tthis.props.setLoading(false)\r\n\t\t}\r\n\t}\r\n\r\n\thandleInstanceNameChange = e => {\r\n\t\tthis.setState({ instanceName: e.target.value })\r\n\t}\r\n\r\n\thandleContentChange = (index, content) => {\r\n\t\tconst data = this.state.fields\r\n\t\tdata[index].content = content\r\n\r\n\t\tthis.setState({ fields: data })\r\n\t}\r\n\r\n\thandleRadioChange = (index, value) => {\r\n\t\tconst data = this.state.fields\r\n\t\tdata[index].value = value\r\n\r\n\t\tthis.setState({ fields: data })\r\n\t}\r\n\r\n\thandleCreateInstance = () => {\r\n\t\tvar error = false\r\n\r\n\t\tif (this.state.instanceName === '') {\r\n\t\t\terror = true\r\n\t\t\tconsole.log('no name')\r\n\t\t} else {\r\n\t\t\tvar content = []\r\n\r\n\t\t\tthis.state.fields.forEach((field, i) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\tfield.type !== 'SECTION_HEADER' &&\r\n\t\t\t\t\tfield.type !== 'RADIOLIST_FIELD' &&\r\n\t\t\t\t\tfield.type !== 'SECTION_DIVIDER'\r\n\t\t\t\t) {\r\n\t\t\t\t\tif (field.content.length === 0) error = true\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (field.type === 'RADIOLIST_FIELD')\r\n\t\t\t\t\t\tcontent = content.concat({\r\n\t\t\t\t\t\t\tname: field.name,\r\n\t\t\t\t\t\t\ttype: field.type,\r\n\t\t\t\t\t\t\tcontent: field.content,\r\n\t\t\t\t\t\t\tvalue: field.value,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tcontent = content.concat({\r\n\t\t\t\t\t\t\tname: field.name,\r\n\t\t\t\t\t\t\ttype: field.type,\r\n\t\t\t\t\t\t\tcontent: field.content,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tthis.setState({ validationFailed: error })\r\n\r\n\t\tconst instance = {\r\n\t\t\tname: this.state.instanceName,\r\n\t\t\tcontent: content,\r\n\t\t}\r\n\r\n\t\tif (error) console.log('Encountered an error')\r\n\t\tconsole.log('instance: ', instance)\r\n\r\n\t\tif (!error) this.addInstanceToDB(instance)\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Grid\r\n\t\t\t\tstyle={{ textAlign: 'center', marginTop: 20 }}\r\n\t\t\t\tcontainer\r\n\t\t\t\tdirection=\"column\"\r\n\t\t\t\tjustify=\"center\"\r\n\t\t\t\talignItems=\"center\"\r\n\t\t\t\tspacing={2}\r\n\t\t\t>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<Typography variant=\"overline\">new instance of:</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tvariant=\"h4\"\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tcolor: this.state.color ?? '#ea4b35',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{this.state.entityName ?? 'undefined'}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\terror={this.state.validationFailed && this.state.entityName === ''}\r\n\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\tthis.state.validationFailed && this.state.entityName === ''\r\n\t\t\t\t\t\t\t\t? 'this field cannot be empty'\r\n\t\t\t\t\t\t\t\t: ''\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlabel=\"Instance Name\"\r\n\t\t\t\t\t\tvalue={this.state.instanceName}\r\n\t\t\t\t\t\tonChange={this.handleInstanceNameChange}\r\n\t\t\t\t\t\tinputProps={{ style: { color: this.state.color } }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t{this.state.fields.map((field, i) => {\r\n\t\t\t\t\t\t\tif (field.type === 'TEXT_FIELD')\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<ListItem key={field + i}>\r\n\t\t\t\t\t\t\t\t\t\t<InstanceTextField\r\n\t\t\t\t\t\t\t\t\t\t\tindex={i}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={field.name}\r\n\t\t\t\t\t\t\t\t\t\t\tcontent={field.content}\r\n\t\t\t\t\t\t\t\t\t\t\tsetContent={this.handleContentChange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\telse if (field.type === 'NUMBER_FIELD')\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<ListItem key={field + i}>\r\n\t\t\t\t\t\t\t\t\t\t<InstanceNumberField\r\n\t\t\t\t\t\t\t\t\t\t\tindex={i}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={field.name}\r\n\t\t\t\t\t\t\t\t\t\t\tcontent={field.content}\r\n\t\t\t\t\t\t\t\t\t\t\tsetContent={this.handleContentChange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\telse if (field.type === 'CHECKBOX_FIELD') {\r\n\t\t\t\t\t\t\t\tif (field.content.length == 0) field.content = false\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<ListItem key={field + i}>\r\n\t\t\t\t\t\t\t\t\t\t<InstanceCheckBoxField\r\n\t\t\t\t\t\t\t\t\t\t\tindex={i}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={field.name}\r\n\t\t\t\t\t\t\t\t\t\t\tcontent={field.content}\r\n\t\t\t\t\t\t\t\t\t\t\tsetContent={this.handleContentChange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t} else if (field.type === 'RADIOLIST_FIELD') {\r\n\t\t\t\t\t\t\t\tif (field.value === undefined) field.value = '[object Object]0'\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<ListItem key={field + i}>\r\n\t\t\t\t\t\t\t\t\t\t<InstanceRadioListField\r\n\t\t\t\t\t\t\t\t\t\t\tindex={i}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={field.name}\r\n\t\t\t\t\t\t\t\t\t\t\toptions={field.content}\r\n\t\t\t\t\t\t\t\t\t\t\tcontent={field.value}\r\n\t\t\t\t\t\t\t\t\t\t\tsetValue={this.handleRadioChange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t} else if (field.type === 'IMAGE_FIELD') {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<ListItem key={field + i}>\r\n\t\t\t\t\t\t\t\t\t\t<InstanceImageField\r\n\t\t\t\t\t\t\t\t\t\t\tindex={i}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={field.name}\r\n\t\t\t\t\t\t\t\t\t\t\timageURL={field.content}\r\n\t\t\t\t\t\t\t\t\t\t\tsetContent={this.handleContentChange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t} else if (field.type === 'SECTION_DIVIDER')\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<ListItem key={field + i}>\r\n\t\t\t\t\t\t\t\t\t\t<InstanceDivider />\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\telse if (field.type === 'SECTION_HEADER')\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<ListItem key={field + i}>\r\n\t\t\t\t\t\t\t\t\t\t<InstanceHeader index={i} label={field.name} />\r\n\t\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tstartIcon={<Save />}\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tstyle={{ width: 150 }}\r\n\t\t\t\t\t\tonClick={this.handleCreateInstance}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tCreate\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nfunction mapStatetoProps(state) {\r\n\treturn {\r\n\t\tlorelineId: state.lorelineId,\r\n\t\tentityId: state.entityId,\r\n\t}\r\n}\r\n\r\nfunction matchDispatchToProps(dispatch) {\r\n\treturn bindActionCreators(\r\n\t\t{\r\n\t\t\tsetLoading: setLoading,\r\n\t\t},\r\n\t\tdispatch\r\n\t)\r\n}\r\n\r\nexport default connect(mapStatetoProps, matchDispatchToProps)(CustomEntityCreator)\r\n","/** @format */\r\n\r\nimport React from 'react'\r\nimport axios from 'axios'\r\nimport { bindActionCreators } from 'redux'\r\nimport { setLoading, setDirectory } from '../actions/index'\r\nimport { Grid, Fab, makeStyles, Drawer, Typography } from '@material-ui/core'\r\nimport DirectoryList from './directory_interaction/DirectoryList'\r\nimport InstanceViewer from './directory_interaction/InstanceViewer'\r\nimport CustomEntityCreator from './directory_interaction/CustomEntityCreator'\r\nimport EntityInstanceCreator from './directory_interaction/EntityInstanceCreator'\r\nimport { connect } from 'react-redux'\r\nimport { Add } from '@material-ui/icons'\r\n\r\nconst drawerWidth = 300\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t},\r\n\tdrawer: {\r\n\t\twidth: drawerWidth,\r\n\t\tflexShrink: 0,\r\n\t},\r\n\tdrawerPaper: {\r\n\t\twidth: drawerWidth,\r\n\t},\r\n\tcontent: {\r\n\t\tflexGrow: 1,\r\n\t\tpadding: theme.spacing(3),\r\n\t},\r\n\ttoolbar: theme.mixins.toolbar,\r\n}))\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmatchDispatchToProps\r\n)(function Directory(props) {\r\n\tconst [mode, setMode] = React.useState(0)\r\n\t//const [entities, setEntites] = React.useState([])\r\n\r\n\tconst classes = useStyles()\r\n\tconst modes = {\r\n\t\tIDLE: 0,\r\n\t\tENTITY_CREATION: 1,\r\n\t\tINSTANCE_CREATION: 2,\r\n\t\tINSTANCE_VIEWER: 3,\r\n\t}\r\n\r\n\tconst updateDirectoryList = async () => {\r\n\t\tif (props.lorelineId !== null) {\r\n\t\t\tprops.setLoading(true)\r\n\t\t\ttry {\r\n\t\t\t\tawait axios\r\n\t\t\t\t\t.get(`https://lorelines-expressapi.herokuapp.com/api/lorelines/${props.lorelineId}/directory/`)\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tconsole.log('NEW DATA: ', res.data)\r\n\t\t\t\t\t\tprops.setDirectory(res.data)\r\n\t\t\t\t\t\tprops.setLoading(false)\r\n\t\t\t\t\t})\r\n\t\t\t} catch (err) {\r\n\t\t\t\tprops.setLoading(false)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleNewEntityClicked = () => {\r\n\t\tsetMode(modes.ENTITY_CREATION)\r\n\t}\r\n\r\n\tconst ModeComponent = () => {\r\n\t\tswitch (mode) {\r\n\t\t\tcase modes.ENTITY_CREATION:\r\n\t\t\t\treturn <CustomEntityCreator updateDirectoryList={updateDirectoryList} />\r\n\t\t\tcase modes.INSTANCE_CREATION:\r\n\t\t\t\treturn <EntityInstanceCreator updateDirectoryList={updateDirectoryList} />\r\n\t\t\tcase modes.INSTANCE_VIEWER:\r\n\t\t\t\treturn <InstanceViewer />\r\n\t\t\tdefault:\r\n\t\t\t\treturn <Typography>Select an entity or instance</Typography>\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<main className={classes.root}>\r\n\t\t\t<Grid\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\ttextAlign: 'center',\r\n\t\t\t\t\tmarginTop: 20,\r\n\t\t\t\t}}\r\n\t\t\t\tcontainer\r\n\t\t\t\tdirection=\"column\"\r\n\t\t\t\tjustify=\"center\"\r\n\t\t\t\talignItems=\"center\"\r\n\t\t\t>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<ModeComponent />\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t\t<Drawer className={classes.drawer} variant=\"permanent\" anchor=\"right\">\r\n\t\t\t\t<div className={classes.toolbar}></div>\r\n\t\t\t\t<DirectoryList modes={modes} setMode={setMode} updateDirectoryList={updateDirectoryList} />\r\n\t\t\t</Drawer>\r\n\t\t\t<Fab\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tposition: 'fixed',\r\n\t\t\t\t\tbottom: 20,\r\n\t\t\t\t\tright: 20,\r\n\t\t\t\t\tzIndex: 1900,\r\n\t\t\t\t}}\r\n\t\t\t\tvariant=\"extended\"\r\n\t\t\t\tsize=\"large\"\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t\taria-label=\"add\"\r\n\t\t\t\tclassName={classes.margin}\r\n\t\t\t\tonClick={handleNewEntityClicked}\r\n\t\t\t>\r\n\t\t\t\t<Add />\r\n\t\t\t\tNew Custom Entity\r\n\t\t\t</Fab>\r\n\t\t</main>\r\n\t)\r\n})\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\twindow: state.window,\r\n\t\tinstanceId: state.instanceId,\r\n\t\tentityId: state.entityId,\r\n\t\tlorelineId: state.lorelineId,\r\n\t}\r\n}\r\n\r\nfunction matchDispatchToProps(dispatch) {\r\n\treturn bindActionCreators(\r\n\t\t{\r\n\t\t\tsetLoading: setLoading,\r\n\t\t\tsetDirectory: setDirectory,\r\n\t\t},\r\n\t\tdispatch\r\n\t)\r\n}\r\n","/** @format */\r\n\r\nimport React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport {\r\n  makeStyles,\r\n  Grid,\r\n  Typography,\r\n  Card,\r\n  CardContent\r\n} from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1\r\n  },\r\n  link: {\r\n    color: theme.palette.secondary.main,\r\n    textDecoration: 'underline'\r\n  }\r\n}))\r\n\r\nexport default connect(mapStateToProps)(function About(props) {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <main>\r\n      <Grid\r\n        className={classes.root}\r\n        style={{\r\n          textAlign: 'center',\r\n          height: props.window.height\r\n        }}\r\n        container\r\n        direction='column'\r\n        justify='center'\r\n        alignItems='center'\r\n      >\r\n        <Grid item>\r\n          <Card width='500'>\r\n            <CardContent>\r\n              <Typography\r\n                style={{\r\n                  fontSize: 14\r\n                }}\r\n              >\r\n                Lorelines.com is the junior project of the Oregon Institute of\r\n                Technology students:\r\n              </Typography>\r\n              <Typography\r\n                style={{\r\n                  fontWeight: 500,\r\n                  fontSize: 20,\r\n                  color: '#f78d1e'\r\n                }}\r\n              >\r\n                Justin Boehnen, Evan Clark, Seth Ray, and Isaac Medlin\r\n              </Typography>\r\n              <Typography\r\n                style={{\r\n                  fontSize: 14\r\n                }}\r\n              >\r\n                Also Known As...\r\n              </Typography>\r\n              <Typography\r\n                style={{\r\n                  padding: 20,\r\n                  fontWeight: 600,\r\n                  fontSize: 80,\r\n                  marginBottom: -50\r\n                }}\r\n              >\r\n                JESI\r\n              </Typography>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n      </Grid>\r\n    </main>\r\n  )\r\n})\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    window: state.window\r\n  }\r\n}\r\n","/** @format */\r\n\r\nimport React from 'react'\r\nimport {\r\n\tTypography,\r\n\tButton,\r\n\tCheckbox,\r\n\tFormControlLabel,\r\n\tFormGroup,\r\n\tTextField,\r\n\tDialog,\r\n\tDialogActions,\r\n\tDialogContent,\r\n\tDialogTitle,\r\n\tTooltip,\r\n} from '@material-ui/core'\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload'\r\n\r\nexport default function NewLorelineDialog(props) {\r\n\tconst handleFileChange = files => {\r\n\t\tconst sizeInMB = 2\r\n\t\tvar failed = false\r\n\r\n\t\tif (files[0].type !== 'image/png' && files[0].type !== 'image/jpg' && files[0].type !== 'image/jpeg') {\r\n\t\t\talert(files[0].name + ' is not an accepted image format! Accepted formats are:\\n.png .jpg .jpeg')\r\n\t\t\tfailed = true\r\n\t\t}\r\n\r\n\t\tif (files[0].size > 1048576 * sizeInMB) {\r\n\t\t\talert(\r\n\t\t\t\t'File size exceeds ' +\r\n\t\t\t\t\tsizeInMB +\r\n\t\t\t\t\t'MB limit! File uploaded was: ' +\r\n\t\t\t\t\t(files[0].size / 1048576).toFixed(2) +\r\n\t\t\t\t\t'MB'\r\n\t\t\t)\r\n\t\t\tfailed = true\r\n\t\t}\r\n\r\n\t\tif (!failed) props.setNewLorelineImage(files[0])\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Dialog open={props.isOpen} onClose={props.handleNewDialogClose} fullWidth>\r\n\t\t\t<DialogTitle>Create a new loreline:</DialogTitle>\r\n\t\t\t<DialogContent>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\terror={props.submitAttempted && props.lorelineName === ''}\r\n\t\t\t\t\thelperText={props.submitAttempted && props.lorelineName === '' ? 'This field cannot be empty!' : ''}\r\n\t\t\t\t\tautoFocus\r\n\t\t\t\t\tname=\"LorelineName\"\r\n\t\t\t\t\tlabel=\"Loreline Name\"\r\n\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\tvalue={props.lorelineName}\r\n\t\t\t\t\tonChange={props.onLorelineNameChange}\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t/>\r\n\t\t\t\t<FormGroup>\r\n\t\t\t\t\t<Button component=\"label\" startIcon={<CloudUploadIcon />}>\r\n\t\t\t\t\t\tUpload Image\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\taccept=\".jpg, .jpeg, .png\"\r\n\t\t\t\t\t\t\tonChange={e => handleFileChange(e.target.files)}\r\n\t\t\t\t\t\t\tstyle={{ display: 'none' }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Typography align=\"center\">\r\n\t\t\t\t\t\t{props.newLorelineImage !== null ? props.newLorelineImage.name : ''}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\tarrow\r\n\t\t\t\t\t\tplacement=\"left\"\r\n\t\t\t\t\t\ttitle=\"Toggles whether you would like pre-defined entites in your loreline (recommended for beginners)\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\tchecked={props.usingStaticEnities}\r\n\t\t\t\t\t\t\t\t\tonChange={props.toggleUsingStaticEntities}\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlabel=\"Import standard assets\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t</FormGroup>\r\n\t\t\t</DialogContent>\r\n\t\t\t<DialogActions>\r\n\t\t\t\t<Button onClick={async e => await props.onNewLorelineSubmit(e)} style={{ color: '#1ece6c' }} autoFocus>\r\n\t\t\t\t\tCreate\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button onClick={props.handleNewDialogClose}>Cancel</Button>\r\n\t\t\t</DialogActions>\r\n\t\t</Dialog>\r\n\t)\r\n}\r\n","/** @format */\r\n\r\nimport React from 'react'\r\nimport {\r\n  Typography,\r\n  Button,\r\n  makeStyles,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogTitle\r\n} from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  deletebutton: {\r\n    color: '#ea4b35',\r\n    '&:hover': {\r\n      color: '#000',\r\n      backgroundColor: '#ea4b35',\r\n      fontWeight: 'bolder'\r\n    }\r\n  }\r\n}))\r\n\r\nexport default function DeleteLorelineDialog(props) {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <Dialog\r\n      open={props.deleteDialogOpen}\r\n      onClose={props.handleDeleteDialogClose}\r\n    >\r\n      <DialogTitle>Are you sure you want to delete:</DialogTitle>\r\n      <DialogContent>\r\n        <Typography\r\n          variant=\"h4\"\r\n          style={{\r\n            overflow: 'hidden',\r\n            textOverflow: 'clip',\r\n            marginTop: 16,\r\n            marginBottom: 22,\r\n            textAlign: 'center',\r\n            width: 400\r\n          }}\r\n          color=\"primary\"\r\n        >\r\n          {props.deleteLorelineName}\r\n        </Typography>\r\n        <DialogContentText\r\n          style={{\r\n            textAlign: 'center',\r\n            color: '#ea4b35'\r\n          }}\r\n        >\r\n          This will permently delete this loreline, this is irreversible!\r\n        </DialogContentText>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button\r\n          onClick={e => {\r\n            props.deleteLorelineFromDB(e, props.deleteLorelineId)\r\n          }}\r\n          className={classes.deletebutton}\r\n          autoFocus\r\n        >\r\n          Delete\r\n        </Button>\r\n        <Button onClick={props.handleDeleteDialogClose}>Cancel</Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  )\r\n}\r\n","/** @format */\r\n\r\nimport React, { useEffect, useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport {\r\n\tmakeStyles,\r\n\tGrid,\r\n\tTypography,\r\n\tSnackbar,\r\n\tIconButton,\r\n\tCard,\r\n\tCardHeader,\r\n\tCardActionArea,\r\n\tFab,\r\n\tDivider,\r\n\tTooltip,\r\n\tCardMedia,\r\n\tCardActions,\r\n} from '@material-ui/core'\r\nimport axios from 'axios'\r\nimport { Delete, FileCopy, Add, Close as CloseIcon, BorderColor } from '@material-ui/icons'\r\nimport { setLoreline, setLoading, setLorelineArray } from '../actions/index'\r\nimport NewLorelineDialog from './loreline_interaction/NewLorelineDialog'\r\nimport DeleteLorelineDialog from './loreline_interaction/DeleteLorelineDialog'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tcontent: {\r\n\t\tflexGrow: 1,\r\n\t},\r\n\tlink: {\r\n\t\tcolor: theme.palette.secondary.main,\r\n\t\ttextDecoration: 'underline',\r\n\t},\r\n\tfield: {\r\n\t\twidth: '20vw',\r\n\t\tminWidth: '250px',\r\n\t},\r\n\terror: {\r\n\t\tcolor: theme.palette.error.main,\r\n\t},\r\n\tcard: {\r\n\t\ttextOverflow: 'ellipsis',\r\n\t\twidth: 350,\r\n\t\tmargin: 10,\r\n\t\tborderRadius: 5,\r\n\t},\r\n\tselectedCard: {\r\n\t\ttextOverflow: 'ellipsis',\r\n\t\twidth: 350,\r\n\t\tmargin: 10,\r\n\t\t//outlineStyle: 'solid',\r\n\t\t//outlineColor: '#f78d1e',\r\n\t\t//outlineWidth: 4,\r\n\t\tboxShadow: '0 0 8px 5px #f78d1e',\r\n\t\tborderRadius: 5,\r\n\t\tbackgroundColor: '#666',\r\n\t},\r\n\tcardimage: {\r\n\t\theight: 140,\r\n\t},\r\n\tcardheader: {\r\n\t\toverflow: 'hidden',\r\n\t\ttextOverflow: 'ellipsis',\r\n\t\theight: 35,\r\n\t\twidth: 320,\r\n\t},\r\n\tdeletebutton: {\r\n\t\t'&:hover': {\r\n\t\t\tcolor: '#ea4b35',\r\n\t\t},\r\n\t},\r\n}))\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmatchDispatchToProps\r\n)(function Lorelines(props) {\r\n\tconst classes = useStyles()\r\n\tconst [deleteDialogOpen, setDeleteDialogOpen] = React.useState(false)\r\n\tconst [usingStaticEnities, setUsingStaticEntities] = React.useState(true)\r\n\tconst [newDialogOpen, setNewDialogOpen] = React.useState(false)\r\n\tconst [deleteLorelineId, setDeleteLorelineId] = React.useState('')\r\n\tconst [deleteLorelineName, setDeleteLorelineName] = React.useState('')\r\n\tconst [creationFeedbackOpen, setCreationFeedbackOpen] = React.useState(false)\r\n\tconst [lorelineName, setLorelineName] = useState('')\r\n\tconst [newLorelineImage, setNewLorelineImage] = useState(null)\r\n\tconst [submitAttempted, setSubmitAttempted] = useState(false)\r\n\r\n\tuseEffect(() => {\r\n\t\tGetLorelines()\r\n\t}, [])\r\n\r\n\tconst GetLorelines = async () => {\r\n\t\tprops.setLoading(true) // LOADING START: GET LORELINES\r\n\t\ttry {\r\n\t\t\tconst response = await axios.get(\r\n\t\t\t\t`https://lorelines-expressapi.herokuapp.com/api/users/${props.user.id}/lorelines`\r\n\t\t\t)\r\n\t\t\tprops.setLorelineArray(response.data)\r\n\t\t\tprops.setLoading(false) // LOADING END: GET LORELINES\r\n\t\t} catch (err) {\r\n\t\t\tprops.setLoading(false)\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleDeleteDialogOpen = (id, name) => {\r\n\t\tsetDeleteLorelineId(id)\r\n\t\tsetDeleteLorelineName(name)\r\n\t\tsetDeleteDialogOpen(true)\r\n\t}\r\n\r\n\tconst handleDeleteDialogClose = () => {\r\n\t\tsetDeleteDialogOpen(false)\r\n\t}\r\n\r\n\tconst handleNewDialogOpen = (id, name) => {\r\n\t\tsetNewDialogOpen(true)\r\n\t}\r\n\r\n\tconst handleNewDialogClose = (id, name) => {\r\n\t\tsetNewDialogOpen(false)\r\n\t\tsetLorelineName('')\r\n\t\tsetNewLorelineImage(null)\r\n\t\tsetUsingStaticEntities(true)\r\n\t\tsetSubmitAttempted(false)\r\n\t}\r\n\r\n\tconst toggleUsingStaticEntities = () => {\r\n\t\tsetUsingStaticEntities(!usingStaticEnities)\r\n\t}\r\n\r\n\tconst onLorelineNameChange = e => setLorelineName(e.target.value)\r\n\r\n\tconst handleSelectLoreline = id => {\r\n\t\tprops.setLoreline(id)\r\n\t}\r\n\r\n\tconst handleFeedbackClose = (event, reason) => {\r\n\t\tif (reason !== 'clickaway') {\r\n\t\t\tsetCreationFeedbackOpen(false)\r\n\t\t}\r\n\t}\r\n\r\n\tconst createNewLoreline = async (name, file) => {\r\n\t\tvar imagePath = ''\r\n\r\n\t\tif (file !== null) {\r\n\t\t\tconst data = new FormData()\r\n\t\t\tdata.append('image', file, file.name)\r\n\r\n\t\t\ttry {\r\n\t\t\t\tawait axios\r\n\t\t\t\t\t.post(`https://lorelines-expressapi.herokuapp.com/api/users/${props.user.id}/images`, data, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\taccept: 'application/json',\r\n\t\t\t\t\t\t\t'Accept-Language': 'en-US,en;q=0.8',\r\n\t\t\t\t\t\t\t'Content-Type': `multipart/form-data; boundary=${data._boundary}`,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\timagePath = res.data ?? ''\r\n\t\t\t\t\t})\r\n\t\t\t} catch (err) {}\r\n\t\t}\r\n\r\n\t\t//default image\r\n\t\tif (imagePath === '')\r\n\t\t\timagePath = 'https://lorelines-image-library.s3-us-west-2.amazonaws.com/default_loreline_image.png'\r\n\r\n\t\ttry {\r\n\t\t\tawait axios\r\n\t\t\t\t.post(`https://lorelines-expressapi.herokuapp.com/api/users/${props.user.id}/lorelines`, {\r\n\t\t\t\t\tname: name,\r\n\t\t\t\t\timage: imagePath,\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\t//const array = props.lorelineArray\r\n\t\t\t\t\t//const newElem = {\r\n\t\t\t\t\t//  _id: res.data,\r\n\t\t\t\t\t//  name: name,\r\n\t\t\t\t\t//  image: imagePath,\r\n\t\t\t\t\t//  modified: Date.now()\r\n\t\t\t\t\t//}\r\n\t\t\t\t\t//array.unshift(newElem)\r\n\t\t\t\t\t//props.setLorelineArray(array)\r\n\t\t\t\t\tGetLorelines()\r\n\t\t\t\t\tprops.setLoading(false) // LOADING END: NEW LORELINE\r\n\t\t\t\t\tsetCreationFeedbackOpen(true)\r\n\t\t\t\t})\r\n\t\t} catch (err) {}\r\n\t\tGetLorelines()\r\n\t}\r\n\r\n\tconst deleteLorelineFromDB = async (e, id) => {\r\n\t\te.preventDefault()\r\n\t\tif (props.loreline == id) props.setLoreline(null)\r\n\t\tprops.setLoading(true) // LOADING START: DELETE LORELINE\r\n\t\thandleDeleteDialogClose()\r\n\t\ttry {\r\n\t\t\tawait axios\r\n\t\t\t\t.delete(`https://lorelines-expressapi.herokuapp.com/api/users/${props.user.id}/lorelines/${id}`)\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tconst array = [...props.lorelineArray]\r\n\t\t\t\t\tarray.forEach(loreline => {\r\n\t\t\t\t\t\tif (loreline._id === id) array.splice(array.indexOf(loreline), 1)\r\n\t\t\t\t\t})\r\n\t\t\t\t\tprops.setLorelineArray(array)\r\n\t\t\t\t\t//GetLorelines()\r\n\t\t\t\t\tprops.setLoading(false) // LOADING END: DELETE LORELINE\r\n\t\t\t\t})\r\n\t\t} catch (err) {}\r\n\t}\r\n\r\n\tconst onNewLorelineSubmit = async e => {\r\n\t\te.preventDefault()\r\n\t\tsetSubmitAttempted(true)\r\n\t\tif (lorelineName !== '') {\r\n\t\t\tprops.setLoading(true) // LOADING START: NEW LORELINE\r\n\t\t\tsetLorelineName('')\r\n\t\t\tsetNewLorelineImage(null)\r\n\t\t\tsetSubmitAttempted(false)\r\n\t\t\thandleNewDialogClose()\r\n\t\t\tcreateNewLoreline(lorelineName, newLorelineImage)\r\n\t\t} else {\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<main className={classes.root}>\r\n\t\t\t<div style={{ marginTop: 20 }}>\r\n\t\t\t\t{/************************************Button that opens add loreline dialog******************************/}\r\n\t\t\t\t<Fab\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tposition: 'fixed',\r\n\t\t\t\t\t\tbottom: 20,\r\n\t\t\t\t\t\tright: 20,\r\n\t\t\t\t\t\tzIndex: 1900,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tvariant=\"extended\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\taria-label=\"add\"\r\n\t\t\t\t\tclassName={classes.margin}\r\n\t\t\t\t\tonClick={() => handleNewDialogOpen()}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Add />\r\n\t\t\t\t\tNew Loreline\r\n\t\t\t\t</Fab>\r\n\t\t\t\t{/*********************** Popup menu for FAB ****************************************/}\r\n\t\t\t\t<NewLorelineDialog\r\n\t\t\t\t\tisOpen={newDialogOpen}\r\n\t\t\t\t\thandleNewDialogClose={handleNewDialogClose}\r\n\t\t\t\t\tsubmitAttempted={submitAttempted}\r\n\t\t\t\t\tlorelineName={lorelineName}\r\n\t\t\t\t\tonLorelineNameChange={onLorelineNameChange}\r\n\t\t\t\t\tusingStaticEnities={usingStaticEnities}\r\n\t\t\t\t\ttoggleUsingStaticEntities={toggleUsingStaticEntities}\r\n\t\t\t\t\tonNewLorelineSubmit={onNewLorelineSubmit}\r\n\t\t\t\t\tsetNewLorelineImage={setNewLorelineImage}\r\n\t\t\t\t\tnewLorelineImage={newLorelineImage}\r\n\t\t\t\t/>\r\n\t\t\t\t{/*********************Small FeedBack to when a lorelines added*******************************/}\r\n\t\t\t\t<Snackbar\r\n\t\t\t\t\tanchorOrigin={{\r\n\t\t\t\t\t\tvertical: 'bottom',\r\n\t\t\t\t\t\thorizontal: 'left',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\topen={creationFeedbackOpen}\r\n\t\t\t\t\tautoHideDuration={6000}\r\n\t\t\t\t\tonClose={handleFeedbackClose}\r\n\t\t\t\t\tmessage=\"Loreline Added\"\r\n\t\t\t\t\taction={\r\n\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t<IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleFeedbackClose}>\r\n\t\t\t\t\t\t\t\t<CloseIcon fontSize=\"small\" />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{/***************************************Display of the main screen**********************/}\r\n\t\t\t\t<Typography style={{ marginLeft: 20, marginBottom: 20 }} variant=\"h4\">\r\n\t\t\t\t\tSelect a Loreline\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Divider />\r\n\t\t\t\t<div className={classes.root}>\r\n\t\t\t\t\t{/*************************************Dynamically adding cards to screen***************/}\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\tstyle={{ marginTop: 15 }}\r\n\t\t\t\t\t\tdirection=\"row\"\r\n\t\t\t\t\t\tjustify=\"space-around\"\r\n\t\t\t\t\t\talignItems=\"center\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{props.lorelineArray.map(loreline => (\r\n\t\t\t\t\t\t\t<Grid item key={props.lorelineArray.indexOf(loreline)}>\r\n\t\t\t\t\t\t\t\t<Card className={props.loreline === loreline._id ? classes.selectedCard : classes.card}>\r\n\t\t\t\t\t\t\t\t\t<Tooltip title=\"Select this loreline\">\r\n\t\t\t\t\t\t\t\t\t\t<CardActionArea\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\thandleSelectLoreline(loreline._id)\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<CardMedia\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.cardimage}\r\n\t\t\t\t\t\t\t\t\t\t\t\timage={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tloreline.image ??\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'https://lorelines-image-library.s3-us-west-2.amazonaws.com/default_loreline_image.png'\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<CardHeader\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"h5\" className={classes.cardheader}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{loreline.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsubheader={`Last Modified: ${new Date(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tloreline.modified\r\n\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleDateString()} at \r\n                        ${new Date(loreline.modified).toLocaleTimeString()}`}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</CardActionArea>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t\t\t\t<CardActions>\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip title=\"Delete\">\r\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleDeleteDialogOpen(loreline._id, loreline.name)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.deletebutton}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Delete />\r\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip title=\"Duplicate: It doesn't work yet. Might get rid of it, idk man. This stuff is difficult.\">\r\n\t\t\t\t\t\t\t\t\t\t\t<IconButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FileCopy />\r\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t</CardActions>\r\n\t\t\t\t\t\t\t\t\t{/************************************Delete Loreline PopUp ********************************/}\r\n\t\t\t\t\t\t\t\t\t<DeleteLorelineDialog\r\n\t\t\t\t\t\t\t\t\t\tdeleteDialogOpen={deleteDialogOpen}\r\n\t\t\t\t\t\t\t\t\t\thandleDeleteDialogClose={handleDeleteDialogClose}\r\n\t\t\t\t\t\t\t\t\t\tdeleteLorelineName={deleteLorelineName}\r\n\t\t\t\t\t\t\t\t\t\tdeleteLorelineId={deleteLorelineId}\r\n\t\t\t\t\t\t\t\t\t\tdeleteLorelineFromDB={deleteLorelineFromDB}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</main>\r\n\t)\r\n})\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tuser: state.user,\r\n\t\tloreline: state.lorelineId,\r\n\t\tlorelineArray: state.lorelineArray,\r\n\t}\r\n}\r\n\r\nfunction matchDispatchToProps(dispatch) {\r\n\treturn bindActionCreators(\r\n\t\t{\r\n\t\t\tsetLoreline: setLoreline,\r\n\t\t\tsetLoading: setLoading,\r\n\t\t\tsetLorelineArray: setLorelineArray,\r\n\t\t},\r\n\t\tdispatch\r\n\t)\r\n}\r\n","/** @format */\r\n\r\nimport React, { Component } from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\n\r\nimport { setWindowWidth, setWindowHeight, setLoading } from '../actions/index'\r\n\r\nimport Topbar from './Topbar'\r\nimport Sidebar from './Sidebar'\r\n\r\nimport Timeline from './Timeline'\r\nimport Account from './Account'\r\nimport Directory from './Directory'\r\nimport About from './About'\r\nimport Lorelines from './Lorelines'\r\n//import CreateInstance from './CreateInstance';\r\nimport EntityInstanceCreator from './directory_interaction/EntityInstanceCreator'\r\nimport CustomEntityCreator from './directory_interaction/CustomEntityCreator'\r\n\r\nconst styleClasses = () => ({\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t},\r\n\tbox: {\r\n\t\twidth: '100px',\r\n\t\theight: '100px',\r\n\t\tborderStyle: 'solid',\r\n\t\tborderWidth: '2px 2px 2px 2px',\r\n\t\tbackgroundColor: 'red',\r\n\t},\r\n\tdrawer: {\r\n\t\topenWidth: 240,\r\n\t\tclosedWidth: 58,\r\n\t},\r\n\ttopBar: {\r\n\t\theight: 64,\r\n\t},\r\n})\r\n\r\nconst drawerOpenWidth = 240\r\nconst drawerClosedWidth = 58\r\nconst topBarHeight = 64\r\n\r\nclass Home extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = { drawerOpen: false }\r\n\t\tthis.updateWindowDimensions = this.updateWindowDimensions.bind(this)\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.updateWindowDimensions()\r\n\t\twindow.addEventListener('resize', this.updateWindowDimensions)\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\twindow.removeEventListener('resize', this.updateWindowDimensions)\r\n\t}\r\n\r\n\tupdateWindowDimensions() {\r\n\t\tif (this.state.drawerOpen) this.props.setWindowWidth(window.innerWidth - drawerOpenWidth)\r\n\t\telse this.props.setWindowWidth(window.innerWidth - drawerClosedWidth)\r\n\r\n\t\tthis.props.setWindowHeight(window.innerHeight - 64)\r\n\t}\r\n\r\n\ttoggleDrawer = open => {\r\n\t\tthis.setState({ drawerOpen: open })\r\n\t\tthis.updateWindowDimensions()\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{!this.props.auth && <Redirect to=\"/\" />}\r\n\t\t\t\t<Topbar\r\n\t\t\t\t\tlogout={this.props.logout}\r\n\t\t\t\t\tdrawerOpen={this.state.drawerOpen}\r\n\t\t\t\t\tsetDrawerOpen={this.toggleDrawer}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className={styleClasses.root}>\r\n\t\t\t\t\t<Sidebar drawerOpen={this.state.drawerOpen} setDrawerOpen={this.toggleDrawer} />\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\twidth={this.props.window.width}\r\n\t\t\t\t\t\theight={this.props.window.height}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tmarginLeft: this.state.drawerOpen ? drawerOpenWidth : drawerClosedWidth,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Route path=\"/app/account\">\r\n\t\t\t\t\t\t\t<Account />\r\n\t\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t\t\t<Route path=\"/app/lorelines\">\r\n\t\t\t\t\t\t\t<Lorelines />\r\n\t\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t\t\t<Route path=\"/app/new\">\r\n\t\t\t\t\t\t\t<h1>Hello, World</h1>\r\n\t\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t\t\t<Route path=\"/app/timeline\">\r\n\t\t\t\t\t\t\t<Timeline />\r\n\t\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t\t\t<Route path=\"/app/directory\">\r\n\t\t\t\t\t\t\t<Directory style={{}} />\r\n\t\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t\t\t<Route path=\"/app/about\">\r\n\t\t\t\t\t\t\t<About />\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tuser: state.user,\r\n\t\twindow: state.window,\r\n\t}\r\n}\r\n\r\nfunction matchDispatchToProps(dispatch) {\r\n\treturn bindActionCreators(\r\n\t\t{\r\n\t\t\tsetWindowWidth: setWindowWidth,\r\n\t\t\tsetWindowHeight: setWindowHeight,\r\n\t\t\tsetLoading: setLoading,\r\n\t\t},\r\n\t\tdispatch\r\n\t)\r\n}\r\n\r\nexport default connect(mapStateToProps, matchDispatchToProps)(Home)\r\n","/** @format */\r\n\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n  makeStyles,\r\n  TextField,\r\n  Grid,\r\n  Typography,\r\n  InputAdornment,\r\n  IconButton,\r\n  Button\r\n} from '@material-ui/core';\r\nimport { Visibility, VisibilityOff } from '@material-ui/icons';\r\nimport Validator from 'email-validator';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1\r\n  },\r\n  field: {\r\n    width: '23vw',\r\n    minWidth: '250px'\r\n  },\r\n  link: {\r\n    color: theme.palette.secondary.main,\r\n    textDecoration: 'underline'\r\n  },\r\n  error: {\r\n    color: theme.palette.error.main\r\n  }\r\n}));\r\n\r\nexport default function RegisterForm(props) {\r\n  const classes = useStyles();\r\n  const [values, setValues] = React.useState({\r\n    name: '',\r\n    email: '',\r\n    confirmEmail: '',\r\n    password: '',\r\n    confirmPassword: '',\r\n    showPassword: false,\r\n    showConfirmPassword: false,\r\n    submitAttempted: false,\r\n    emailExists: false\r\n  });\r\n\r\n  const handleChange = prop => event => {\r\n    setValues({ ...values, [prop]: event.target.value });\r\n  };\r\n\r\n  const handleClickShowPassword = () => {\r\n    setValues({ ...values, showPassword: !values.showPassword });\r\n  };\r\n\r\n  const handleClickShowConfirmPassword = () => {\r\n    setValues({ ...values, showConfirmPassword: !values.showConfirmPassword });\r\n  };\r\n\r\n  const handleMouseDownPassword = event => {\r\n    event.preventDefault();\r\n  };\r\n\r\n  const onSubmit = e => {\r\n    e.preventDefault();\r\n    setValues({ ...values, submitAttempted: true });\r\n\r\n    if (Validator.validate(values.email) === true)\r\n      if (values.email === values.confirmEmail)\r\n        if (values.password !== '')\r\n          if (values.password === values.confirmPassword) {\r\n            let exists = !props.createUser(\r\n              values.name,\r\n              values.email,\r\n              values.password\r\n            );\r\n            setValues({ ...values, emailExists: exists });\r\n          }\r\n  };\r\n\r\n  return (\r\n    <main className={classes.root}>\r\n      <form>\r\n        <Grid\r\n          style={{ minHeight: '100vh', textAlign: 'center' }}\r\n          direction=\"column\"\r\n          justify=\"center\"\r\n          alignItems=\"center\"\r\n          container\r\n        >\r\n          <Grid item>\r\n            <Typography\r\n              style={{\r\n                padding: 2,\r\n                fontWeight: 'bold',\r\n                fontSize: 42\r\n              }}\r\n            >\r\n              Create a new Lorelines account\r\n            </Typography>\r\n          </Grid>\r\n          {values.emailExists && (\r\n            <Grid item>\r\n              <Typography\r\n                className={classes.error}\r\n                style={{ padding: 5, fontSize: 16 }}\r\n              >\r\n                a user with that email already exists\r\n              </Typography>\r\n            </Grid>\r\n          )}\r\n          <Grid item>\r\n            <TextField\r\n              className={classes.field}\r\n              name=\"name\"\r\n              label=\"Name\"\r\n              margin=\"normal\"\r\n              value={values.name}\r\n              onChange={handleChange('name')}\r\n              error={values.submitAttempted && values.name === ''}\r\n              helperText={\r\n                values.submitAttempted && values.name === ''\r\n                  ? 'this field cannot be empty'\r\n                  : ''\r\n              }\r\n            />\r\n          </Grid>\r\n          <Grid item>\r\n            <TextField\r\n              className={classes.field}\r\n              name=\"email\"\r\n              label=\"Email\"\r\n              margin=\"normal\"\r\n              value={values.email}\r\n              onChange={handleChange('email')}\r\n              error={\r\n                (values.submitAttempted && values.email === '') ||\r\n                (values.submitAttempted &&\r\n                  Validator.validate(values.email) === false)\r\n              }\r\n              helperText={\r\n                values.submitAttempted && values.email === ''\r\n                  ? 'this field cannot be empty'\r\n                  : '' ||\r\n                    (values.submitAttempted &&\r\n                      Validator.validate(values.email) === false)\r\n                  ? 'invalid email address'\r\n                  : ''\r\n              }\r\n            />\r\n          </Grid>\r\n          <Grid item>\r\n            <TextField\r\n              className={classes.field}\r\n              name=\"confirmEmail\"\r\n              label=\"Confirm Email\"\r\n              margin=\"normal\"\r\n              value={values.confirmEmail}\r\n              onChange={handleChange('confirmEmail')}\r\n              error={\r\n                values.email !== values.confirmEmail ||\r\n                (values.submitAttempted && values.confirmEmail === '')\r\n              }\r\n              helperText={\r\n                values.submitAttempted && values.confirmEmail === ''\r\n                  ? 'this field cannot be empty'\r\n                  : '' || values.email !== values.confirmEmail\r\n                  ? 'emails do not match'\r\n                  : ''\r\n              }\r\n            />\r\n          </Grid>\r\n          <Grid item>\r\n            <TextField\r\n              className={classes.field}\r\n              name=\"pass\"\r\n              label=\"Password\"\r\n              margin=\"normal\"\r\n              type={values.showPassword ? 'text' : 'password'}\r\n              value={values.password}\r\n              onChange={handleChange('password')}\r\n              error={values.submitAttempted && values.password === ''}\r\n              helperText={\r\n                values.submitAttempted && values.password === ''\r\n                  ? 'this field cannot be empty'\r\n                  : ''\r\n              }\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton\r\n                      aria-label=\"toggle password visibility\"\r\n                      onClick={handleClickShowPassword}\r\n                      onMouseDown={handleMouseDownPassword}\r\n                    >\r\n                      {values.showPassword ? <Visibility /> : <VisibilityOff />}\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                )\r\n              }}\r\n            />\r\n          </Grid>\r\n          <Grid item>\r\n            <TextField\r\n              className={classes.field}\r\n              name=\"confirmpass\"\r\n              label=\"Confirm Password\"\r\n              margin=\"normal\"\r\n              type={values.showConfirmPassword ? 'text' : 'password'}\r\n              value={values.confirmpassword}\r\n              onChange={handleChange('confirmPassword')}\r\n              error={\r\n                values.password !== values.confirmPassword ||\r\n                (values.submitAttempted && values.confirmPassword === '')\r\n              }\r\n              helperText={\r\n                values.submitAttempted && values.confirmPassword === ''\r\n                  ? 'this field cannot be empty'\r\n                  : '' || values.password !== values.confirmPassword\r\n                  ? 'passwords do not match'\r\n                  : ''\r\n              }\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton\r\n                      aria-label=\"toggle password visibility\"\r\n                      onClick={handleClickShowConfirmPassword}\r\n                      onMouseDown={handleMouseDownPassword}\r\n                    >\r\n                      {values.showConfirmPassword ? (\r\n                        <Visibility />\r\n                      ) : (\r\n                        <VisibilityOff />\r\n                      )}\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                )\r\n              }}\r\n            />\r\n          </Grid>\r\n          <Grid item>\r\n            <Button\r\n              style={{\r\n                marginTop: 16,\r\n                padding: 5,\r\n                fontSize: 22,\r\n                borderRadius: '50px',\r\n                width: '260px'\r\n              }}\r\n              type=\"submit\"\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              onClick={onSubmit}\r\n            >\r\n              Submit\r\n            </Button>\r\n          </Grid>\r\n          <Grid item>\r\n            <Typography style={{ padding: 5, fontSize: 16 }}>\r\n              <Link className={classes.link} to=\"/\">\r\n                Go back\r\n              </Link>\r\n            </Typography>\r\n          </Grid>\r\n        </Grid>\r\n      </form>\r\n    </main>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { makeStyles, Grid, Typography } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1\r\n  },\r\n  link: {\r\n    color: theme.palette.secondary.main,\r\n    textDecoration: 'underline'\r\n  }\r\n}))\r\n\r\nexport default function RegisterForm() {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <main className={classes.root}>\r\n      <Grid\r\n        style={{ minHeight: '100vh', textAlign: 'center' }}\r\n        direction='column'\r\n        justify='center'\r\n        alignItems='center'\r\n        container\r\n      >\r\n        <Grid item>\r\n          <Typography>Thank you for creating a Lorelines account</Typography>\r\n        </Grid>\r\n        <Grid item>\r\n          <Typography>\r\n            <Link className={classes.link} to='/'>\r\n              return to login\r\n            </Link>\r\n          </Typography>\r\n        </Grid>\r\n      </Grid>\r\n    </main>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { makeStyles, Grid, Typography } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1\r\n  },\r\n  link: {\r\n    color: theme.palette.secondary.main,\r\n    textDecoration: 'underline'\r\n  }\r\n}))\r\n\r\nexport default function RegisterForm() {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <main className={classes.root}>\r\n      <Grid\r\n        style={{ height: '100vh', textAlign: 'center' }}\r\n        direction='column'\r\n        justify='center'\r\n        alignItems='center'\r\n        container\r\n      >\r\n        <Grid item>\r\n          <Typography>oof that sucks</Typography>\r\n        </Grid>\r\n        <Grid item>\r\n          <Typography>\r\n            <Link className={classes.link} to='/'>\r\n              return to login\r\n            </Link>\r\n          </Typography>\r\n        </Grid>\r\n      </Grid>\r\n    </main>\r\n  )\r\n}\r\n","/** @format */\r\n\r\nimport React, { Component } from 'react'\r\nimport { createMuiTheme, MuiThemeProvider, CssBaseline, Backdrop, CircularProgress } from '@material-ui/core'\r\nimport axios from 'axios'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport { BrowserRouter as Router, Route, Redirect } from 'react-router-dom'\r\n\r\nimport './App.css'\r\nimport { setUser, setLoading, setLoreline } from './actions/index'\r\nimport LoginForm from './components/LoginForm'\r\nimport Home from './components/Home'\r\nimport RegisterForm from './components/RegisterForm'\r\nimport RegisterConfirmation from './components/RegisterConfirmation'\r\nimport ForgotPassword from './components/ForgotPassword'\r\n\r\nconst jwtDecode = require('jwt-decode')\r\n\r\n// color theme definition: light\r\nconst light = createMuiTheme({\r\n\tpalette: {\r\n\t\tprimary: {\r\n\t\t\t// accent: orange\r\n\t\t\tmain: '#f78d1e',\r\n\t\t\tcontrastText: '#fff',\r\n\t\t},\r\n\t\tdrawer: {\r\n\t\t\tmain: '#d9d9d9',\r\n\t\t\ttext: '#fff',\r\n\t\t\ticons: '#000',\r\n\t\t},\r\n\t\tsecondary: { main: '#000' },\r\n\t\terror: { main: '#ff0000' },\r\n\t},\r\n})\r\n\r\n// color theme definition: dark\r\nconst dark = createMuiTheme({\r\n\tpalette: {\r\n\t\tprimary: {\r\n\t\t\t// accent: orange\r\n\t\t\tmain: '#f78d1e',\r\n\t\t\tcontrastText: '#fff',\r\n\t\t},\r\n\t\tdrawer: {\r\n\t\t\tmain: '#222',\r\n\t\t\ttext: '#fff',\r\n\t\t\ticons: '#fff',\r\n\t\t},\r\n\t\tsecondary: { main: '#fff' },\r\n\t\terror: { main: '#ff0000' },\r\n\t\ttype: 'dark',\r\n\t},\r\n})\r\n\r\n// add themes to a js object\r\nconst themes = { dark: dark, light: light }\r\n\r\n// this component's styles\r\nconst styleClasses = theme => ({\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t},\r\n\tcenter: {\r\n\t\tflex: 1,\r\n\t\tflexDirection: 'column',\r\n\t\talignItems: 'center',\r\n\t\tjustifyContent: 'center',\r\n\t},\r\n})\r\n\r\nclass App extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tauth: false,\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tlet token = localStorage.getItem('token')\r\n\t\tif (token) {\r\n\t\t\taxios\r\n\t\t\t\t.put('https://lorelines-expressapi.herokuapp.com/api/users/token', {\r\n\t\t\t\t\ttoken,\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tlocalStorage.setItem('token', res.data)\r\n\t\t\t\t\tthis.setState({ auth: true, userData: jwtDecode(res.data) })\r\n\t\t\t\t\tvar temp = jwtDecode(res.data)\r\n\t\t\t\t\tthis.props.setUser({\r\n\t\t\t\t\t\tid: temp.id,\r\n\t\t\t\t\t\tname: temp.name,\r\n\t\t\t\t\t\temail: temp.email,\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t.catch()\r\n\t\t}\r\n\t}\r\n\r\n\ttryLogin = async (email, password) => {\r\n\t\ttry {\r\n\t\t\tthis.setState.loading = true\r\n\t\t\tconst { data } = await axios.post('https://lorelines-expressapi.herokuapp.com/api/users/token', {\r\n\t\t\t\temail,\r\n\t\t\t\tpassword,\r\n\t\t\t})\r\n\t\t\tlocalStorage.setItem('token', data)\r\n\t\t\tthis.setState({ loading: false, auth: true })\r\n\t\t\tthis.props.setUser(jwtDecode(data))\r\n\t\t\treturn true\r\n\t\t} catch (err) {\r\n\t\t\tthis.setState.loading = false\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\r\n\tcreateUser = async (name, email, password) => {\r\n\t\ttry {\r\n\t\t\tthis.setState.loading = true\r\n\t\t\tconst { data } = await axios.post('https://lorelines-expressapi.herokuapp.com/api/users', {\r\n\t\t\t\tname,\r\n\t\t\t\temail,\r\n\t\t\t\tpassword,\r\n\t\t\t})\r\n\t\t\tlocalStorage.setItem('token', data)\r\n\t\t\tthis.setState.auth = true\r\n\t\t\tthis.props.setLoading(false)\r\n\t\t\treturn true\r\n\t\t} catch (err) {\r\n\t\t\tthis.setState.loading = false\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\r\n\tlogout = () => {\r\n\t\tthis.props.setLoreline(null)\r\n\t\tlocalStorage.removeItem('token')\r\n\t\tthis.setState({ auth: false, userData: null })\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<MuiThemeProvider theme={themes[this.props.colorTheme]}>\r\n\t\t\t\t<Backdrop style={{ zIndex: 2000 }} open={this.props.loading}>\r\n\t\t\t\t\t<CircularProgress color=\"inherit\" />\r\n\t\t\t\t</Backdrop>\r\n\t\t\t\t<CssBaseline />\r\n\t\t\t\t<div className={styleClasses.root}>\r\n\t\t\t\t\t<Router>\r\n\t\t\t\t\t\t{this.state.auth && <Redirect to=\"/app\" />}\r\n\t\t\t\t\t\t<Route path=\"/app\">\r\n\t\t\t\t\t\t\t<Home logout={this.logout} auth={this.state.auth} />\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route exact path=\"/\">\r\n\t\t\t\t\t\t\t<LoginForm className={styleClasses.center} tryLogin={this.tryLogin} />\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route path=\"/forgot\" component={ForgotPassword} />\r\n\t\t\t\t\t\t<Route exact path=\"/register\">\r\n\t\t\t\t\t\t\t<RegisterForm createUser={this.createUser} />\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route path=\"/register/confirm\" component={RegisterConfirmation} />\r\n\t\t\t\t\t</Router>\r\n\t\t\t\t</div>\r\n\t\t\t</MuiThemeProvider>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tuser: state.user,\r\n\t\tloading: state.loading,\r\n\t\tcolorTheme: state.colorTheme,\r\n\t}\r\n}\r\n\r\nfunction matchDispatchToProps(dispatch) {\r\n\treturn bindActionCreators({ setUser: setUser, setLoading: setLoading, setLoreline: setLoreline }, dispatch)\r\n}\r\n\r\nexport default connect(mapStateToProps, matchDispatchToProps)(App)\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","/** @format */\r\n\r\nimport { combineReducers } from 'redux'\r\nimport UserReducer from './UserReducer'\r\nimport DirectoryReducer from './DirectoryReducer'\r\nimport WindowReducer from './WindowReducer'\r\nimport LoadingReducer from './LoadingReducer'\r\nimport ThemeReducer from './ThemeReducer'\r\nimport CurrentLorelineReducer from './CurrentLorelineReducer'\r\nimport LorelineArrayReducer from './LorelineArrayReducer'\r\nimport CurrentEntityReducer from './CurrentEntityReducer'\r\nimport CurrentInstanceReducer from './CurrentInstanceReducer'\r\nimport AxiosInstanceReducer from './AxiosInstanceReducer'\r\n\r\nconst allReducers = combineReducers({\r\n  user: UserReducer,\r\n  directory: DirectoryReducer,\r\n  window: WindowReducer,\r\n  loading: LoadingReducer,\r\n  colorTheme: ThemeReducer,\r\n  lorelineId: CurrentLorelineReducer,\r\n  lorelineArray: LorelineArrayReducer,\r\n  entityId: CurrentEntityReducer,\r\n  instanceId: CurrentInstanceReducer,\r\n  instance: AxiosInstanceReducer\r\n})\r\n\r\nexport default allReducers\r\n","/** @format */\r\n\r\nexport default function(state = {}, action) {\r\n  switch (action.type) {\r\n    case 'USER_SET':\r\n      return action.payload;\r\n    default:\r\n      break;\r\n  }\r\n  return state;\r\n}\r\n","/** @format */\r\n\r\nexport default function(state = {}, action) {\r\n  switch (action.type) {\r\n    case 'DIRECTORY_CHANGED':\r\n      return action.payload;\r\n    default:\r\n      break;\r\n  }\r\n  return state;\r\n}\r\n","/** @format */\r\n\r\nexport default function(state = { width: 100, height: 100 }, action) {\r\n  switch (action.type) {\r\n    case 'SET_WINDOW_HEIGHT':\r\n      return { width: state.width, height: action.payload };\r\n    case 'SET_WINDOW_WIDTH':\r\n      return { width: action.payload, height: state.height };\r\n    default:\r\n      break;\r\n  }\r\n  return state;\r\n}\r\n","/** @format */\r\n\r\nexport default function(state = false, action) {\r\n  switch (action.type) {\r\n    case 'SET_LOADING':\r\n      return action.payload\r\n    default:\r\n      break\r\n  }\r\n  return state\r\n}\r\n","/** @format */\r\n\r\nexport default function(state = 'dark', action) {\r\n  switch (action.type) {\r\n    case 'SET_THEME':\r\n      return action.payload;\r\n    default:\r\n      break;\r\n  }\r\n  return state;\r\n}\r\n","/** @format */\r\n\r\nexport default function(state = null, action) {\r\n  switch (action.type) {\r\n    case 'LORELINE_CHANGED':\r\n      return action.payload\r\n    default:\r\n      break\r\n  }\r\n  return state\r\n}\r\n","/** @format */\r\n\r\nexport default function(state = [], action) {\r\n  switch (action.type) {\r\n    case 'SET_LORELINE_ARRAY':\r\n      return action.payload\r\n    default:\r\n      break\r\n  }\r\n  return state\r\n}\r\n","/** @format */\r\n\r\nexport default function(state = null, action) {\r\n    switch (action.type) {\r\n      case 'ENTITY_CHANGED':\r\n        return action.payload\r\n    }\r\n    return state\r\n  }","/** @format */\r\n\r\nexport default function(state = null, action) {\r\n    switch (action.type) {\r\n      case 'INSTANCEID_CHANGED':\r\n        return action.payload\r\n    }\r\n    return state\r\n  }","/** @format */\r\n\r\nexport default function(state = null, action) {\r\n    switch (action.type) {\r\n      case 'INSTANCE_CHANGED':\r\n        return action.payload\r\n    }\r\n    return state\r\n  }\r\n  ","/** @format */\r\n\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport thunk from 'redux-thunk';\r\nimport allReducers from './reducers';\r\n\r\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(allReducers, composeEnhancer(applyMiddleware(thunk)));\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}