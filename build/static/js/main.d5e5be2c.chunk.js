(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{175:function(e,t,a){e.exports=a.p+"static/media/logo.e2142875.svg"},195:function(e,t,a){e.exports=a(390)},222:function(e,t,a){},390:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(10),i=a.n(l),o=a(12),c=a.n(o),s=a(23),m=a(43),u=a(44),d=a(46),p=a(45),h=a(47),E=a(187),f=a(460),b=a(461),g=a(467),v=a(462),w=a(24),y=a.n(w),x=a(29),O=a(30),k=a(17),j=a(55),C=(a(222),function(e){return console.log("set user to: ",e.name),{type:"USER_SET",payload:e}}),N=function(e){return{type:"LORELINE_CHANGED",payload:e}},S=function(e){return{type:"SET_LOADING",payload:e}},I=function(e){return{type:"SET_WINDOW_WIDTH",payload:e}},D=function(e){return{type:"SET_WINDOW_HEIGHT",payload:e}},L=a(20),A=a(175),T=a.n(A),W=a(176),_=a(423),M=a(51),R=a(463),P=a(428),z=a(431),H=a(434),B=a(429),G=a(430),F=a(432),U=a(433),Z=a(56),X=a.n(Z),V=Object(W.a)((function(e){return{content:{flexGrow:1},link:{color:e.palette.secondary.main,textDecoration:"underline"},field:{width:"20vw",minWidth:"250px"},error:{color:e.palette.error.main}}}));function J(e){var t=Object(n.useState)(""),a=Object(L.a)(t,2),l=a[0],i=a[1],o=Object(n.useState)(""),m=Object(L.a)(o,2),u=m[0],d=m[1],p=Object(n.useState)(!1),h=Object(L.a)(p,2),E=h[0],f=h[1],b=Object(n.useState)(!1),g=Object(L.a)(b,2),v=g[0],w=g[1],y=Object(n.useState)(!1),x=Object(L.a)(y,2),O=x[0],j=x[1],C=V(),N=function(){var t=Object(s.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),f(!0),!X.a.validate(l)||""===u){t.next=10;break}return t.next=5,e.tryLogin(l,u);case 5:return(n=t.sent)||w(!0),t.abrupt("return",n);case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("main",{className:C.content},r.a.createElement("form",null,r.a.createElement(_.a,{style:{minHeight:"100vh",textAlign:"center"},container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement("img",{alt:"logo",src:T.a,width:160}),r.a.createElement("br",null),r.a.createElement(_.a,{item:!0},r.a.createElement(M.a,{style:{padding:2,fontWeight:900,fontSize:50}},"Log in to Lorelines")),r.a.createElement(_.a,{item:!0},r.a.createElement(R.a,{className:C.field,error:E&&""===l||E&&!X.a.validate(l),helperText:E&&""===l?"this field cannot be empty":E&&!X.a.validate(l)?"invalid email address":"",name:"email",label:"Email",type:"email",variant:"outlined",margin:"normal",autoComplete:"off",InputProps:{startAdornment:r.a.createElement(P.a,{position:"start"},r.a.createElement(B.a,{color:"secondary"}))},value:l,onChange:function(e){return i(e.target.value)}})),r.a.createElement(_.a,{item:!0},r.a.createElement(R.a,{className:C.field,error:E&&""===u,helperText:E&&""===u?"this field cannot be empty":"",name:"password",label:"Password",variant:"outlined",margin:"normal",type:O?"text":"password",autoComplete:"off",InputProps:{startAdornment:r.a.createElement(P.a,{position:"start"},r.a.createElement(G.a,{color:"secondary"})),endAdornment:r.a.createElement(P.a,{position:"end"},r.a.createElement(z.a,{"aria-label":"toggle password visibility",onClick:function(){return j(!O)},onMouseDown:function(e){return e.preventDefault()}},O?r.a.createElement(F.a,null):r.a.createElement(U.a,null)))},value:u,onChange:function(e){return d(e.target.value)}})),v&&r.a.createElement(_.a,{item:!0},r.a.createElement(M.a,{className:C.error,style:{padding:5,fontSize:16}},"an incorrect email or password was provided",r.a.createElement("br",null),"please try again")),r.a.createElement(_.a,{item:!0},r.a.createElement(H.a,{style:{marginTop:16,padding:5,fontSize:22,borderRadius:"50px",width:"260px"},type:"submit",color:"primary",variant:"contained",onClick:function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"Log in")),r.a.createElement(_.a,{item:!0},r.a.createElement(M.a,{style:{padding:5,fontSize:16}},"I forgot"," ",r.a.createElement(k.b,{className:C.link,to:"/forgot"},"my password"))),r.a.createElement(_.a,{item:!0},r.a.createElement(M.a,{style:{padding:30,fontSize:20}},"Don't have a Lorelines account?"," ",r.a.createElement(k.b,{className:C.link,to:"/register"},"Click here"))))))}var K=a(60),Y=a(27),$=a(50),q=a(3),Q=a(21),ee=a(435),te=a(437),ae=a(438),ne=a(436),re=a(439),le=Object(W.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},toolbar:Object($.a)({display:"flex",alignItems:"center",justifyContent:"flex-end"},e.mixins.toolbar),logo:Object(Y.a)({fill:"#fff",height:35},e.breakpoints.up("md"),{height:50}),orange:{fill:e.palette.primary.main},logoutButton:{color:e.palette.primary.main,backgroundColor:"white",fontSize:14,fontWeight:"bolder",marginLeft:"auto",marginRight:0,"&:hover":{backgroundColor:"#303030",color:e.palette.primary.main}},logoutIcon:{marginLeft:"auto",marginRight:0}}}));function ie(e){var t=le(),a=Object(Q.a)(),n=Object(ee.a)(a.breakpoints.up("md"));return r.a.createElement("div",{className:t.root},r.a.createElement(te.a,{position:"fixed",className:Object(q.a)(t.appBar,Object(Y.a)({},t.appBarShift,e.drawerOpen))},r.a.createElement(ae.a,null,r.a.createElement(z.a,{color:"inherit","aria-label":"open drawer",onClick:function(){return e.setDrawerOpen(!0)},edge:"start",className:Object(q.a)(t.menuButton,e.drawerOpen&&t.hide)},r.a.createElement(re.a,null)),r.a.createElement("svg",{className:t.logo,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 41.17 41.17"},r.a.createElement("g",{id:"Layer_2","data-name":"Layer 2"},r.a.createElement("g",{id:"Layer_1-2","data-name":"Layer 1"},r.a.createElement("circle",{className:"cls-1",cx:"20.58",cy:"20.58",r:"20.58"}),r.a.createElement("path",{className:t.orange,d:"M16.76,13.22a.46.46,0,0,0,.74-.12l1.21-2.4a1.51,1.51,0,0,0-.91-2.11A1.55,1.55,0,0,0,16,9.43l-.86,1.71a.46.46,0,0,0,.09.54Z"}),r.a.createElement("path",{className:t.orange,d:"M13.08,16.61a.47.47,0,0,0-.75.13L5.46,30.47a1.51,1.51,0,0,0,1.15,2.16,1.54,1.54,0,0,0,1.57-.87l6.53-13.07a.47.47,0,0,0-.09-.54Z"}),r.a.createElement("path",{className:t.orange,d:"M34.56,8.53A1.55,1.55,0,0,0,33,9.41L26.46,22.48a.46.46,0,0,0,.09.53l1.54,1.54a.46.46,0,0,0,.75-.12L35.71,10.7A1.51,1.51,0,0,0,34.56,8.53Z"}),r.a.createElement("path",{className:t.orange,d:"M24.41,28a.46.46,0,0,0-.75.12l-1.2,2.4a1.51,1.51,0,0,0,.91,2.11,1.55,1.55,0,0,0,1.81-.84L26,30a.46.46,0,0,0-.09-.54Z"}),r.a.createElement("path",{className:t.orange,d:"M10.81,8.68a1.51,1.51,0,0,0-2.13,2.13L30.36,32.48a1.5,1.5,0,0,0,2.12-2.12Z"})))),r.a.createElement("svg",{className:t.logo,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 168.56 43.24"},r.a.createElement("g",{id:"Layer_2","data-name":"Layer 2"},r.a.createElement("g",{id:"Layer_1-2","data-name":"Layer 1"},r.a.createElement("path",{className:"cls-1",d:"M21.74,35.33c-6.19,0-11.95,4-15.55,4-.72,0-.92-.48-.92-1C5.27,27.81,21.54,4.2,31.73,4.2c1.28,0,1.8.52,1.8,1.35,0,3.28-8.11,11.31-13.31,11.31-.76,0-.92-.68-1.28-.68s-.36.84-.36,1.08c0,2.56,1.92,3.12,3.88,3.12,6.27,0,15.78-10.19,15.78-16.14C38.24,1.76,36.61,0,32.37,0,15.71,0,0,29.41,0,39c0,2.64,2.76,4.2,5.63,4.2,6.44,0,11.11-3,16.59-3a1.94,1.94,0,0,0,2-2A2.57,2.57,0,0,0,21.74,35.33Z"}),r.a.createElement("path",{className:"cls-1",d:"M88.64,36.53c-1.12,0-1.6.52-2.6.52-1.68,0-2.32-1.6-2.32-4a25.51,25.51,0,0,1,.64-5.12C93.15,25.42,99,18.1,99,13.19c0-2.72-1.76-4.68-5.84-4.68-5.83,0-11.86,9.23-14.14,17.87l-1.68.24a.77.77,0,0,0-.38.1c-.62-.9-2.08-1.5-4.66-1.5a13.2,13.2,0,0,0-7.6,2.42,5.59,5.59,0,0,1-2.31.81c-2.83,0-.72-2.51-4.15-2.51s-7.48,5.11-8,5.11h0c-.08,0-.12-.08-.12-.2a12.1,12.1,0,0,0,.88-3.92c0-.91-.28-1.63-1.12-1.63C48,25.3,44,29.41,39.36,29.41h0a8.15,8.15,0,0,1-8,7.16c-1.36,0-1.76-.76-1.76-1.6,0-3.76,5.92-6,10.91-6.4.64-.2,1.32-1.75,1.32-2.87,0-.64-.2-1.12-.76-1.16s-.88,0-1.32,0c-8.35,0-15,6.87-15,11.63,0,2.55,1.92,4.47,6.43,4.47,5.44,0,11.19-3.39,11.51-7.59A5.54,5.54,0,0,0,46,30.53a1.21,1.21,0,0,1,.36,1c0,1.76-1.8,6.51-1.8,7.27,0,1,1.6,1.36,3.24,1.36,1.87,0,2-1.16,2.83-2.2,1-1.63,4.2-6.39,6-6.39.8,0,1.24.84,2.32.84a6.74,6.74,0,0,0,1.74-.26,7.57,7.57,0,0,0-.86,3.34c0,2.87,2.19,5.27,7.43,5.27,4.39,0,9.11-2,9.11-4.71,0-.6-.44-1-1.24-1-1.48,0-2.4,1.72-5.31,1.72-3.48,0-3.48-1-3.48-1,5.33-.66,10.1-4.33,10.84-7.15a2,2,0,0,0,.91.19h.32a21.72,21.72,0,0,0-.4,4.12c0,4.56,1.76,7.91,6.11,7.91,2.28,0,5.36-1.44,5.36-3.31C89.48,36.81,89.32,36.53,88.64,36.53ZM91.2,12.27c1,0,1.59,1,1.59,2.44,0,2.63-2,6.91-7.51,9.63C87.08,18.26,89.92,12.27,91.2,12.27ZM66,32.69c-.32,0-.4-.16-.4-.4,0-1.88,3.24-4,4.88-4,.56,0,1.11.12,1.11.6C71.61,30.33,68,32.69,66,32.69Z"}),r.a.createElement("path",{className:"cls-1",d:"M101.23,35.05c-1.16,0-.92.84-2.48.84s-2.32-1.32-2.32-2.8c0-1.64,1.68-5.24,1.68-5.88a.75.75,0,0,0-.84-.71,13.7,13.7,0,0,0-4.12,1.11c-1.15,1.76-1.91,6.44-1.91,8.56,0,3.11,2.23,4.31,4.59,4.31,3.12,0,6.72-2.08,6.72-4.51A1.22,1.22,0,0,0,101.23,35.05Z"}),r.a.createElement("path",{className:"cls-1",d:"M162.61,28.89a27.75,27.75,0,0,0-4,.32,5.25,5.25,0,0,0-5-3.95c-5.48,0-14.79,11.71-20.38,11.71-1.44,0-1.64-.64-1.64-1a.49.49,0,0,1,0-.2c5.79-.72,11-5,11-7.88,0-1.51-1.44-2.67-5-2.67-6.41,0-11.31,4.63-12.25,8.81-1,.29-3.2,1.58-4.69,1.58-1,0-1-.84-1-1.28,0-1.32.72-2.12.72-3.6s-1.36-1.92-2.76-1.92c-3,0-7.55,3.68-8.19,3.68a.33.33,0,0,1-.32-.36c0-.6.84-2.12.84-3.44,0-1.16-.68-2.15-3.16-2.15C101,26.54,101,30,101,30c0,.72.36,1.48,1.08,1.48s1.55-.64,2.47-.64a1.44,1.44,0,0,1,1.64,1.52c0,1.76-1.8,5-1.8,6.23,0,1,1.08,1.36,1.88,1.36a2.5,2.5,0,0,0,1.56-.56c.56-.48,5.4-5,6.24-5s.83.4.83,1c0,3,.12,4.47,2.6,4.47a13.56,13.56,0,0,0,7.86-3.05c.61,2.24,2.86,3.93,7.25,3.93,8.51,0,16.5-10.95,19.06-10.95a3.34,3.34,0,0,1,2,.56c-4.84,1.52-9,4-9,7.2,0,1.55,1.44,2.71,4.63,2.71,6.88,0,9.79-4.51,9.79-8.59v0c2.68.24,5.44,1.2,5.44,3.32,0,.4-.08.72-.08,1s.2.4.48.4c1.12,0,3.71-1.68,3.71-3.6S166.61,28.89,162.61,28.89Zm-31.69,3.4c0-1.88,3.24-4,4.87-4,.56,0,1.12.12,1.12.6,0,1.44-3.63,3.8-5.59,3.8C131,32.69,130.92,32.53,130.92,32.29Zm20.34,3.48c-.68,0-1-.36-1-.8,0-1.48,2-2.6,4.36-3.12a3.33,3.33,0,0,1,.12.88C154.78,34.25,153.66,35.77,151.26,35.77Z"})))),r.a.createElement((function(){return n?r.a.createElement(H.a,{className:t.logoutButton,onClick:e.logout},"Log Out"):r.a.createElement(z.a,{className:t.logoutIcon,onClick:e.logout},r.a.createElement(ne.a,null))}),null))),r.a.createElement("div",{className:t.toolbar}))}var oe=a(466),ce=a(441),se=a(427),me=a(392),ue=a(442),de=a(444),pe=a(440),he=a(443),Ee=a(445),fe=a(446),be=a(447),ge=a(448),ve=a(449),we=Object(W.a)((function(e){return{drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{overflowX:"hidden",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(Y.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:58},e.breakpoints.up("sm"),{width:58}),toolbar:Object($.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),link:{color:e.palette.secondary.main,textDecoration:"underline"}}}));function ye(e){var t,a,n=we();return r.a.createElement("div",null,r.a.createElement(oe.a,{variant:"permanent",className:Object(q.a)(n.drawer,(t={},Object(Y.a)(t,n.drawerOpen,e.drawerOpen),Object(Y.a)(t,n.drawerClose,!e.drawerOpen),t)),classes:{paper:Object(q.a)((a={},Object(Y.a)(a,n.drawerOpen,e.drawerOpen),Object(Y.a)(a,n.drawerClose,!e.drawerOpen),a))},open:e.drawerOpen},r.a.createElement("div",{className:n.toolbar},r.a.createElement(z.a,{onClick:function(){return e.setDrawerOpen(!1)}},r.a.createElement(pe.a,{color:"secondary"}))),r.a.createElement(ce.a,null),r.a.createElement(se.a,null,r.a.createElement(k.b,{className:n.link,to:"/app/account"},r.a.createElement(me.a,{button:!0,key:"Account"},r.a.createElement(ue.a,null,r.a.createElement(he.a,{color:"secondary"})),r.a.createElement(de.a,{primary:"Account"}))),r.a.createElement(k.b,{className:n.link,to:"/app/lorelines"},r.a.createElement(me.a,{button:!0,key:"Lorelines"},r.a.createElement(ue.a,null,r.a.createElement(Ee.a,{color:"secondary"})),r.a.createElement(de.a,{primary:"Lorelines"})))),r.a.createElement(ce.a,null),r.a.createElement(se.a,null,r.a.createElement(k.b,{className:n.link,to:"/app/directory/createinstance"},r.a.createElement(me.a,{button:!0,key:"Create Instance"},r.a.createElement(ue.a,null,r.a.createElement(fe.a,{color:"secondary"})),r.a.createElement(de.a,{primary:"Creeeeate"})))),r.a.createElement(ce.a,null),r.a.createElement(se.a,null,r.a.createElement(k.b,{className:n.link,to:"/app/timeline"},r.a.createElement(me.a,{button:!0,key:"Timeline"},r.a.createElement(ue.a,null,r.a.createElement(be.a,{color:"secondary"})),r.a.createElement(de.a,{primary:"Timeline"}))),r.a.createElement(k.b,{className:n.link,to:"/app/directory"},r.a.createElement(me.a,{button:!0,key:"Directory"},r.a.createElement(ue.a,null,r.a.createElement(ge.a,{color:"secondary"})),r.a.createElement(de.a,{primary:"Directory"})))),r.a.createElement(ce.a,null),r.a.createElement(se.a,null,r.a.createElement(k.b,{className:n.link,to:"/app/about"},r.a.createElement(me.a,{button:!0,key:"About Lorelines"},r.a.createElement(ue.a,null,r.a.createElement(ve.a,{color:"secondary"})),r.a.createElement(de.a,{primary:"About Lorelines"}))))))}var xe=a(179),Oe=a.n(xe),ke=a(180),je=a.n(ke),Ce=a(182),Ne=a.n(Ce),Se=a(181),Ie=a.n(Se),De=Object(W.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:120,flexShrink:0},drawerPaper:{width:120},content:{flexGrow:1,padding:e.spacing(3)},toolbar:e.mixins.toolbar}}));function Le(){var e=De();return r.a.createElement("main",{className:e.root},r.a.createElement(_.a,{style:{height:"70vh",width:"70vw",textAlign:"center"},direction:"row",justify:"center",alignItems:"center",container:!0},r.a.createElement(_.a,{item:!0},r.a.createElement(M.a,null,"Canvas and Drag/Drop Components in progress"))),r.a.createElement("div",null,r.a.createElement(oe.a,{className:e.drawer,variant:"permanent",anchor:"right"},r.a.createElement("div",{className:e.toolbar}),r.a.createElement(se.a,null,r.a.createElement(me.a,{button:!0,key:"Event Node"},r.a.createElement(ue.a,null,r.a.createElement(Oe.a,{color:"secondary"})),r.a.createElement(de.a,{primary:"Event Node"})),r.a.createElement(me.a,{button:!0,key:"Branching Event Node"},r.a.createElement(ue.a,null,r.a.createElement(je.a,{color:"secondary"})),r.a.createElement(de.a,{primary:"Branching Node"})),r.a.createElement(me.a,{button:!0,key:"Tether"},r.a.createElement(ue.a,null,r.a.createElement(Ie.a,{color:"secondary"})),r.a.createElement(de.a,{primary:"Tether"})),r.a.createElement(ce.a,null),r.a.createElement(me.a,{button:!0,key:"Warp Node"},r.a.createElement(ue.a,null,r.a.createElement(Ne.a,{color:"secondary"})),r.a.createElement(de.a,{primary:"Warp Node"}))))))}var Ae=Object(W.a)((function(e){return{root:{flexGrow:1},link:{color:e.palette.secondary.main,textDecoration:"underline"}}})),Te=Object(x.b)((function(e){return{user:e.user,window:e.window}}))((function(e){var t=Ae();return r.a.createElement("main",{className:t.root},r.a.createElement(_.a,{style:{height:"70vh",textAlign:"left"},direction:"column",justify:"center",alignItems:"center",container:!0},r.a.createElement(_.a,{item:!0},r.a.createElement(M.a,null,"Hello, ",e.user.name||"null",", this is your account view")),r.a.createElement(_.a,{item:!0},r.a.createElement(M.a,null,"Email: ",e.user.email||"null"),r.a.createElement(M.a,null,"Lorelines: ",r.a.createElement("b",null,"3/5")),r.a.createElement(M.a,null,"Member Since: 12/02/19"))))}));var We=a(452),_e=a(450),Me=a(451),Re=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={open:{},entities:[]},a.handleClick=function(e){return function(){a.setState(Object(Y.a)({},e,!a.state[e]))}},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;y.a.get("https://lorelines-expressapi.herokuapp.com/api/lorelines/".concat(this.props.lorelineId,"/directory/")).then((function(t){var a=t.data;e.setState({entities:a})}))}},{key:"render",value:function(){var e=this;return r.a.createElement(se.a,null,this.state.entities.map((function(t){var a=e.state[t.id]||!1;return r.a.createElement("div",{key:t.id},r.a.createElement(me.a,{button:!0,onClick:e.handleClick(t.id)},r.a.createElement(de.a,{primary:t.name}),a?r.a.createElement(_e.a,null):r.a.createElement(Me.a,null)),r.a.createElement(We.a,{in:a,timeout:"auto",unmountOnExit:!0},r.a.createElement(se.a,{component:"div",disablePadding:!0},t.instances.map((function(e){return r.a.createElement(me.a,{key:e.id,button:!0},r.a.createElement(M.a,null,e.name))})))))})))}}]),t}(n.Component);var Pe=Object(x.b)((function(e){return{entities:e.entities,lorelineId:e.lorelineId}}))(Re),ze=Object(W.a)((function(e){return{root:{display:"flex"},drawer:{width:120,flexShrink:0},drawerPaper:{width:120},content:{flexGrow:1,padding:e.spacing(3)},toolbar:e.mixins.toolbar}}));function He(e){var t=ze();return r.a.createElement("main",{className:t.root},r.a.createElement("div",null,r.a.createElement(oe.a,{className:t.drawer,variant:"permanent",anchor:"right"},r.a.createElement("div",{className:t.toolbar}),r.a.createElement(Pe,null))))}Object(W.a)((function(e){return{root:{flexGrow:1},link:{color:e.palette.secondary.main,textDecoration:"underline"}}}));var Be=a(465),Ge=a(453),Fe=a(454),Ue=a(455),Ze=a(183),Xe=a.n(Ze),Ve=Object(W.a)((function(e){return{content:{flexGrow:1},link:{color:e.palette.secondary.main,textDecoration:"underline"},field:{width:"20vw",minWidth:"250px"},error:{color:e.palette.error.main}}})),Je=Object(x.b)((function(e){return{user:e.user}}),(function(e){return Object(O.b)({setLoreline:N},e)}))((function(e){var t=Ve(),a=r.a.useState(!1),l=Object(L.a)(a,2),i=l[0],o=l[1],m=Object(n.useState)(""),u=Object(L.a)(m,2),d=u[0],p=u[1],h=Object(n.useState)(!1),E=Object(L.a)(h,2),f=E[0],b=E[1],g=Object(n.useState)(!1),v=Object(L.a)(g,2),w=(v[0],v[1]),x=Object(n.useState)([]),O=Object(L.a)(x,2),k=O[0],j=O[1],C=r.a.useState({loreLineName:""}),N=Object(L.a)(C,2),S=(N[0],N[1],function(){var t=Object(s.a)(c.a.mark((function t(){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.a.get("https://lorelines-expressapi.herokuapp.com/api/users/".concat(e.user.id,"/lorelines"));case 3:a=t.sent,j(a.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}());Object(n.useEffect)((function(){S()}),[]);var I=function(e,t){"clickaway"!==t&&o(!1)},D=function(){var t=Object(s.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),b(!0),""===d){t.next=14;break}return t.next=5,e.tryLorelineAdd(d);case 5:return n=t.sent,p(""),b(!1),S(),o(!0),n||w(!0),t.abrupt("return",n);case 14:return t.abrupt("return",!1);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("main",{className:t.root},r.a.createElement("form",null,r.a.createElement("div",{width:"100vw"},r.a.createElement(_.a,{container:!0,direction:"row",justify:"center",allignment:"center"},r.a.createElement(_.a,{item:!0},r.a.createElement(M.a,{style:{marginTop:25,marginInlineStart:20,marginBottom:25,fontSize:22,borderRadius:"50px",width:"150px"},varient:"contained",color:"primary"},"Add Loreline:")),r.a.createElement(_.a,{item:!0},r.a.createElement(R.a,{error:f&&""===d,helperText:f&&""===d?"This field cannot be empty!":"",className:t.field,name:"LorelineName",label:"Loreline Name:",variant:"outlined",margin:"normal",autoComplete:"off",value:d,onChange:function(e){return p(e.target.value)}})),r.a.createElement(_.a,{item:!0},r.a.createElement(H.a,{style:{maxWidth:"90px",maxHeight:"55px",minWidth:"90px",minHeight:"55px",marginInlineStart:10,marginTop:16,padding:5,fontSize:15,borderRadius:"50px"},type:"submit",color:"primary",variant:"contained",onClick:function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"Submit"),r.a.createElement(Be.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:i,autoHideDuration:6e3,onClose:I,message:"Loreline Added",action:r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{size:"small","aria-label":"close",color:"inherit",onClick:I},r.a.createElement(Xe.a,{fontSize:"small"})))})))),r.a.createElement(ce.a,null),r.a.createElement(M.a,{style:{marginInlineStart:20,fontSize:20},color:"primary"},"My Lorelines:"),r.a.createElement("div",{className:t.root},r.a.createElement(_.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},k.map((function(t){return r.a.createElement(_.a,{item:!0,key:k.indexOf(t)},r.a.createElement(Ge.a,{style:{margin:10,width:250,height:140}},r.a.createElement(Fe.a,{onClick:function(){e.setLoreline(t._id)}},r.a.createElement(Ue.a,{title:"".concat(t.name),subheader:"Last Modified: ".concat(Date(t.modified))}))))}))))))}));var Ke=a(424),Ye=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).state={fields:[],name:[]},e.SaveInstance=e.SaveInstance.bind(Object(K.a)(e)),e.componentDidMount=e.componentDidMount.bind(Object(K.a)(e)),e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"SaveInstance",value:function(e){e.preventDefault();var t,a=e.nativeEvent,n={name:String,content:[]};n.name=a.target[0].value,this.state.fields.map((function(e,r){(t={content:[],type:Number,name:String}).content=a.target[r+1].value,t.type=e.type,t.name=e.name,n.content.push(t)})),console.log(JSON.stringify(n)),y.a.post("http://localhost:8080/api/lorelines/5e44c8b56a5d003218847a9f/entities/5e44cf2f6a5d003218847aa1/instances",n).then((function(){console.log("Entity instance addded to database!")})),document.getElementById("EntForm").reset()}},{key:"componentDidMount",value:function(){var e=Object(s.a)(c.a.mark((function e(){var t=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.a.get("http://localhost:8080/api/lorelines/5e44c8b56a5d003218847a9f/entities/5e44cf2f6a5d003218847aa1/content").then((function(e){var a=e.data;t.setState({fields:a})})),y.a.get("http://localhost:8080/api/lorelines/5e44c8b56a5d003218847a9f/entities/5e44cf2f6a5d003218847aa1/name").then((function(e){var a=e.data;t.setState({name:a})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("ul",null,r.a.createElement(M.a,{style:{marginTop:5,marginInlineStart:20,marginBottom:5,fontSize:22,borderRadius:"50px",width:"150px"},varient:"contained",color:"primary"},"Add ",this.state.name),r.a.createElement("form",{id:"EntForm",onSubmit:this.SaveInstance},r.a.createElement(M.a,null,"name"),r.a.createElement(Ke.a,{id:"outlined-basic",varient:"outlined"}),this.state.fields.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(M.a,null," ",e.name," "),r.a.createElement(Ke.a,{id:"outlined-basic",varient:"outlined"}))})),r.a.createElement(H.a,{style:{maxWidth:"90px",maxHeight:"55px",minWidth:"90px",minHeight:"55px",marginInlineStart:10,marginTop:16,padding:5,fontSize:15,borderRadius:"50px",width:"150px"},color:"primary",type:"submit",variant:"contained"},"Submit")))}}]),t}(r.a.Component),$e=a(74),qe=a(468),Qe=a(188),et=a(458),tt=a(457),at=a(459),nt=a(394),rt=a(456),lt=Object(W.a)((function(e){return{root:{flex:1},card:{minWidth:300,padding:10},input:{flex:1},delete:{marginLeft:"auto"},content:{flex:1}}}));function it(e){var t=lt();return r.a.createElement("main",{className:t.root},r.a.createElement(Ge.a,{className:t.card},r.a.createElement(_.a,{container:!0,direction:"column"},r.a.createElement(_.a,{xs:!0,item:!0,container:!0,direction:"row"},r.a.createElement(_.a,{xs:!0,item:!0},r.a.createElement(nt.a,{className:t.input,placeholder:"Label",onChange:function(t){e.changeLabel(e.index,t.target.value)},value:e.label})),r.a.createElement(_.a,{item:!0},r.a.createElement(M.a,{variant:"overline"},e.typeName))),r.a.createElement(_.a,{item:!0},r.a.createElement(qe.a,{title:"Delete ".concat(e.typeName)},r.a.createElement(z.a,{"aria-label":"delete",className:t.delete,onClick:function(){return e.remove(e.index)}},r.a.createElement(rt.a,null)))))))}var ot=Object(W.a)((function(e){return{root:{flex:1},card:{minWidth:300,padding:10},input:{flex:1},delete:{marginLeft:"auto"},content:{flex:1}}}));function ct(e){var t=ot();return r.a.createElement("main",{className:t.root},r.a.createElement(Ge.a,{className:t.card},r.a.createElement(_.a,{container:!0,direction:"column"},r.a.createElement(_.a,{xs:!0,item:!0,container:!0,direction:"row"},r.a.createElement(_.a,{xs:!0,item:!0},r.a.createElement(qe.a,{title:"Delete divider"},r.a.createElement(z.a,{"aria-label":"delete",className:t.delete,onClick:function(){return e.remove(e.index)}},r.a.createElement(rt.a,null)))),r.a.createElement(_.a,{item:!0},r.a.createElement(M.a,{variant:"overline"},"DIVIDER"))))))}var st=Object(W.a)((function(e){return{root:{flex:1},card:{minWidth:300,padding:10},input:{flex:1},delete:{marginLeft:"auto"},content:{flex:1}}}));function mt(e){var t=Object(n.useState)([]),a=Object(L.a)(t,2),l=a[0],i=a[1],o=st(),c=function(t){i(t),e.setOptions(e.index,l)},s=function(e){var t=Object($e.a)(l);t.splice(e,1),c(t)},m=function(e,t){var a=Object($e.a)(l);a[e].label=t,c(a)};return r.a.createElement("main",{className:o.root},r.a.createElement(qe.a,{title:"The first option will be the default"},r.a.createElement(Ge.a,{className:o.card},r.a.createElement(_.a,{container:!0,direction:"column"},r.a.createElement(_.a,{xs:!0,item:!0,container:!0,direction:"row"},r.a.createElement(_.a,{xs:!0,item:!0},r.a.createElement(nt.a,{className:o.input,placeholder:"Label",onChange:function(t){e.changeLabel(e.index,t.target.value)},value:e.label})),r.a.createElement(_.a,{item:!0},r.a.createElement(M.a,{variant:"overline"},"radio list"))),r.a.createElement(_.a,{item:!0},r.a.createElement(se.a,null,l.map((function(e,t){return r.a.createElement(me.a,{key:e+t},r.a.createElement(ut,{index:t,removeOption:s,changeLabel:m,label:e.label}))})),r.a.createElement(H.a,{startIcon:r.a.createElement(tt.a,null),variant:"contained",color:"secondary",onClick:function(){var e=l.concat({label:""});console.log(l),c(e)}},"Add Option"))),r.a.createElement(_.a,{item:!0},r.a.createElement(qe.a,{title:"Delete radio list"},r.a.createElement(z.a,{"aria-label":"delete",className:o.delete,onClick:function(){return e.remove(e.index)}},r.a.createElement(rt.a,null))))))))}function ut(e){var t=st();return r.a.createElement(_.a,{container:!0,direction:"row"},r.a.createElement(_.a,{xs:!0,item:!0},r.a.createElement(nt.a,{className:t.input,placeholder:"Option Name",onChange:function(t){e.changeLabel(e.index,t.target.value)},value:e.label})),r.a.createElement(_.a,{item:!0},r.a.createElement(qe.a,{title:"Delete option",placement:"right"},r.a.createElement(z.a,{size:"small",onClick:function(){return e.removeOption(e.index)}},r.a.createElement(rt.a,null)))))}var dt=a(185),pt=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).test_AddEntityToDB=function(){var e=Object(s.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("name: ",t.name),console.log("color: ",t.color),console.log("content: ",t.content),e.prev=3,e.next=6,y.a.post("http://localhost:8080/api/lorelines/5e59acba0252cc001721c058/entities",{name:t.name,color:t.color,content:t.content});case 6:a=e.sent,n=a.data,console.log(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),a.handleAddItem=function(e,t){a.setState({fields:[].concat(Object($e.a)(a.state.fields),[{commonName:e,actualName:t,label:""}])}),a.handleMenuClose()},a.handleRemoveItem=function(e){var t=Object($e.a)(a.state.fields);t.splice(e,1),a.setState({fields:t})},a.handleMenuClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleFieldLabelChange=function(e,t){var n=a.state.fields;n[e].label=t,a.setState({fields:n})},a.handleMenuClose=function(){a.setState({anchorEl:null})},a.handleNameChange=function(e){return a.setState({name:e.target.value})},a.handleColorChange=function(e){return a.setState({color:e.hex})},a.handleSetRadioOptions=function(e,t){var n=a.state.fields;n[e].options=t,a.setState({fields:n})},a.handleCreateEntity=function(){var e=[];a.state.fields.map((function(t,a){e=e.concat({type:t.actualName,name:t.label}),"RADIOLIST_FIELD"===t.actualName&&(console.log("field ",a," is a radio list"),e[a].content=[],t.options.map((function(t){console.log("content: ",e," | index: ",a," | option: ",t),e[a].content=e[a].content.concat({name:t.label})})))}));var t={name:a.state.name,color:a.state.color,content:e};console.log(t),a.test_AddEntityToDB(t)},a.state={name:"",color:"#f78d1e",fields:[],anchorEl:null},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(_.a,{style:{textAlign:"center"},container:!0,direction:"column",justify:"center",alignItems:"center",spacing:2},r.a.createElement(_.a,{item:!0},r.a.createElement(R.a,{label:"Custom Entity Name",value:this.state.name,onChange:this.handleNameChange,inputProps:{style:{color:this.state.color}}})),r.a.createElement(_.a,{item:!0},r.a.createElement(qe.a,{title:"Select a color for your custom entity"},r.a.createElement(dt.BlockPicker,{color:this.state.color,onChangeComplete:this.handleColorChange,width:"300"}))),r.a.createElement(_.a,{item:!0},r.a.createElement(se.a,null,this.state.fields.map((function(t,a){return"SECTION_DIVIDER"===t.actualName?r.a.createElement(me.a,{key:t+a},r.a.createElement(ct,{index:a,remove:e.handleRemoveItem,label:t.label})):"RADIOLIST_FIELD"===t.actualName?r.a.createElement(me.a,{key:t+a},r.a.createElement(mt,{index:a,remove:e.handleRemoveItem,changeLabel:e.handleFieldLabelChange,label:t.label,setOptions:e.handleSetRadioOptions})):r.a.createElement(me.a,{key:t+a},r.a.createElement(it,{index:a,typeName:t.commonName,remove:e.handleRemoveItem,changeLabel:e.handleFieldLabelChange,label:t.label}))})))),r.a.createElement(_.a,{item:!0},r.a.createElement(H.a,{startIcon:r.a.createElement(tt.a,null),variant:"contained",color:"primary",style:{width:150},onClick:this.handleMenuClick},"Add Field"),r.a.createElement(Qe.a,{id:"simple-menu",anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:this.handleMenuClose},r.a.createElement(et.a,{onClick:function(){return e.handleAddItem("text","TEXT_FIELD")}},"Text"),r.a.createElement(qe.a,{title:"A list of references to other instances",placement:"right"},r.a.createElement(et.a,{onClick:function(){return e.handleAddItem("list","LIST_FIELD")}},"List")),r.a.createElement(qe.a,{title:"A single reference to another instance",placement:"right"},r.a.createElement(et.a,{onClick:function(){return e.handleAddItem("reference","REFERENCE_FIELD")}},"Reference")),r.a.createElement(et.a,{onClick:function(){return e.handleAddItem("checkbox","CHECKBOX_FIELD")}},"Checkbox"),r.a.createElement(qe.a,{title:"A list of options in which only one can be true",placement:"right"},r.a.createElement(et.a,{onClick:function(){return e.handleAddItem("radiolist","RADIOLIST_FIELD")}},"Radio List")),r.a.createElement(et.a,{onClick:function(){return e.handleAddItem("image","IMAGE_FIELD")}},"Image"),r.a.createElement(qe.a,{title:"A bold header for organization",placement:"right"},r.a.createElement(et.a,{onClick:function(){return e.handleAddItem("header","SECTION_HEADER")}},"Header")),r.a.createElement(qe.a,{title:"A vertical line to break up your sections",placement:"right"},r.a.createElement(et.a,{onClick:function(){return e.handleAddItem("divider","SECTION_DIVIDER")}},"Divider")))),r.a.createElement(_.a,{item:!0},r.a.createElement(H.a,{startIcon:r.a.createElement(at.a,null),variant:"contained",color:"primary",style:{width:150},onClick:this.handleCreateEntity},"Create")))}}]),t}(n.Component);var ht=Object(x.b)((function(e){return{entities:e.entities,lorelineId:e.lorelineId}}))(pt),Et=function(){return{root:{display:"flex"},box:{width:"100px",height:"100px",borderStyle:"solid",borderWidth:"2px 2px 2px 2px",backgroundColor:"red"},drawer:{openWidth:240,closedWidth:58},topBar:{height:64}}},ft=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).toggleDrawer=function(e){a.state.drawerOpen=e,a.updateWindowDimensions()},a.tryLorelineAdd=function(){var e=Object(s.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.post("https://lorelines-expressapi.herokuapp.com/api/users/".concat(a.props.user.id,"/lorelines"),{name:t});case 3:return n=e.sent,n.data,e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),a.state={drawerOpen:!1,width:0,height:0},a.updateWindowDimensions=a.updateWindowDimensions.bind(Object(K.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){this.state.drawerOpen?this.state.width=window.innerWidth-240:this.state.width=window.innerWidth-58,this.state.height=window.innerHeight-64,this.props.setWindowWidth(this.state.width),this.props.setWindowHeight(this.state.height)}},{key:"render",value:function(){return r.a.createElement("div",null,!this.props.auth&&r.a.createElement(j.a,{to:"/"}),r.a.createElement(ie,{logout:this.props.logout,drawerOpen:this.state.drawerOpen,setDrawerOpen:this.toggleDrawer}),r.a.createElement("div",{className:Et.root},r.a.createElement(ye,{drawerOpen:this.state.drawerOpen,setDrawerOpen:this.toggleDrawer}),r.a.createElement("div",{width:this.props.window.width/3,height:this.props.window.height/3,style:{marginLeft:this.state.drawerOpen?240:58,marginTop:64}},r.a.createElement(j.b,{path:"/app/account"},r.a.createElement(Te,null)),r.a.createElement(j.b,{path:"/app/lorelines"},r.a.createElement(Je,{tryLorelineAdd:this.tryLorelineAdd})),r.a.createElement(j.b,{path:"/app/new"},r.a.createElement("h1",null,"Hello, World")),r.a.createElement(j.b,{path:"/app/timeline"},r.a.createElement(Le,null)),r.a.createElement(j.b,{path:"/app/directory"},r.a.createElement(He,null)),r.a.createElement(j.b,{path:"/app/about"},r.a.createElement(ht,null)),r.a.createElement(j.b,{path:"/app/directory/createinstance"},r.a.createElement(Ye,null)))))}}]),t}(n.Component);var bt=Object(x.b)((function(e){return{user:e.user,window:e.window}}),(function(e){return Object(O.b)({setWindowWidth:I,setWindowHeight:D},e)}))(ft),gt=Object(W.a)((function(e){return{root:{flexGrow:1},field:{width:"23vw",minWidth:"250px"},link:{color:e.palette.secondary.main,textDecoration:"underline"},error:{color:e.palette.error.main}}}));function vt(e){var t=gt(),a=r.a.useState({name:"",email:"",confirmEmail:"",password:"",confirmPassword:"",showPassword:!1,showConfirmPassword:!1,submitAttempted:!1,emailExists:!1}),n=Object(L.a)(a,2),l=n[0],i=n[1],o=function(e){return function(t){i(Object($.a)({},l,Object(Y.a)({},e,t.target.value)))}},c=function(e){e.preventDefault()};return r.a.createElement("main",{className:t.root},r.a.createElement("form",null,r.a.createElement(_.a,{style:{minHeight:"100vh",textAlign:"center"},direction:"column",justify:"center",alignItems:"center",container:!0},r.a.createElement(_.a,{item:!0},r.a.createElement(M.a,{style:{padding:2,fontWeight:"bold",fontSize:42}},"Create a new Lorelines account")),l.emailExists&&r.a.createElement(_.a,{item:!0},r.a.createElement(M.a,{className:t.error,style:{padding:5,fontSize:16}},"a user with that email already exists")),r.a.createElement(_.a,{item:!0},r.a.createElement(R.a,{className:t.field,name:"name",label:"Name",margin:"normal",value:l.name,onChange:o("name"),error:l.submitAttempted&&""===l.name,helperText:l.submitAttempted&&""===l.name?"this field cannot be empty":""})),r.a.createElement(_.a,{item:!0},r.a.createElement(R.a,{className:t.field,name:"email",label:"Email",margin:"normal",value:l.email,onChange:o("email"),error:l.submitAttempted&&""===l.email||l.submitAttempted&&!1===X.a.validate(l.email),helperText:l.submitAttempted&&""===l.email?"this field cannot be empty":l.submitAttempted&&!1===X.a.validate(l.email)?"invalid email address":""})),r.a.createElement(_.a,{item:!0},r.a.createElement(R.a,{className:t.field,name:"confirmEmail",label:"Confirm Email",margin:"normal",value:l.confirmEmail,onChange:o("confirmEmail"),error:l.email!==l.confirmEmail||l.submitAttempted&&""===l.confirmEmail,helperText:l.submitAttempted&&""===l.confirmEmail?"this field cannot be empty":l.email!==l.confirmEmail?"emails do not match":""})),r.a.createElement(_.a,{item:!0},r.a.createElement(R.a,{className:t.field,name:"pass",label:"Password",margin:"normal",type:l.showPassword?"text":"password",value:l.password,onChange:o("password"),error:l.submitAttempted&&""===l.password,helperText:l.submitAttempted&&""===l.password?"this field cannot be empty":"",InputProps:{endAdornment:r.a.createElement(P.a,{position:"end"},r.a.createElement(z.a,{"aria-label":"toggle password visibility",onClick:function(){i(Object($.a)({},l,{showPassword:!l.showPassword}))},onMouseDown:c},l.showPassword?r.a.createElement(F.a,null):r.a.createElement(U.a,null)))}})),r.a.createElement(_.a,{item:!0},r.a.createElement(R.a,{className:t.field,name:"confirmpass",label:"Confirm Password",margin:"normal",type:l.showConfirmPassword?"text":"password",value:l.confirmpassword,onChange:o("confirmPassword"),error:l.password!==l.confirmPassword||l.submitAttempted&&""===l.confirmPassword,helperText:l.submitAttempted&&""===l.confirmPassword?"this field cannot be empty":l.password!==l.confirmPassword?"passwords do not match":"",InputProps:{endAdornment:r.a.createElement(P.a,{position:"end"},r.a.createElement(z.a,{"aria-label":"toggle password visibility",onClick:function(){i(Object($.a)({},l,{showConfirmPassword:!l.showConfirmPassword}))},onMouseDown:c},l.showConfirmPassword?r.a.createElement(F.a,null):r.a.createElement(U.a,null)))}})),r.a.createElement(_.a,{item:!0},r.a.createElement(H.a,{style:{marginTop:16,padding:5,fontSize:22,borderRadius:"50px",width:"260px"},type:"submit",color:"primary",variant:"contained",onClick:function(t){if(t.preventDefault(),i(Object($.a)({},l,{submitAttempted:!0})),!0===X.a.validate(l.email)&&l.email===l.confirmEmail&&""!==l.password&&l.password===l.confirmPassword){var a=!e.createUser(l.name,l.email,l.password);a&&console.log("email exists"),i(Object($.a)({},l,{emailExists:a}))}}},"Submit")),r.a.createElement(_.a,{item:!0},r.a.createElement(M.a,{style:{padding:5,fontSize:16}},r.a.createElement(k.b,{className:t.link,to:"/"},"Go back"))))))}var wt=Object(W.a)((function(e){return{root:{flexGrow:1},link:{color:e.palette.secondary.main,textDecoration:"underline"}}}));function yt(){var e=wt();return r.a.createElement("main",{className:e.root},r.a.createElement(_.a,{style:{minHeight:"100vh",textAlign:"center"},direction:"column",justify:"center",alignItems:"center",container:!0},r.a.createElement(_.a,{item:!0},r.a.createElement(M.a,null,"Thank you for creating a Lorelines account")),r.a.createElement(_.a,{item:!0},r.a.createElement(M.a,null,r.a.createElement(k.b,{className:e.link,to:"/"},"return to login")))))}var xt=Object(W.a)((function(e){return{root:{flexGrow:1},link:{color:e.palette.secondary.main,textDecoration:"underline"}}}));function Ot(){var e=xt();return r.a.createElement("main",{className:e.root},r.a.createElement(_.a,{style:{height:"100vh",textAlign:"center"},direction:"column",justify:"center",alignItems:"center",container:!0},r.a.createElement(_.a,{item:!0},r.a.createElement(M.a,null,"oof that sucks")),r.a.createElement(_.a,{item:!0},r.a.createElement(M.a,null,r.a.createElement(k.b,{className:e.link,to:"/"},"return to login")))))}var kt=a(387),jt=Object(E.a)({palette:{primary:{main:"#f78d1e",contrastText:"#fff"},drawer:{main:"#d9d9d9",text:"#fff",icons:"#000"},secondary:{main:"#000"},error:{main:"#ff0000"}}}),Ct={dark:Object(E.a)({palette:{primary:{main:"#f78d1e",contrastText:"#fff"},drawer:{main:"#222",text:"#fff",icons:"#fff"},secondary:{main:"#fff"},error:{main:"#ff0000"},type:"dark"}}),light:jt},Nt=function(e){return{root:{display:"flex"},center:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center"},backdrop:{zIndex:1e3,color:"#fff"}}},St=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).tryLogin=function(){var e=Object(s.a)(c.a.mark((function e(t,n){var r,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState.loading=!0,e.next=4,y.a.post("https://lorelines-expressapi.herokuapp.com/api/users/token",{email:t,password:n});case 4:return r=e.sent,l=r.data,localStorage.setItem("token",l),a.setState({loading:!1,auth:!0}),a.props.setUser(kt(l)),e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(0),a.setState.loading=!1,e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a){return e.apply(this,arguments)}}(),a.createUser=function(){var e=Object(s.a)(c.a.mark((function e(t,n,r){var l,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState.loading=!0,e.next=4,y.a.post("https://lorelines-expressapi.herokuapp.com/api/users",{name:t,email:n,password:r});case 4:return l=e.sent,i=l.data,localStorage.setItem("token",i),a.setState.auth=!0,a.props.setLoading(!1),e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(0),a.setState.loading=!1,e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a,n){return e.apply(this,arguments)}}(),a.logout=function(){localStorage.removeItem("token"),a.setState({auth:!1,userData:null}),console.log("LOGGING OUT")},a.state={auth:!1},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("MOUNTED 1");var t=localStorage.getItem("token");t&&y.a.put("https://lorelines-expressapi.herokuapp.com/api/users/token",{token:t}).then((function(t){localStorage.setItem("token",t.data),e.setState({auth:!0,userData:kt(t.data)});var a=kt(t.data);e.props.setUser({id:a.id,name:a.name,email:a.email}),console.log(e.state.userData)})).catch((function(e){return console.log(e)})),console.log("MOUNTED 2")}},{key:"render",value:function(){return r.a.createElement(f.a,{theme:Ct[this.props.colorTheme]},r.a.createElement(b.a,null),r.a.createElement(k.a,null,r.a.createElement("div",{className:Nt.root},r.a.createElement(g.a,{className:Nt.backdrop,open:this.props.loading},r.a.createElement(v.a,{color:"inherit"})),this.state.auth&&r.a.createElement(j.a,{to:"/app"}),r.a.createElement(j.b,{path:"/app"},r.a.createElement(bt,{logout:this.logout,auth:this.state.auth})),r.a.createElement(j.b,{exact:!0,path:"/"},r.a.createElement(J,{className:Nt.center,tryLogin:this.tryLogin})),r.a.createElement(j.b,{path:"/forgot",component:Ot}),r.a.createElement(j.b,{exact:!0,path:"/register"},r.a.createElement(vt,{createUser:this.createUser})),r.a.createElement(j.b,{path:"/register/confirm",component:yt}))))}}]),t}(n.Component);var It=Object(x.b)((function(e){return{user:e.user,loading:e.loading,colorTheme:e.colorTheme}}),(function(e){return Object(O.b)({setUser:C,setLoading:S},e)}))(St);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Dt=a(186),Lt=Object(O.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_SET":return t.payload}return e},directory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DIRECTORY_CHANGED":return t.payload}return e},window:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:100,height:100},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_WINDOW_HEIGHT":return{width:e.width,height:t.payload};case"SET_WINDOW_WIDTH":return{width:t.payload,height:e.height}}return e},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADING":return t.payload}return e},colorTheme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dark",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_THEME":return t.payload}return e},lorelineId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LORELINE_CHANGED":return t.payload}return e}}),At=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||O.d,Tt=Object(O.e)(Lt,At(Object(O.a)(Dt.a)));i.a.render(r.a.createElement(x.a,{store:Tt},r.a.createElement(It,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[195,1,2]]]);
//# sourceMappingURL=main.d5e5be2c.chunk.js.map